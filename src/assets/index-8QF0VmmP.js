var Ab=Object.defineProperty;var kb=(t,e,n)=>e in t?Ab(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qh=(t,e,n)=>(kb(t,typeof e!="symbol"?e+"":e,n),n);function Nb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ob(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ME={exports:{}},Td={},VE={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),Db=Symbol.for("react.portal"),jb=Symbol.for("react.fragment"),Lb=Symbol.for("react.strict_mode"),$b=Symbol.for("react.profiler"),Mb=Symbol.for("react.provider"),Vb=Symbol.for("react.context"),Fb=Symbol.for("react.forward_ref"),Ub=Symbol.for("react.suspense"),zb=Symbol.for("react.memo"),Bb=Symbol.for("react.lazy"),Zv=Symbol.iterator;function Hb(t){return t===null||typeof t!="object"?null:(t=Zv&&t[Zv]||t["@@iterator"],typeof t=="function"?t:null)}var FE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UE=Object.assign,zE={};function mo(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||FE}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BE(){}BE.prototype=mo.prototype;function Qm(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||FE}var Ym=Qm.prototype=new BE;Ym.constructor=Qm;UE(Ym,mo.prototype);Ym.isPureReactComponent=!0;var e_=Array.isArray,HE=Object.prototype.hasOwnProperty,Xm={current:null},WE={key:!0,ref:!0,__self:!0,__source:!0};function qE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HE.call(e,r)&&!WE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fl,type:t,key:s,ref:o,props:i,_owner:Xm.current}}function Wb(t,e){return{$$typeof:fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jm(t){return typeof t=="object"&&t!==null&&t.$$typeof===fl}function qb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var t_=/\/+/g;function Kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qb(""+t.key):e.toString(36)}function Pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fl:case Db:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Kh(o,0):r,e_(i)?(n="",t!=null&&(n=t.replace(t_,"$&/")+"/"),Pc(i,e,n,"",function(c){return c})):i!=null&&(Jm(i)&&(i=Wb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(t_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",e_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Kh(s,a);o+=Pc(s,e,n,l,i)}else if(l=Hb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Kh(s,a++),o+=Pc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ql(t,e,n){if(t==null)return t;var r=[],i=0;return Pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Kb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},Ac={transition:null},Gb={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:Xm};ie.Children={map:Ql,forEach:function(t,e,n){Ql(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ql(t,function(){e++}),e},toArray:function(t){return Ql(t,function(e){return e})||[]},only:function(t){if(!Jm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=mo;ie.Fragment=jb;ie.Profiler=$b;ie.PureComponent=Qm;ie.StrictMode=Lb;ie.Suspense=Ub;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gb;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HE.call(e,l)&&!WE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fl,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:Vb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mb,_context:t},t.Consumer=t};ie.createElement=qE;ie.createFactory=function(t){var e=qE.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:Fb,render:t}};ie.isValidElement=Jm;ie.lazy=function(t){return{$$typeof:Bb,_payload:{_status:-1,_result:t},_init:Kb}};ie.memo=function(t,e){return{$$typeof:zb,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ie.useCallback=function(t,e){return kt.current.useCallback(t,e)};ie.useContext=function(t){return kt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return kt.current.useEffect(t,e)};ie.useId=function(){return kt.current.useId()};ie.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return kt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ie.useRef=function(t){return kt.current.useRef(t)};ie.useState=function(t){return kt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return kt.current.useTransition()};ie.version="18.2.0";VE.exports=ie;var _=VE.exports;const H=Ob(_),ep=Nb({__proto__:null,default:H},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb=_,Yb=Symbol.for("react.element"),Xb=Symbol.for("react.fragment"),Jb=Object.prototype.hasOwnProperty,Zb=Qb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eP={key:!0,ref:!0,__self:!0,__source:!0};function KE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Jb.call(e,r)&&!eP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Yb,type:t,key:s,ref:o,props:i,_owner:Zb.current}}Td.Fragment=Xb;Td.jsx=KE;Td.jsxs=KE;ME.exports=Td;var h=ME.exports,GE={exports:{}},tn={},QE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var z=O.length;O.push(V);e:for(;0<z;){var ae=z-1>>>1,Z=O[ae];if(0<i(Z,V))O[ae]=V,O[z]=Z,z=ae;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],z=O.pop();if(z!==V){O[0]=z;e:for(var ae=0,Z=O.length,j=Z>>>1;ae<j;){var W=2*(ae+1)-1,ee=O[W],B=W+1,ne=O[B];if(0>i(ee,z))B<Z&&0>i(ne,ee)?(O[ae]=ne,O[B]=z,ae=B):(O[ae]=ee,O[W]=z,ae=W);else if(B<Z&&0>i(ne,z))O[ae]=ne,O[B]=z,ae=B;else break e}}return V}function i(O,V){var z=O.sortIndex-V.sortIndex;return z!==0?z:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,g=!1,v=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=O)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function w(O){if(E=!1,m(O),!v)if(n(l)!==null)v=!0,jt(T);else{var V=n(c);V!==null&&dt(w,V.startTime-O)}}function T(O,V){v=!1,E&&(E=!1,y(x),x=-1),g=!0;var z=f;try{for(m(V),d=n(l);d!==null&&(!(d.expirationTime>V)||O&&!he());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,f=d.priorityLevel;var Z=ae(d.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),m(V)}else r(l);d=n(l)}if(d!==null)var j=!0;else{var W=n(c);W!==null&&dt(w,W.startTime-V),j=!1}return j}finally{d=null,f=z,g=!1}}var I=!1,C=null,x=-1,M=5,$=-1;function he(){return!(t.unstable_now()-$<M)}function Ue(){if(C!==null){var O=t.unstable_now();$=O;var V=!0;try{V=C(!0,O)}finally{V?ce():(I=!1,C=null)}}else I=!1}var ce;if(typeof p=="function")ce=function(){p(Ue)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Dt=Ot.port2;Ot.port1.onmessage=Ue,ce=function(){Dt.postMessage(null)}}else ce=function(){S(Ue,0)};function jt(O){C=O,I||(I=!0,ce())}function dt(O,V){x=S(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,jt(T))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var z=f;f=V;try{return O()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=f;f=O;try{return V()}finally{f=z}},t.unstable_scheduleCallback=function(O,V,z){var ae=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ae+z:ae):z=ae,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=z+Z,O={id:u++,callback:V,priorityLevel:O,startTime:z,expirationTime:Z,sortIndex:-1},z>ae?(O.sortIndex=z,e(c,O),n(l)===null&&O===n(c)&&(E?(y(x),x=-1):E=!0,dt(w,z-ae))):(O.sortIndex=Z,e(l,O),v||g||(v=!0,jt(T))),O},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(O){var V=f;return function(){var z=f;f=V;try{return O.apply(this,arguments)}finally{f=z}}}})(YE);QE.exports=YE;var tP=QE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE=_,Xt=tP;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JE=new Set,Ca={};function rs(t,e){Ws(t,e),Ws(t+"Capture",e)}function Ws(t,e){for(Ca[t]=e,t=0;t<e.length;t++)JE.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=Object.prototype.hasOwnProperty,nP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n_={},r_={};function rP(t){return tp.call(r_,t)?!0:tp.call(n_,t)?!1:nP.test(t)?r_[t]=!0:(n_[t]=!0,!1)}function iP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sP(t,e,n,r){if(e===null||typeof e>"u"||iP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zm=/[\-:]([a-z])/g;function eg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zm,eg);ut[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zm,eg);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zm,eg);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function tg(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sP(e,n,i,r)&&(n=null),r||i===null?rP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yr=XE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yl=Symbol.for("react.element"),_s=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),e1=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),ig=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),t1=Symbol.for("react.offscreen"),i_=Symbol.iterator;function Do(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Gh;function qo(t){if(Gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gh=e&&e[1]||""}return`
`+Gh+t}var Qh=!1;function Yh(t,e){if(!t||Qh)return"";Qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qo(t):""}function oP(t){switch(t.tag){case 5:return qo(t.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return t=Yh(t.type,!1),t;case 11:return t=Yh(t.type.render,!1),t;case 1:return t=Yh(t.type,!0),t;default:return""}}function sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case _s:return"Portal";case np:return"Profiler";case ng:return"StrictMode";case rp:return"Suspense";case ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e1:return(t.displayName||"Context")+".Consumer";case ZE:return(t._context.displayName||"Context")+".Provider";case rg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ig:return e=t.displayName||null,e!==null?e:sp(t.type)||"Memo";case Cr:e=t._payload,t=t._init;try{return sp(t(e))}catch{}}return null}function aP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sp(e);case 8:return e===ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lP(t){var e=n1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xl(t){t._valueTracker||(t._valueTracker=lP(t))}function r1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function op(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function s_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i1(t,e){e=e.checked,e!=null&&tg(t,"checked",e,!1)}function ap(t,e){i1(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lp(t,e.type,n):e.hasOwnProperty("defaultValue")&&lp(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function o_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lp(t,e,n){(e!=="number"||pu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ko=Array.isArray;function Ds(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Ko(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function s1(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function l_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function o1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function up(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jl,a1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jl=Jl||document.createElement("div"),Jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cP=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(t){cP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sa[e]=sa[t]})});function l1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sa.hasOwnProperty(t)&&sa[t]?(""+e).trim():e+"px"}function c1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uP=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dp(t,e){if(e){if(uP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function hp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fp=null;function sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pp=null,js=null,Ls=null;function c_(t){if(t=gl(t)){if(typeof pp!="function")throw Error(P(280));var e=t.stateNode;e&&(e=bd(e),pp(t.stateNode,t.type,e))}}function u1(t){js?Ls?Ls.push(t):Ls=[t]:js=t}function d1(){if(js){var t=js,e=Ls;if(Ls=js=null,c_(t),e)for(t=0;t<e.length;t++)c_(e[t])}}function h1(t,e){return t(e)}function f1(){}var Xh=!1;function p1(t,e,n){if(Xh)return t(e,n);Xh=!0;try{return h1(t,e,n)}finally{Xh=!1,(js!==null||Ls!==null)&&(f1(),d1())}}function Ra(t,e){var n=t.stateNode;if(n===null)return null;var r=bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var mp=!1;if(lr)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){mp=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{mp=!1}function dP(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var oa=!1,mu=null,gu=!1,gp=null,hP={onError:function(t){oa=!0,mu=t}};function fP(t,e,n,r,i,s,o,a,l){oa=!1,mu=null,dP.apply(hP,arguments)}function pP(t,e,n,r,i,s,o,a,l){if(fP.apply(this,arguments),oa){if(oa){var c=mu;oa=!1,mu=null}else throw Error(P(198));gu||(gu=!0,gp=c)}}function is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function m1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u_(t){if(is(t)!==t)throw Error(P(188))}function mP(t){var e=t.alternate;if(!e){if(e=is(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u_(i),t;if(s===r)return u_(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function g1(t){return t=mP(t),t!==null?y1(t):null}function y1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=y1(t);if(e!==null)return e;t=t.sibling}return null}var v1=Xt.unstable_scheduleCallback,d_=Xt.unstable_cancelCallback,gP=Xt.unstable_shouldYield,yP=Xt.unstable_requestPaint,Oe=Xt.unstable_now,vP=Xt.unstable_getCurrentPriorityLevel,og=Xt.unstable_ImmediatePriority,_1=Xt.unstable_UserBlockingPriority,yu=Xt.unstable_NormalPriority,_P=Xt.unstable_LowPriority,w1=Xt.unstable_IdlePriority,Id=null,Vn=null;function wP(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Id,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:TP,EP=Math.log,SP=Math.LN2;function TP(t){return t>>>=0,t===0?32:31-(EP(t)/SP|0)|0}var Zl=64,ec=4194304;function Go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Go(a):(s&=o,s!==0&&(r=Go(s)))}else o=n&~i,o!==0?r=Go(o):s!==0&&(r=Go(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tn(e),i=1<<n,r|=t[n],e&=~i;return r}function IP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=IP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function yp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E1(){var t=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),t}function Jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function xP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ag(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function S1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T1,lg,I1,C1,x1,vp=!1,tc=[],$r=null,Mr=null,Vr=null,ba=new Map,Pa=new Map,Rr=[],RP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h_(t,e){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(e.pointerId)}}function Lo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gl(e),e!==null&&lg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bP(t,e,n,r,i){switch(e){case"focusin":return $r=Lo($r,t,e,n,r,i),!0;case"dragenter":return Mr=Lo(Mr,t,e,n,r,i),!0;case"mouseover":return Vr=Lo(Vr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ba.set(s,Lo(ba.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pa.set(s,Lo(Pa.get(s)||null,t,e,n,r,i)),!0}return!1}function R1(t){var e=xi(t.target);if(e!==null){var n=is(e);if(n!==null){if(e=n.tag,e===13){if(e=m1(n),e!==null){t.blockedOn=e,x1(t.priority,function(){I1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_p(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fp=r,n.target.dispatchEvent(r),fp=null}else return e=gl(n),e!==null&&lg(e),t.blockedOn=n,!1;e.shift()}return!0}function f_(t,e,n){kc(t)&&n.delete(e)}function PP(){vp=!1,$r!==null&&kc($r)&&($r=null),Mr!==null&&kc(Mr)&&(Mr=null),Vr!==null&&kc(Vr)&&(Vr=null),ba.forEach(f_),Pa.forEach(f_)}function $o(t,e){t.blockedOn===e&&(t.blockedOn=null,vp||(vp=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,PP)))}function Aa(t){function e(i){return $o(i,t)}if(0<tc.length){$o(tc[0],t);for(var n=1;n<tc.length;n++){var r=tc[n];r.blockedOn===t&&(r.blockedOn=null)}}for($r!==null&&$o($r,t),Mr!==null&&$o(Mr,t),Vr!==null&&$o(Vr,t),ba.forEach(e),Pa.forEach(e),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)R1(n),n.blockedOn===null&&Rr.shift()}var $s=yr.ReactCurrentBatchConfig,_u=!0;function AP(t,e,n,r){var i=pe,s=$s.transition;$s.transition=null;try{pe=1,cg(t,e,n,r)}finally{pe=i,$s.transition=s}}function kP(t,e,n,r){var i=pe,s=$s.transition;$s.transition=null;try{pe=4,cg(t,e,n,r)}finally{pe=i,$s.transition=s}}function cg(t,e,n,r){if(_u){var i=_p(t,e,n,r);if(i===null)cf(t,e,r,wu,n),h_(t,r);else if(bP(i,t,e,n,r))r.stopPropagation();else if(h_(t,r),e&4&&-1<RP.indexOf(t)){for(;i!==null;){var s=gl(i);if(s!==null&&T1(s),s=_p(t,e,n,r),s===null&&cf(t,e,r,wu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cf(t,e,r,null,n)}}var wu=null;function _p(t,e,n,r){if(wu=null,t=sg(r),t=xi(t),t!==null)if(e=is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=m1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wu=t,null}function b1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vP()){case og:return 1;case _1:return 4;case yu:case _P:return 16;case w1:return 536870912;default:return 16}default:return 16}}var Or=null,ug=null,Nc=null;function P1(){if(Nc)return Nc;var t,e=ug,n=e.length,r,i="value"in Or?Or.value:Or.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nc=i.slice(t,1<r?1-r:void 0)}function Oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nc(){return!0}function p_(){return!1}function nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nc:p_,this.isPropagationStopped=p_,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dg=nn(go),ml=be({},go,{view:0,detail:0}),NP=nn(ml),Zh,ef,Mo,Cd=be({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(Zh=t.screenX-Mo.screenX,ef=t.screenY-Mo.screenY):ef=Zh=0,Mo=t),Zh)},movementY:function(t){return"movementY"in t?t.movementY:ef}}),m_=nn(Cd),OP=be({},Cd,{dataTransfer:0}),DP=nn(OP),jP=be({},ml,{relatedTarget:0}),tf=nn(jP),LP=be({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),$P=nn(LP),MP=be({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VP=nn(MP),FP=be({},go,{data:0}),g_=nn(FP),UP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BP[t])?!!e[t]:!1}function hg(){return HP}var WP=be({},ml,{key:function(t){if(t.key){var e=UP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hg,charCode:function(t){return t.type==="keypress"?Oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qP=nn(WP),KP=be({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y_=nn(KP),GP=be({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hg}),QP=nn(GP),YP=be({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),XP=nn(YP),JP=be({},Cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZP=nn(JP),eA=[9,13,27,32],fg=lr&&"CompositionEvent"in window,aa=null;lr&&"documentMode"in document&&(aa=document.documentMode);var tA=lr&&"TextEvent"in window&&!aa,A1=lr&&(!fg||aa&&8<aa&&11>=aa),v_=" ",__=!1;function k1(t,e){switch(t){case"keyup":return eA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function nA(t,e){switch(t){case"compositionend":return N1(e);case"keypress":return e.which!==32?null:(__=!0,v_);case"textInput":return t=e.data,t===v_&&__?null:t;default:return null}}function rA(t,e){if(Es)return t==="compositionend"||!fg&&k1(t,e)?(t=P1(),Nc=ug=Or=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return A1&&e.locale!=="ko"?null:e.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iA[t.type]:e==="textarea"}function O1(t,e,n,r){u1(r),e=Eu(e,"onChange"),0<e.length&&(n=new dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var la=null,ka=null;function sA(t){H1(t,0)}function xd(t){var e=Is(t);if(r1(e))return t}function oA(t,e){if(t==="change")return e}var D1=!1;if(lr){var nf;if(lr){var rf="oninput"in document;if(!rf){var E_=document.createElement("div");E_.setAttribute("oninput","return;"),rf=typeof E_.oninput=="function"}nf=rf}else nf=!1;D1=nf&&(!document.documentMode||9<document.documentMode)}function S_(){la&&(la.detachEvent("onpropertychange",j1),ka=la=null)}function j1(t){if(t.propertyName==="value"&&xd(ka)){var e=[];O1(e,ka,t,sg(t)),p1(sA,e)}}function aA(t,e,n){t==="focusin"?(S_(),la=e,ka=n,la.attachEvent("onpropertychange",j1)):t==="focusout"&&S_()}function lA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(ka)}function cA(t,e){if(t==="click")return xd(e)}function uA(t,e){if(t==="input"||t==="change")return xd(e)}function dA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:dA;function Na(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tp.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function T_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=T_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T_(n)}}function L1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $1(){for(var t=window,e=pu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pu(t.document)}return e}function pg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hA(t){var e=$1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&L1(n.ownerDocument.documentElement,n)){if(r!==null&&pg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=I_(n,s);var o=I_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fA=lr&&"documentMode"in document&&11>=document.documentMode,Ss=null,wp=null,ca=null,Ep=!1;function C_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ep||Ss==null||Ss!==pu(r)||(r=Ss,"selectionStart"in r&&pg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&Na(ca,r)||(ca=r,r=Eu(wp,"onSelect"),0<r.length&&(e=new dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function rc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},sf={},M1={};lr&&(M1=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Rd(t){if(sf[t])return sf[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in M1)return sf[t]=e[n];return t}var V1=Rd("animationend"),F1=Rd("animationiteration"),U1=Rd("animationstart"),z1=Rd("transitionend"),B1=new Map,x_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){B1.set(t,e),rs(e,[t])}for(var of=0;of<x_.length;of++){var af=x_[of],pA=af.toLowerCase(),mA=af[0].toUpperCase()+af.slice(1);ii(pA,"on"+mA)}ii(V1,"onAnimationEnd");ii(F1,"onAnimationIteration");ii(U1,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(z1,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function R_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pP(r,e,void 0,t),t.currentTarget=null}function H1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;R_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;R_(i,a,c),s=l}}}if(gu)throw t=gp,gu=!1,gp=null,t}function ve(t,e){var n=e[xp];n===void 0&&(n=e[xp]=new Set);var r=t+"__bubble";n.has(r)||(W1(e,t,2,!1),n.add(r))}function lf(t,e,n){var r=0;e&&(r|=4),W1(n,t,r,e)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Oa(t){if(!t[ic]){t[ic]=!0,JE.forEach(function(n){n!=="selectionchange"&&(gA.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ic]||(e[ic]=!0,lf("selectionchange",!1,e))}}function W1(t,e,n,r){switch(b1(e)){case 1:var i=AP;break;case 4:i=kP;break;default:i=cg}n=i.bind(null,e,n,t),i=void 0,!mp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}p1(function(){var c=s,u=sg(n),d=[];e:{var f=B1.get(t);if(f!==void 0){var g=dg,v=t;switch(t){case"keypress":if(Oc(n)===0)break e;case"keydown":case"keyup":g=qP;break;case"focusin":v="focus",g=tf;break;case"focusout":v="blur",g=tf;break;case"beforeblur":case"afterblur":g=tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=m_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=DP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=QP;break;case V1:case F1:case U1:g=$P;break;case z1:g=XP;break;case"scroll":g=NP;break;case"wheel":g=ZP;break;case"copy":case"cut":case"paste":g=VP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=y_}var E=(e&4)!==0,S=!E&&t==="scroll",y=E?f!==null?f+"Capture":null:f;E=[];for(var p=c,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,y!==null&&(w=Ra(p,y),w!=null&&E.push(Da(p,w,m)))),S)break;p=p.return}0<E.length&&(f=new g(f,v,null,n,u),d.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==fp&&(v=n.relatedTarget||n.fromElement)&&(xi(v)||v[cr]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?xi(v):null,v!==null&&(S=is(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(E=m_,w="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(E=y_,w="onPointerLeave",y="onPointerEnter",p="pointer"),S=g==null?f:Is(g),m=v==null?f:Is(v),f=new E(w,p+"leave",g,n,u),f.target=S,f.relatedTarget=m,w=null,xi(u)===c&&(E=new E(y,p+"enter",v,n,u),E.target=m,E.relatedTarget=S,w=E),S=w,g&&v)t:{for(E=g,y=v,p=0,m=E;m;m=fs(m))p++;for(m=0,w=y;w;w=fs(w))m++;for(;0<p-m;)E=fs(E),p--;for(;0<m-p;)y=fs(y),m--;for(;p--;){if(E===y||y!==null&&E===y.alternate)break t;E=fs(E),y=fs(y)}E=null}else E=null;g!==null&&b_(d,f,g,E,!1),v!==null&&S!==null&&b_(d,S,v,E,!0)}}e:{if(f=c?Is(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=oA;else if(w_(f))if(D1)T=uA;else{T=lA;var I=aA}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=cA);if(T&&(T=T(t,c))){O1(d,T,n,u);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&lp(f,"number",f.value)}switch(I=c?Is(c):window,t){case"focusin":(w_(I)||I.contentEditable==="true")&&(Ss=I,wp=c,ca=null);break;case"focusout":ca=wp=Ss=null;break;case"mousedown":Ep=!0;break;case"contextmenu":case"mouseup":case"dragend":Ep=!1,C_(d,n,u);break;case"selectionchange":if(fA)break;case"keydown":case"keyup":C_(d,n,u)}var C;if(fg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Es?k1(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(A1&&n.locale!=="ko"&&(Es||x!=="onCompositionStart"?x==="onCompositionEnd"&&Es&&(C=P1()):(Or=u,ug="value"in Or?Or.value:Or.textContent,Es=!0)),I=Eu(c,x),0<I.length&&(x=new g_(x,t,null,n,u),d.push({event:x,listeners:I}),C?x.data=C:(C=N1(n),C!==null&&(x.data=C)))),(C=tA?nA(t,n):rA(t,n))&&(c=Eu(c,"onBeforeInput"),0<c.length&&(u=new g_("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}H1(d,e)})}function Da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ra(t,n),s!=null&&r.unshift(Da(t,s,i)),s=Ra(t,e),s!=null&&r.push(Da(t,s,i))),t=t.return}return r}function fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ra(n,s),l!=null&&o.unshift(Da(n,l,a))):i||(l=Ra(n,s),l!=null&&o.push(Da(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yA=/\r\n?/g,vA=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(yA,`
`).replace(vA,"")}function sc(t,e,n){if(e=P_(e),P_(t)!==e&&n)throw Error(P(425))}function Su(){}var Sp=null,Tp=null;function Ip(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cp=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(EA)}:Cp;function EA(t){setTimeout(function(){throw t})}function uf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Aa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Aa(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),jn="__reactFiber$"+yo,ja="__reactProps$"+yo,cr="__reactContainer$"+yo,xp="__reactEvents$"+yo,SA="__reactListeners$"+yo,TA="__reactHandles$"+yo;function xi(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k_(t);t!==null;){if(n=t[jn])return n;t=k_(t)}return e}t=n,n=t.parentNode}return null}function gl(t){return t=t[jn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function bd(t){return t[ja]||null}var Rp=[],Cs=-1;function si(t){return{current:t}}function Te(t){0>Cs||(t.current=Rp[Cs],Rp[Cs]=null,Cs--)}function ge(t,e){Cs++,Rp[Cs]=t.current,t.current=e}var Xr={},Tt=si(Xr),Vt=si(!1),Ui=Xr;function qs(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function Tu(){Te(Vt),Te(Tt)}function N_(t,e,n){if(Tt.current!==Xr)throw Error(P(168));ge(Tt,e),ge(Vt,n)}function q1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,aP(t)||"Unknown",i));return be({},n,r)}function Iu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Ui=Tt.current,ge(Tt,t),ge(Vt,Vt.current),!0}function O_(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=q1(t,e,Ui),r.__reactInternalMemoizedMergedChildContext=t,Te(Vt),Te(Tt),ge(Tt,t)):Te(Vt),ge(Vt,n)}var er=null,Pd=!1,df=!1;function K1(t){er===null?er=[t]:er.push(t)}function IA(t){Pd=!0,K1(t)}function oi(){if(!df&&er!==null){df=!0;var t=0,e=pe;try{var n=er;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}er=null,Pd=!1}catch(i){throw er!==null&&(er=er.slice(t+1)),v1(og,oi),i}finally{pe=e,df=!1}}return null}var xs=[],Rs=0,Cu=null,xu=0,on=[],an=0,zi=null,tr=1,nr="";function wi(t,e){xs[Rs++]=xu,xs[Rs++]=Cu,Cu=t,xu=e}function G1(t,e,n){on[an++]=tr,on[an++]=nr,on[an++]=zi,zi=t;var r=tr;t=nr;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var s=32-Tn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,tr=1<<32-Tn(e)+i|n<<i|r,nr=s+t}else tr=1<<s|n<<i|r,nr=t}function mg(t){t.return!==null&&(wi(t,1),G1(t,1,0))}function gg(t){for(;t===Cu;)Cu=xs[--Rs],xs[Rs]=null,xu=xs[--Rs],xs[Rs]=null;for(;t===zi;)zi=on[--an],on[an]=null,nr=on[--an],on[an]=null,tr=on[--an],on[an]=null}var Yt=null,qt=null,Ce=!1,En=null;function Q1(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,qt=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:tr,overflow:nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,qt=null,!0):!1;default:return!1}}function bp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pp(t){if(Ce){var e=qt;if(e){var n=e;if(!D_(t,e)){if(bp(t))throw Error(P(418));e=Fr(n.nextSibling);var r=Yt;e&&D_(t,e)?Q1(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Yt=t)}}else{if(bp(t))throw Error(P(418));t.flags=t.flags&-4097|2,Ce=!1,Yt=t}}}function j_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function oc(t){if(t!==Yt)return!1;if(!Ce)return j_(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ip(t.type,t.memoizedProps)),e&&(e=qt)){if(bp(t))throw Y1(),Error(P(418));for(;e;)Q1(t,e),e=Fr(e.nextSibling)}if(j_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Yt?Fr(t.stateNode.nextSibling):null;return!0}function Y1(){for(var t=qt;t;)t=Fr(t.nextSibling)}function Ks(){qt=Yt=null,Ce=!1}function yg(t){En===null?En=[t]:En.push(t)}var CA=yr.ReactCurrentBatchConfig;function _n(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ru=si(null),bu=null,bs=null,vg=null;function _g(){vg=bs=bu=null}function wg(t){var e=Ru.current;Te(Ru),t._currentValue=e}function Ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){bu=t,vg=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(vg!==t)if(t={context:t,memoizedValue:e,next:null},bs===null){if(bu===null)throw Error(P(308));bs=t,bu.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var Ri=null;function Eg(t){Ri===null?Ri=[t]:Ri.push(t)}function X1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Eg(e)):(n.next=i.next,i.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xr=!1;function Sg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ur(t,n)}return i=r.interleaved,i===null?(e.next=e,Eg(r)):(e.next=i.next,i.next=e),r.interleaved=e,ur(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ag(t,n)}}function L_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pu(t,e,n,r){var i=t.updateQueue;xr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,E=a;switch(f=e,g=n,E.tag){case 1:if(v=E.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=be({},d,f);break e;case 2:xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hi|=o,t.lanes=o,t.memoizedState=d}}function $_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Z1=new XE.Component().refs;function kp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ad={isMounted:function(t){return(t=t._reactInternals)?is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Br(t),s=or(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(In(e,t,i,r),Dc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Br(t),s=or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(In(e,t,i,r),Dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Br(t),i=or(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ur(t,i,r),e!==null&&(In(e,t,r,n),Dc(e,t,r))}};function M_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Na(n,r)||!Na(i,s):!0}function eS(t,e,n){var r=!1,i=Xr,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=Ft(e)?Ui:Tt.current,r=e.contextTypes,s=(r=r!=null)?qs(t,i):Xr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ad,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function V_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ad.enqueueReplaceState(e,e.state,null)}function Np(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Z1,Sg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=Ft(e)?Ui:Tt.current,i.context=qs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ad.enqueueReplaceState(i,i.state,null),Pu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Z1&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function ac(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F_(t){var e=t._init;return e(t._payload)}function tS(t){function e(y,p){if(t){var m=y.deletions;m===null?(y.deletions=[p],y.flags|=16):m.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Hr(y,p),y.index=0,y.sibling=null,y}function s(y,p,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<p?(y.flags|=2,p):m):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,m,w){return p===null||p.tag!==6?(p=vf(m,y.mode,w),p.return=y,p):(p=i(p,m),p.return=y,p)}function l(y,p,m,w){var T=m.type;return T===ws?u(y,p,m.props.children,w,m.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Cr&&F_(T)===p.type)?(w=i(p,m.props),w.ref=Vo(y,p,m),w.return=y,w):(w=Fc(m.type,m.key,m.props,null,y.mode,w),w.ref=Vo(y,p,m),w.return=y,w)}function c(y,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=_f(m,y.mode,w),p.return=y,p):(p=i(p,m.children||[]),p.return=y,p)}function u(y,p,m,w,T){return p===null||p.tag!==7?(p=ji(m,y.mode,w,T),p.return=y,p):(p=i(p,m),p.return=y,p)}function d(y,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=vf(""+p,y.mode,m),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Yl:return m=Fc(p.type,p.key,p.props,null,y.mode,m),m.ref=Vo(y,null,p),m.return=y,m;case _s:return p=_f(p,y.mode,m),p.return=y,p;case Cr:var w=p._init;return d(y,w(p._payload),m)}if(Ko(p)||Do(p))return p=ji(p,y.mode,m,null),p.return=y,p;ac(y,p)}return null}function f(y,p,m,w){var T=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:a(y,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yl:return m.key===T?l(y,p,m,w):null;case _s:return m.key===T?c(y,p,m,w):null;case Cr:return T=m._init,f(y,p,T(m._payload),w)}if(Ko(m)||Do(m))return T!==null?null:u(y,p,m,w,null);ac(y,m)}return null}function g(y,p,m,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(m)||null,a(p,y,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yl:return y=y.get(w.key===null?m:w.key)||null,l(p,y,w,T);case _s:return y=y.get(w.key===null?m:w.key)||null,c(p,y,w,T);case Cr:var I=w._init;return g(y,p,m,I(w._payload),T)}if(Ko(w)||Do(w))return y=y.get(m)||null,u(p,y,w,T,null);ac(p,w)}return null}function v(y,p,m,w){for(var T=null,I=null,C=p,x=p=0,M=null;C!==null&&x<m.length;x++){C.index>x?(M=C,C=null):M=C.sibling;var $=f(y,C,m[x],w);if($===null){C===null&&(C=M);break}t&&C&&$.alternate===null&&e(y,C),p=s($,p,x),I===null?T=$:I.sibling=$,I=$,C=M}if(x===m.length)return n(y,C),Ce&&wi(y,x),T;if(C===null){for(;x<m.length;x++)C=d(y,m[x],w),C!==null&&(p=s(C,p,x),I===null?T=C:I.sibling=C,I=C);return Ce&&wi(y,x),T}for(C=r(y,C);x<m.length;x++)M=g(C,y,x,m[x],w),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?x:M.key),p=s(M,p,x),I===null?T=M:I.sibling=M,I=M);return t&&C.forEach(function(he){return e(y,he)}),Ce&&wi(y,x),T}function E(y,p,m,w){var T=Do(m);if(typeof T!="function")throw Error(P(150));if(m=T.call(m),m==null)throw Error(P(151));for(var I=T=null,C=p,x=p=0,M=null,$=m.next();C!==null&&!$.done;x++,$=m.next()){C.index>x?(M=C,C=null):M=C.sibling;var he=f(y,C,$.value,w);if(he===null){C===null&&(C=M);break}t&&C&&he.alternate===null&&e(y,C),p=s(he,p,x),I===null?T=he:I.sibling=he,I=he,C=M}if($.done)return n(y,C),Ce&&wi(y,x),T;if(C===null){for(;!$.done;x++,$=m.next())$=d(y,$.value,w),$!==null&&(p=s($,p,x),I===null?T=$:I.sibling=$,I=$);return Ce&&wi(y,x),T}for(C=r(y,C);!$.done;x++,$=m.next())$=g(C,y,x,$.value,w),$!==null&&(t&&$.alternate!==null&&C.delete($.key===null?x:$.key),p=s($,p,x),I===null?T=$:I.sibling=$,I=$);return t&&C.forEach(function(Ue){return e(y,Ue)}),Ce&&wi(y,x),T}function S(y,p,m,w){if(typeof m=="object"&&m!==null&&m.type===ws&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Yl:e:{for(var T=m.key,I=p;I!==null;){if(I.key===T){if(T=m.type,T===ws){if(I.tag===7){n(y,I.sibling),p=i(I,m.props.children),p.return=y,y=p;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Cr&&F_(T)===I.type){n(y,I.sibling),p=i(I,m.props),p.ref=Vo(y,I,m),p.return=y,y=p;break e}n(y,I);break}else e(y,I);I=I.sibling}m.type===ws?(p=ji(m.props.children,y.mode,w,m.key),p.return=y,y=p):(w=Fc(m.type,m.key,m.props,null,y.mode,w),w.ref=Vo(y,p,m),w.return=y,y=w)}return o(y);case _s:e:{for(I=m.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(y,p.sibling),p=i(p,m.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=_f(m,y.mode,w),p.return=y,y=p}return o(y);case Cr:return I=m._init,S(y,p,I(m._payload),w)}if(Ko(m))return v(y,p,m,w);if(Do(m))return E(y,p,m,w);ac(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,m),p.return=y,y=p):(n(y,p),p=vf(m,y.mode,w),p.return=y,y=p),o(y)):n(y,p)}return S}var Gs=tS(!0),nS=tS(!1),yl={},Fn=si(yl),La=si(yl),$a=si(yl);function bi(t){if(t===yl)throw Error(P(174));return t}function Tg(t,e){switch(ge($a,e),ge(La,t),ge(Fn,yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:up(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=up(e,t)}Te(Fn),ge(Fn,e)}function Qs(){Te(Fn),Te(La),Te($a)}function rS(t){bi($a.current);var e=bi(Fn.current),n=up(e,t.type);e!==n&&(ge(La,t),ge(Fn,n))}function Ig(t){La.current===t&&(Te(Fn),Te(La))}var xe=si(0);function Au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hf=[];function Cg(){for(var t=0;t<hf.length;t++)hf[t]._workInProgressVersionPrimary=null;hf.length=0}var jc=yr.ReactCurrentDispatcher,ff=yr.ReactCurrentBatchConfig,Bi=0,Re=null,He=null,Ge=null,ku=!1,ua=!1,Ma=0,xA=0;function pt(){throw Error(P(321))}function xg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function Rg(t,e,n,r,i,s){if(Bi=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?AA:kA,t=n(r,i),ua){s=0;do{if(ua=!1,Ma=0,25<=s)throw Error(P(301));s+=1,Ge=He=null,e.updateQueue=null,jc.current=NA,t=n(r,i)}while(ua)}if(jc.current=Nu,e=He!==null&&He.next!==null,Bi=0,Ge=He=Re=null,ku=!1,e)throw Error(P(300));return t}function bg(){var t=Ma!==0;return Ma=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Re.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function hn(){if(He===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ge===null?Re.memoizedState:Ge.next;if(e!==null)Ge=e,He=t;else{if(t===null)throw Error(P(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ge===null?Re.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Va(t,e){return typeof e=="function"?e(t):e}function pf(t){var e=hn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Bi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Re.lanes|=u,Hi|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Rn(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,Hi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=hn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rn(s,e.memoizedState)||(Mt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iS(){}function sS(t,e){var n=Re,r=hn(),i=e(),s=!Rn(r.memoizedState,i);if(s&&(r.memoizedState=i,Mt=!0),r=r.queue,Pg(lS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Fa(9,aS.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(P(349));Bi&30||oS(n,e,i)}return i}function oS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aS(t,e,n,r){e.value=n,e.getSnapshot=r,cS(e)&&uS(t)}function lS(t,e,n){return n(function(){cS(e)&&uS(t)})}function cS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function uS(t){var e=ur(t,1);e!==null&&In(e,t,1,-1)}function U_(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:t},e.queue=t,t=t.dispatch=PA.bind(null,Re,t),[e.memoizedState,t]}function Fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dS(){return hn().memoizedState}function Lc(t,e,n,r){var i=On();Re.flags|=t,i.memoizedState=Fa(1|e,n,void 0,r===void 0?null:r)}function kd(t,e,n,r){var i=hn();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&xg(r,o.deps)){i.memoizedState=Fa(e,n,s,r);return}}Re.flags|=t,i.memoizedState=Fa(1|e,n,s,r)}function z_(t,e){return Lc(8390656,8,t,e)}function Pg(t,e){return kd(2048,8,t,e)}function hS(t,e){return kd(4,2,t,e)}function fS(t,e){return kd(4,4,t,e)}function pS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mS(t,e,n){return n=n!=null?n.concat([t]):null,kd(4,4,pS.bind(null,e,t),n)}function Ag(){}function gS(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yS(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vS(t,e,n){return Bi&21?(Rn(n,e)||(n=E1(),Re.lanes|=n,Hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function RA(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=ff.transition;ff.transition={};try{t(!1),e()}finally{pe=n,ff.transition=r}}function _S(){return hn().memoizedState}function bA(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wS(t))ES(e,n);else if(n=X1(t,e,n,r),n!==null){var i=Pt();In(n,t,r,i),SS(n,e,r)}}function PA(t,e,n){var r=Br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wS(t))ES(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Rn(a,o)){var l=e.interleaved;l===null?(i.next=i,Eg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=X1(t,e,i,r),n!==null&&(i=Pt(),In(n,t,r,i),SS(n,e,r))}}function wS(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function ES(t,e){ua=ku=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ag(t,n)}}var Nu={readContext:dn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},AA={readContext:dn,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lc(4194308,4,pS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lc(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bA.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:U_,useDebugValue:Ag,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=U_(!1),e=t[0];return t=RA.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=On();if(Ce){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ye===null)throw Error(P(349));Bi&30||oS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,z_(lS.bind(null,r,s,t),[t]),r.flags|=2048,Fa(9,aS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=On(),e=Ye.identifierPrefix;if(Ce){var n=nr,r=tr;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kA={readContext:dn,useCallback:gS,useContext:dn,useEffect:Pg,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:yS,useReducer:pf,useRef:dS,useState:function(){return pf(Va)},useDebugValue:Ag,useDeferredValue:function(t){var e=hn();return vS(e,He.memoizedState,t)},useTransition:function(){var t=pf(Va)[0],e=hn().memoizedState;return[t,e]},useMutableSource:iS,useSyncExternalStore:sS,useId:_S,unstable_isNewReconciler:!1},NA={readContext:dn,useCallback:gS,useContext:dn,useEffect:Pg,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:yS,useReducer:mf,useRef:dS,useState:function(){return mf(Va)},useDebugValue:Ag,useDeferredValue:function(t){var e=hn();return He===null?e.memoizedState=t:vS(e,He.memoizedState,t)},useTransition:function(){var t=mf(Va)[0],e=hn().memoizedState;return[t,e]},useMutableSource:iS,useSyncExternalStore:sS,useId:_S,unstable_isNewReconciler:!1};function Ys(t,e){try{var n="",r=e;do n+=oP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Op(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OA=typeof WeakMap=="function"?WeakMap:Map;function TS(t,e,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Du||(Du=!0,Bp=r),Op(t,e)},n}function IS(t,e,n){n=or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Op(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Op(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function B_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KA.bind(null,t,e,n),e.then(t,t))}function H_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=or(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var DA=yr.ReactCurrentOwner,Mt=!1;function Rt(t,e,n,r){e.child=t===null?nS(e,null,n,r):Gs(e,t.child,n,r)}function q_(t,e,n,r,i){n=n.render;var s=e.ref;return Ms(e,i),r=Rg(t,e,n,r,s,i),n=bg(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dr(t,e,i)):(Ce&&n&&mg(e),e.flags|=1,Rt(t,e,r,i),e.child)}function K_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Mg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CS(t,e,s,r,i)):(t=Fc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(o,r)&&t.ref===e.ref)return dr(t,e,i)}return e.flags|=1,t=Hr(s,r),t.ref=e.ref,t.return=e,e.child=t}function CS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Na(s,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,dr(t,e,i)}return Dp(t,e,n,r,i)}function xS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(As,Wt),Wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(As,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ge(As,Wt),Wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ge(As,Wt),Wt|=r;return Rt(t,e,i,n),e.child}function RS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dp(t,e,n,r,i){var s=Ft(n)?Ui:Tt.current;return s=qs(e,s),Ms(e,i),n=Rg(t,e,n,r,s,i),r=bg(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dr(t,e,i)):(Ce&&r&&mg(e),e.flags|=1,Rt(t,e,n,i),e.child)}function G_(t,e,n,r,i){if(Ft(n)){var s=!0;Iu(e)}else s=!1;if(Ms(e,i),e.stateNode===null)$c(t,e),eS(e,n,r),Np(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=Ft(n)?Ui:Tt.current,c=qs(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&V_(e,o,r,c),xr=!1;var f=e.memoizedState;o.state=f,Pu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Vt.current||xr?(typeof u=="function"&&(kp(e,n,u,r),l=e.memoizedState),(a=xr||M_(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,J1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_n(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=Ft(n)?Ui:Tt.current,l=qs(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&V_(e,o,r,l),xr=!1,f=e.memoizedState,o.state=f,Pu(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||Vt.current||xr?(typeof g=="function"&&(kp(e,n,g,r),v=e.memoizedState),(c=xr||M_(e,n,c,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return jp(t,e,n,r,s,i)}function jp(t,e,n,r,i,s){RS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&O_(e,n,!1),dr(t,e,s);r=e.stateNode,DA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gs(e,t.child,null,s),e.child=Gs(e,null,a,s)):Rt(t,e,a,s),e.memoizedState=r.state,i&&O_(e,n,!0),e.child}function bS(t){var e=t.stateNode;e.pendingContext?N_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&N_(t,e.context,!1),Tg(t,e.containerInfo)}function Q_(t,e,n,r,i){return Ks(),yg(i),e.flags|=256,Rt(t,e,n,r),e.child}var Lp={dehydrated:null,treeContext:null,retryLane:0};function $p(t){return{baseLanes:t,cachePool:null,transitions:null}}function PS(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(xe,i&1),t===null)return Pp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dd(o,r,0,null),t=ji(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$p(n),e.memoizedState=Lp,t):kg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hr(a,s):(s=ji(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$p(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Lp,r}return s=t.child,t=s.sibling,r=Hr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kg(t,e){return e=Dd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lc(t,e,n,r){return r!==null&&yg(r),Gs(e,t.child,null,n),t=kg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=gf(Error(P(422))),lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Dd({mode:"visible",children:r.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gs(e,t.child,null,o),e.child.memoizedState=$p(o),e.memoizedState=Lp,s);if(!(e.mode&1))return lc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=gf(s,r,void 0),lc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mt||a){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ur(t,i),In(r,t,i,-1))}return $g(),r=gf(Error(P(421))),lc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=Fr(i.nextSibling),Yt=e,Ce=!0,En=null,t!==null&&(on[an++]=tr,on[an++]=nr,on[an++]=zi,tr=t.id,nr=t.overflow,zi=e),e=kg(e,r.children),e.flags|=4096,e)}function Y_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ap(t.return,e,n)}function yf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function AS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Rt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y_(t,n,e);else if(t.tag===19)Y_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Au(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Au(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yf(e,!0,n,null,s);break;case"together":yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LA(t,e,n){switch(e.tag){case 3:bS(e),Ks();break;case 5:rS(e);break;case 1:Ft(e.type)&&Iu(e);break;case 4:Tg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ge(Ru,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?PS(t,e,n):(ge(xe,xe.current&1),t=dr(t,e,n),t!==null?t.sibling:null);ge(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,xS(t,e,n)}return dr(t,e,n)}var kS,Mp,NS,OS;kS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mp=function(){};NS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bi(Fn.current);var s=null;switch(n){case"input":i=op(t,i),r=op(t,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=cp(t,i),r=cp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Su)}dp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ca.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};OS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fo(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $A(t,e,n){var r=e.pendingProps;switch(gg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Ft(e.type)&&Tu(),mt(e),null;case 3:return r=e.stateNode,Qs(),Te(Vt),Te(Tt),Cg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(qp(En),En=null))),Mp(t,e),mt(e),null;case 5:Ig(e);var i=bi($a.current);if(n=e.type,t!==null&&e.stateNode!=null)NS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return mt(e),null}if(t=bi(Fn.current),oc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jn]=e,r[ja]=s,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<Qo.length;i++)ve(Qo[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":s_(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":a_(r,s),ve("invalid",r)}dp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",""+a]):Ca.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Xl(r),o_(r,s,!0);break;case"textarea":Xl(r),l_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Su)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=o1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jn]=e,t[ja]=r,kS(t,e,!1,!1),e.stateNode=t;e:{switch(o=hp(n,r),n){case"dialog":ve("cancel",t),ve("close",t),i=r;break;case"iframe":case"object":case"embed":ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qo.length;i++)ve(Qo[i],t);i=r;break;case"source":ve("error",t),i=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=r;break;case"details":ve("toggle",t),i=r;break;case"input":s_(t,r),i=op(t,r),ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),ve("invalid",t);break;case"textarea":a_(t,r),i=cp(t,r),ve("invalid",t);break;default:i=r}dp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?c1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xa(t,l):typeof l=="number"&&xa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ca.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ve("scroll",t):l!=null&&tg(t,s,l,o))}switch(n){case"input":Xl(t),o_(t,r,!1);break;case"textarea":Xl(t),l_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ds(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)OS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=bi($a.current),bi(Fn.current),oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(s=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return mt(e),null;case 13:if(Te(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&qt!==null&&e.mode&1&&!(e.flags&128))Y1(),Ks(),e.flags|=98560,s=!1;else if(s=oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[jn]=e}else Ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else En!==null&&(qp(En),En=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?We===0&&(We=3):$g())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Qs(),Mp(t,e),t===null&&Oa(e.stateNode.containerInfo),mt(e),null;case 10:return wg(e.type._context),mt(e),null;case 17:return Ft(e.type)&&Tu(),mt(e),null;case 19:if(Te(xe),s=e.memoizedState,s===null)return mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fo(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Au(t),o!==null){for(e.flags|=128,Fo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>Xs&&(e.flags|=128,r=!0,Fo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Au(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return mt(e),null}else 2*Oe()-s.renderingStartTime>Xs&&n!==1073741824&&(e.flags|=128,r=!0,Fo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,n=xe.current,ge(xe,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Lg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function MA(t,e){switch(gg(e),e.tag){case 1:return Ft(e.type)&&Tu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),Te(Vt),Te(Tt),Cg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ig(e),null;case 13:if(Te(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(xe),null;case 4:return Qs(),null;case 10:return wg(e.type._context),null;case 22:case 23:return Lg(),null;case 24:return null;default:return null}}var cc=!1,vt=!1,VA=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function Vp(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var X_=!1;function FA(t,e){if(Sp=_u,t=$1(),pg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:t,selectionRange:n},_u=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,S=v.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:_n(e.type,E),S);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){Ae(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return v=X_,X_=!1,v}function da(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vp(e,n,s)}i=i.next}while(i!==r)}}function Nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DS(t){var e=t.alternate;e!==null&&(t.alternate=null,DS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[ja],delete e[xp],delete e[SA],delete e[TA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jS(t){return t.tag===5||t.tag===3||t.tag===4}function J_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Su));else if(r!==4&&(t=t.child,t!==null))for(Up(t,e,n),t=t.sibling;t!==null;)Up(t,e,n),t=t.sibling}function zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}var nt=null,wn=!1;function Sr(t,e,n){for(n=n.child;n!==null;)LS(t,e,n),n=n.sibling}function LS(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Id,n)}catch{}switch(n.tag){case 5:vt||Ps(n,e);case 6:var r=nt,i=wn;nt=null,Sr(t,e,n),nt=r,wn=i,nt!==null&&(wn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(wn?(t=nt,n=n.stateNode,t.nodeType===8?uf(t.parentNode,n):t.nodeType===1&&uf(t,n),Aa(t)):uf(nt,n.stateNode));break;case 4:r=nt,i=wn,nt=n.stateNode.containerInfo,wn=!0,Sr(t,e,n),nt=r,wn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vp(n,e,o),i=i.next}while(i!==r)}Sr(t,e,n);break;case 1:if(!vt&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ae(n,e,a)}Sr(t,e,n);break;case 21:Sr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Sr(t,e,n),vt=r):Sr(t,e,n);break;default:Sr(t,e,n)}}function Z_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VA),e.forEach(function(r){var i=QA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,wn=!1;break e;case 3:nt=a.stateNode.containerInfo,wn=!0;break e;case 4:nt=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(nt===null)throw Error(P(160));LS(s,o,i),nt=null,wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ae(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$S(e,t),e=e.sibling}function $S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Nn(t),r&4){try{da(3,t,t.return),Nd(3,t)}catch(E){Ae(t,t.return,E)}try{da(5,t,t.return)}catch(E){Ae(t,t.return,E)}}break;case 1:yn(e,t),Nn(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(yn(e,t),Nn(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{xa(i,"")}catch(E){Ae(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&i1(i,s),hp(a,o);var c=hp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?c1(i,d):u==="dangerouslySetInnerHTML"?a1(i,d):u==="children"?xa(i,d):tg(i,u,d,c)}switch(a){case"input":ap(i,s);break;case"textarea":s1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ds(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ds(i,!!s.multiple,s.defaultValue,!0):Ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[ja]=s}catch(E){Ae(t,t.return,E)}}break;case 6:if(yn(e,t),Nn(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Ae(t,t.return,E)}}break;case 3:if(yn(e,t),Nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Aa(e.containerInfo)}catch(E){Ae(t,t.return,E)}break;case 4:yn(e,t),Nn(t);break;case 13:yn(e,t),Nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dg=Oe())),r&4&&Z_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||u,yn(e,t),vt=c):yn(e,t),Nn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(d=L=u;L!==null;){switch(f=L,g=f.child,f.tag){case 0:case 11:case 14:case 15:da(4,f,f.return);break;case 1:Ps(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(E){Ae(r,n,E)}}break;case 5:Ps(f,f.return);break;case 22:if(f.memoizedState!==null){tw(d);continue}}g!==null?(g.return=f,L=g):tw(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=l1("display",o))}catch(E){Ae(t,t.return,E)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(E){Ae(t,t.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yn(e,t),Nn(t),r&4&&Z_(t);break;case 21:break;default:yn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jS(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xa(i,""),r.flags&=-33);var s=J_(t);zp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=J_(t);Up(t,a,o);break;default:throw Error(P(161))}}catch(l){Ae(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UA(t,e,n){L=t,MS(t)}function MS(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vt;a=cc;var c=vt;if(cc=o,(vt=l)&&!c)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?nw(i):l!==null?(l.return=o,L=l):nw(i);for(;s!==null;)L=s,MS(s),s=s.sibling;L=i,cc=a,vt=c}ew(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):ew(t)}}function ew(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Aa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}vt||e.flags&512&&Fp(e)}catch(f){Ae(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function tw(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function nw(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nd(4,e)}catch(l){Ae(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ae(e,i,l)}}var s=e.return;try{Fp(e)}catch(l){Ae(e,s,l)}break;case 5:var o=e.return;try{Fp(e)}catch(l){Ae(e,o,l)}}}catch(l){Ae(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var zA=Math.ceil,Ou=yr.ReactCurrentDispatcher,Ng=yr.ReactCurrentOwner,un=yr.ReactCurrentBatchConfig,le=0,Ye=null,$e=null,at=0,Wt=0,As=si(0),We=0,Ua=null,Hi=0,Od=0,Og=0,ha=null,Lt=null,Dg=0,Xs=1/0,Jn=null,Du=!1,Bp=null,zr=null,uc=!1,Dr=null,ju=0,fa=0,Hp=null,Mc=-1,Vc=0;function Pt(){return le&6?Oe():Mc!==-1?Mc:Mc=Oe()}function Br(t){return t.mode&1?le&2&&at!==0?at&-at:CA.transition!==null?(Vc===0&&(Vc=E1()),Vc):(t=pe,t!==0||(t=window.event,t=t===void 0?16:b1(t.type)),t):1}function In(t,e,n,r){if(50<fa)throw fa=0,Hp=null,Error(P(185));pl(t,n,r),(!(le&2)||t!==Ye)&&(t===Ye&&(!(le&2)&&(Od|=n),We===4&&br(t,at)),Ut(t,r),n===1&&le===0&&!(e.mode&1)&&(Xs=Oe()+500,Pd&&oi()))}function Ut(t,e){var n=t.callbackNode;CP(t,e);var r=vu(t,t===Ye?at:0);if(r===0)n!==null&&d_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d_(n),e===1)t.tag===0?IA(rw.bind(null,t)):K1(rw.bind(null,t)),wA(function(){!(le&6)&&oi()}),n=null;else{switch(S1(r)){case 1:n=og;break;case 4:n=_1;break;case 16:n=yu;break;case 536870912:n=w1;break;default:n=yu}n=qS(n,VS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VS(t,e){if(Mc=-1,Vc=0,le&6)throw Error(P(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var r=vu(t,t===Ye?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lu(t,r);else{e=r;var i=le;le|=2;var s=US();(Ye!==t||at!==e)&&(Jn=null,Xs=Oe()+500,Di(t,e));do try{WA();break}catch(a){FS(t,a)}while(!0);_g(),Ou.current=s,le=i,$e!==null?e=0:(Ye=null,at=0,e=We)}if(e!==0){if(e===2&&(i=yp(t),i!==0&&(r=i,e=Wp(t,i))),e===1)throw n=Ua,Di(t,0),br(t,r),Ut(t,Oe()),n;if(e===6)br(t,r);else{if(i=t.current.alternate,!(r&30)&&!BA(i)&&(e=Lu(t,r),e===2&&(s=yp(t),s!==0&&(r=s,e=Wp(t,s))),e===1))throw n=Ua,Di(t,0),br(t,r),Ut(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Ei(t,Lt,Jn);break;case 3:if(br(t,r),(r&130023424)===r&&(e=Dg+500-Oe(),10<e)){if(vu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cp(Ei.bind(null,t,Lt,Jn),e);break}Ei(t,Lt,Jn);break;case 4:if(br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Tn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zA(r/1960))-r,10<r){t.timeoutHandle=Cp(Ei.bind(null,t,Lt,Jn),r);break}Ei(t,Lt,Jn);break;case 5:Ei(t,Lt,Jn);break;default:throw Error(P(329))}}}return Ut(t,Oe()),t.callbackNode===n?VS.bind(null,t):null}function Wp(t,e){var n=ha;return t.current.memoizedState.isDehydrated&&(Di(t,e).flags|=256),t=Lu(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&qp(e)),t}function qp(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function BA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(t,e){for(e&=~Og,e&=~Od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),r=1<<n;t[n]=-1,e&=~r}}function rw(t){if(le&6)throw Error(P(327));Vs();var e=vu(t,0);if(!(e&1))return Ut(t,Oe()),null;var n=Lu(t,e);if(t.tag!==0&&n===2){var r=yp(t);r!==0&&(e=r,n=Wp(t,r))}if(n===1)throw n=Ua,Di(t,0),br(t,e),Ut(t,Oe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ei(t,Lt,Jn),Ut(t,Oe()),null}function jg(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Xs=Oe()+500,Pd&&oi())}}function Wi(t){Dr!==null&&Dr.tag===0&&!(le&6)&&Vs();var e=le;le|=1;var n=un.transition,r=pe;try{if(un.transition=null,pe=1,t)return t()}finally{pe=r,un.transition=n,le=e,!(le&6)&&oi()}}function Lg(){Wt=As.current,Te(As)}function Di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_A(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(gg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tu();break;case 3:Qs(),Te(Vt),Te(Tt),Cg();break;case 5:Ig(r);break;case 4:Qs();break;case 13:Te(xe);break;case 19:Te(xe);break;case 10:wg(r.type._context);break;case 22:case 23:Lg()}n=n.return}if(Ye=t,$e=t=Hr(t.current,null),at=Wt=e,We=0,Ua=null,Og=Od=Hi=0,Lt=ha=null,Ri!==null){for(e=0;e<Ri.length;e++)if(n=Ri[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ri=null}return t}function FS(t,e){do{var n=$e;try{if(_g(),jc.current=Nu,ku){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ku=!1}if(Bi=0,Ge=He=Re=null,ua=!1,Ma=0,Ng.current=null,n===null||n.return===null){We=1,Ua=e,$e=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=H_(o);if(g!==null){g.flags&=-257,W_(g,o,a,s,e),g.mode&1&&B_(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var E=new Set;E.add(l),e.updateQueue=E}else v.add(l);break e}else{if(!(e&1)){B_(s,c,e),$g();break e}l=Error(P(426))}}else if(Ce&&a.mode&1){var S=H_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),W_(S,o,a,s,e),yg(Ys(l,a));break e}}s=l=Ys(l,a),We!==4&&(We=2),ha===null?ha=[s]:ha.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=TS(s,l,e);L_(s,y);break e;case 1:a=l;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zr===null||!zr.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=IS(s,a,e);L_(s,w);break e}}s=s.return}while(s!==null)}BS(n)}catch(T){e=T,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function US(){var t=Ou.current;return Ou.current=Nu,t===null?Nu:t}function $g(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(Hi&268435455)&&!(Od&268435455)||br(Ye,at)}function Lu(t,e){var n=le;le|=2;var r=US();(Ye!==t||at!==e)&&(Jn=null,Di(t,e));do try{HA();break}catch(i){FS(t,i)}while(!0);if(_g(),le=n,Ou.current=r,$e!==null)throw Error(P(261));return Ye=null,at=0,We}function HA(){for(;$e!==null;)zS($e)}function WA(){for(;$e!==null&&!gP();)zS($e)}function zS(t){var e=WS(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?BS(t):$e=e,Ng.current=null}function BS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MA(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,$e=null;return}}else if(n=$A(n,e,Wt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);We===0&&(We=5)}function Ei(t,e,n){var r=pe,i=un.transition;try{un.transition=null,pe=1,qA(t,e,n,r)}finally{un.transition=i,pe=r}return null}function qA(t,e,n,r){do Vs();while(Dr!==null);if(le&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xP(t,s),t===Ye&&($e=Ye=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uc||(uc=!0,qS(yu,function(){return Vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=pe;pe=1;var a=le;le|=4,Ng.current=null,FA(t,n),$S(n,t),hA(Tp),_u=!!Sp,Tp=Sp=null,t.current=n,UA(n),yP(),le=a,pe=o,un.transition=s}else t.current=n;if(uc&&(uc=!1,Dr=t,ju=i),s=t.pendingLanes,s===0&&(zr=null),wP(n.stateNode),Ut(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Du)throw Du=!1,t=Bp,Bp=null,t;return ju&1&&t.tag!==0&&Vs(),s=t.pendingLanes,s&1?t===Hp?fa++:(fa=0,Hp=t):fa=0,oi(),null}function Vs(){if(Dr!==null){var t=S1(ju),e=un.transition,n=pe;try{if(un.transition=null,pe=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,ju=0,le&6)throw Error(P(331));var i=le;for(le|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:da(8,u,s)}var d=u.child;if(d!==null)d.return=u,L=d;else for(;L!==null;){u=L;var f=u.sibling,g=u.return;if(DS(u),u===c){L=null;break}if(f!==null){f.return=g,L=f;break}L=g}}}var v=s.alternate;if(v!==null){var E=v.child;if(E!==null){v.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:da(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,L=y;break e}L=s.return}}var p=t.current;for(L=p;L!==null;){o=L;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,L=m;else e:for(o=p;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nd(9,a)}}catch(T){Ae(a,a.return,T)}if(a===o){L=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,L=w;break e}L=a.return}}if(le=i,oi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Id,t)}catch{}r=!0}return r}finally{pe=n,un.transition=e}}return!1}function iw(t,e,n){e=Ys(n,e),e=TS(t,e,1),t=Ur(t,e,1),e=Pt(),t!==null&&(pl(t,1,e),Ut(t,e))}function Ae(t,e,n){if(t.tag===3)iw(t,t,n);else for(;e!==null;){if(e.tag===3){iw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=Ys(n,t),t=IS(e,t,1),e=Ur(e,t,1),t=Pt(),e!==null&&(pl(e,1,t),Ut(e,t));break}}e=e.return}}function KA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(at&n)===n&&(We===4||We===3&&(at&130023424)===at&&500>Oe()-Dg?Di(t,0):Og|=n),Ut(t,e)}function HS(t,e){e===0&&(t.mode&1?(e=ec,ec<<=1,!(ec&130023424)&&(ec=4194304)):e=1);var n=Pt();t=ur(t,e),t!==null&&(pl(t,e,n),Ut(t,n))}function GA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HS(t,n)}function QA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),HS(t,n)}var WS;WS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,LA(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,Ce&&e.flags&1048576&&G1(e,xu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$c(t,e),t=e.pendingProps;var i=qs(e,Tt.current);Ms(e,n),i=Rg(null,e,r,t,i,n);var s=bg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,Iu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sg(e),i.updater=Ad,e.stateNode=i,i._reactInternals=e,Np(e,r,t,n),e=jp(null,e,r,!0,s,n)):(e.tag=0,Ce&&s&&mg(e),Rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XA(r),t=_n(r,t),i){case 0:e=Dp(null,e,r,t,n);break e;case 1:e=G_(null,e,r,t,n);break e;case 11:e=q_(null,e,r,t,n);break e;case 14:e=K_(null,e,r,_n(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Dp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),G_(t,e,r,i,n);case 3:e:{if(bS(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,J1(t,e),Pu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ys(Error(P(423)),e),e=Q_(t,e,r,n,i);break e}else if(r!==i){i=Ys(Error(P(424)),e),e=Q_(t,e,r,n,i);break e}else for(qt=Fr(e.stateNode.containerInfo.firstChild),Yt=e,Ce=!0,En=null,n=nS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ks(),r===i){e=dr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return rS(e),t===null&&Pp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ip(r,i)?o=null:s!==null&&Ip(r,s)&&(e.flags|=32),RS(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&Pp(e),null;case 13:return PS(t,e,n);case 4:return Tg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gs(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),q_(t,e,r,i,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ge(Ru,r._currentValue),r._currentValue=o,s!==null)if(Rn(s.value,o)){if(s.children===i.children&&!Vt.current){e=dr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=or(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ap(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ap(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ms(e,n),i=dn(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),K_(t,e,r,i,n);case 15:return CS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),$c(t,e),e.tag=1,Ft(r)?(t=!0,Iu(e)):t=!1,Ms(e,n),eS(e,r,i),Np(e,r,i,n),jp(null,e,r,!0,t,n);case 19:return AS(t,e,n);case 22:return xS(t,e,n)}throw Error(P(156,e.tag))};function qS(t,e){return v1(t,e)}function YA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new YA(t,e,n,r)}function Mg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XA(t){if(typeof t=="function")return Mg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rg)return 11;if(t===ig)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Mg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ws:return ji(n.children,i,s,e);case ng:o=8,i|=8;break;case np:return t=cn(12,n,e,i|2),t.elementType=np,t.lanes=s,t;case rp:return t=cn(13,n,e,i),t.elementType=rp,t.lanes=s,t;case ip:return t=cn(19,n,e,i),t.elementType=ip,t.lanes=s,t;case t1:return Dd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZE:o=10;break e;case e1:o=9;break e;case rg:o=11;break e;case ig:o=14;break e;case Cr:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ji(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Dd(t,e,n,r){return t=cn(22,t,r,e),t.elementType=t1,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function _f(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jh(0),this.expirationTimes=Jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vg(t,e,n,r,i,s,o,a,l){return t=new JA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sg(s),t}function ZA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KS(t){if(!t)return Xr;t=t._reactInternals;e:{if(is(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ft(n))return q1(t,n,e)}return e}function GS(t,e,n,r,i,s,o,a,l){return t=Vg(n,r,!0,t,i,s,o,a,l),t.context=KS(null),n=t.current,r=Pt(),i=Br(n),s=or(r,i),s.callback=e??null,Ur(n,s,i),t.current.lanes=i,pl(t,i,r),Ut(t,r),t}function jd(t,e,n,r){var i=e.current,s=Pt(),o=Br(i);return n=KS(n),e.context===null?e.context=n:e.pendingContext=n,e=or(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(i,e,o),t!==null&&(In(t,i,o,s),Dc(t,i,o)),o}function $u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fg(t,e){sw(t,e),(t=t.alternate)&&sw(t,e)}function ek(){return null}var QS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ug(t){this._internalRoot=t}Ld.prototype.render=Ug.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));jd(t,e,null,null)};Ld.prototype.unmount=Ug.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wi(function(){jd(null,t,null,null)}),e[cr]=null}};function Ld(t){this._internalRoot=t}Ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=C1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rr.length&&e!==0&&e<Rr[n].priority;n++);Rr.splice(n,0,t),n===0&&R1(t)}};function zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ow(){}function tk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=$u(o);s.call(c)}}var o=GS(e,r,t,0,null,!1,!1,"",ow);return t._reactRootContainer=o,t[cr]=o.current,Oa(t.nodeType===8?t.parentNode:t),Wi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=$u(l);a.call(c)}}var l=Vg(t,0,!1,null,null,!1,!1,"",ow);return t._reactRootContainer=l,t[cr]=l.current,Oa(t.nodeType===8?t.parentNode:t),Wi(function(){jd(e,l,n,r)}),l}function Md(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$u(o);a.call(l)}}jd(e,o,t,i)}else o=tk(n,e,t,i,r);return $u(o)}T1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Go(e.pendingLanes);n!==0&&(ag(e,n|1),Ut(e,Oe()),!(le&6)&&(Xs=Oe()+500,oi()))}break;case 13:Wi(function(){var r=ur(t,1);if(r!==null){var i=Pt();In(r,t,1,i)}}),Fg(t,1)}};lg=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=Pt();In(e,t,134217728,n)}Fg(t,134217728)}};I1=function(t){if(t.tag===13){var e=Br(t),n=ur(t,e);if(n!==null){var r=Pt();In(n,t,e,r)}Fg(t,e)}};C1=function(){return pe};x1=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};pp=function(t,e,n){switch(e){case"input":if(ap(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bd(r);if(!i)throw Error(P(90));r1(r),ap(r,i)}}}break;case"textarea":s1(t,n);break;case"select":e=n.value,e!=null&&Ds(t,!!n.multiple,e,!1)}};h1=jg;f1=Wi;var nk={usingClientEntryPoint:!1,Events:[gl,Is,bd,u1,d1,jg]},Uo={findFiberByHostInstance:xi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rk={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=g1(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Id=dc.inject(rk),Vn=dc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nk;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(e))throw Error(P(200));return ZA(t,e,null,n)};tn.createRoot=function(t,e){if(!zg(t))throw Error(P(299));var n=!1,r="",i=QS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vg(t,1,!1,null,null,n,!1,r,i),t[cr]=e.current,Oa(t.nodeType===8?t.parentNode:t),new Ug(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=g1(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return Wi(t)};tn.hydrate=function(t,e,n){if(!$d(e))throw Error(P(200));return Md(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!zg(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GS(e,null,t,1,n??null,i,!1,s,o),t[cr]=e.current,Oa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ld(e)};tn.render=function(t,e,n){if(!$d(e))throw Error(P(200));return Md(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!$d(t))throw Error(P(40));return t._reactRootContainer?(Wi(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};tn.unstable_batchedUpdates=jg;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$d(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Md(t,e,n,!1,r)};tn.version="18.2.0-next-9e3b772b8-20220608";function YS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YS)}catch(t){console.error(t)}}YS(),GE.exports=tn;var ik=GE.exports,XS,aw=ik;XS=aw.createRoot,aw.hydrateRoot;var JS={exports:{}},ZS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=_;function sk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ok=typeof Object.is=="function"?Object.is:sk,ak=vl.useSyncExternalStore,lk=vl.useRef,ck=vl.useEffect,uk=vl.useMemo,dk=vl.useDebugValue;ZS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=lk(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=uk(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return d=v}return d=g}if(v=d,ok(u,g))return v;var E=r(g);return i!==void 0&&i(v,E)?v:(u=g,d=E)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=ak(t,s[0],s[1]);return ck(function(){o.hasValue=!0,o.value=a},[a]),dk(a),a};JS.exports=ZS;var hk=JS.exports,Kt="default"in ep?H:ep,lw=Symbol.for("react-redux-context"),cw=typeof globalThis<"u"?globalThis:{};function fk(){if(!Kt.createContext)return{};const t=cw[lw]??(cw[lw]=new Map);let e=t.get(Kt.createContext);return e||(e=Kt.createContext(null),t.set(Kt.createContext,e)),e}var Jr=fk(),pk=()=>{throw new Error("uSES not initialized!")};function Bg(t=Jr){return function(){return Kt.useContext(t)}}var eT=Bg(),tT=pk,mk=t=>{tT=t},gk=(t,e)=>t===e;function yk(t=Jr){const e=t===Jr?eT:Bg(t),n=(r,i={})=>{const{equalityFn:s=gk,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();Kt.useRef(!0);const f=Kt.useCallback({[r.name](v){return r(v)}}[r.name],[r,u,o.stabilityCheck]),g=tT(l.addNestedSub,a.getState,c||a.getState,f,s);return Kt.useDebugValue(g),g};return Object.assign(n,{withTypes:()=>n}),n}var we=yk();function vk(t){t()}function _k(){let t=null,e=null;return{clear(){t=null,e=null},notify(){vk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var uw={notify(){},get:()=>[]};function wk(t,e){let n,r=uw,i=0,s=!1;function o(E){u();const S=r.subscribe(E);let y=!1;return()=>{y||(y=!0,S(),d())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=_k())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uw)}function f(){s||(s=!0,u())}function g(){s&&(s=!1,d())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>r};return v}var Ek=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sk=Ek?Kt.useLayoutEffect:Kt.useEffect;function Tk({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Kt.useMemo(()=>{const c=wk(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Kt.useMemo(()=>t.getState(),[t]);Sk(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||Jr;return Kt.createElement(l.Provider,{value:o},n)}var Ik=Tk;function nT(t=Jr){const e=t===Jr?eT:Bg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var Ck=nT();function xk(t=Jr){const e=t===Jr?Ck:nT(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Hg=xk();mk(hk.useSyncExternalStoreWithSelector);function Uc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uc=function(n){return typeof n}:Uc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Uc(t)}function Rk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bk(t,e,n){return e&&dw(t.prototype,e),n&&dw(t,n),t}function Pk(t,e){return e&&(Uc(e)==="object"||typeof e=="function")?e:zc(t)}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}function zc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ak(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gp(t,e)}function Gp(t,e){return Gp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Gp(t,e)}function Bc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rT=function(t){Ak(e,t);function e(){var n,r;Rk(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Pk(this,(n=Kp(e)).call.apply(n,[this].concat(s))),Bc(zc(r),"state",{bootstrapped:!1}),Bc(zc(r),"_unsubscribe",void 0),Bc(zc(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return bk(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(_.PureComponent);Bc(rT,"defaultProps",{children:null,loading:null});function tt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kk=typeof Symbol=="function"&&Symbol.observable||"@@observable",hw=kk,wf=()=>Math.random().toString(36).substring(7).split("").join("."),Nk={INIT:`@@redux/INIT${wf()}`,REPLACE:`@@redux/REPLACE${wf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wf()}`},Mu=Nk;function Wg(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function qg(t,e,n){if(typeof t!="function")throw new Error(tt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tt(1));return n(qg)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((S,y)=>{o.set(y,S)}))}function u(){if(l)throw new Error(tt(3));return i}function d(S){if(typeof S!="function")throw new Error(tt(4));if(l)throw new Error(tt(5));let y=!0;c();const p=a++;return o.set(p,S),function(){if(y){if(l)throw new Error(tt(6));y=!1,c(),o.delete(p),s=null}}}function f(S){if(!Wg(S))throw new Error(tt(7));if(typeof S.type>"u")throw new Error(tt(8));if(typeof S.type!="string")throw new Error(tt(17));if(l)throw new Error(tt(9));try{l=!0,i=r(i,S)}finally{l=!1}return(s=o).forEach(p=>{p()}),S}function g(S){if(typeof S!="function")throw new Error(tt(10));r=S,f({type:Mu.REPLACE})}function v(){const S=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(tt(11));function p(){const w=y;w.next&&w.next(u())}return p(),{unsubscribe:S(p)}},[hw](){return this}}}return f({type:Mu.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:g,[hw]:v}}function Ok(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Mu.INIT})>"u")throw new Error(tt(12));if(typeof n(void 0,{type:Mu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tt(13))})}function Dk(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Ok(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],g=o[d],v=f(g,a);if(typeof v>"u")throw a&&a.type,new Error(tt(14));c[d]=v,l=l||v!==g}return l=l||r.length!==Object.keys(o).length,l?c:o}}function Vu(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function jk(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(tt(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=Vu(...a)(i.dispatch),{...i,dispatch:s}}}function Lk(t){return Wg(t)&&"type"in t&&typeof t.type=="string"}var iT=Symbol.for("immer-nothing"),fw=Symbol.for("immer-draftable"),Jt=Symbol.for("immer-state");function Sn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Js=Object.getPrototypeOf;function Zr(t){return!!t&&!!t[Jt]}function hr(t){var e;return t?sT(t)||Array.isArray(t)||!!t[fw]||!!((e=t.constructor)!=null&&e[fw])||Fd(t)||Ud(t):!1}var $k=Object.prototype.constructor.toString();function sT(t){if(!t||typeof t!="object")return!1;const e=Js(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$k}function za(t,e){Vd(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Vd(t){const e=t[Jt];return e?e.type_:Array.isArray(t)?1:Fd(t)?2:Ud(t)?3:0}function Qp(t,e){return Vd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function oT(t,e,n){const r=Vd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Mk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Fd(t){return t instanceof Map}function Ud(t){return t instanceof Set}function Si(t){return t.copy_||t.base_}function Yp(t,e){if(Fd(t))return new Map(t);if(Ud(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&sT(t))return Js(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Jt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Js(t),n)}function Kg(t,e=!1){return zd(t)||Zr(t)||!hr(t)||(Vd(t)>1&&(t.set=t.add=t.clear=t.delete=Vk),Object.freeze(t),e&&za(t,(n,r)=>Kg(r,!0))),t}function Vk(){Sn(2)}function zd(t){return Object.isFrozen(t)}var Fk={};function qi(t){const e=Fk[t];return e||Sn(0,t),e}var Ba;function aT(){return Ba}function Uk(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pw(t,e){e&&(qi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Xp(t){Jp(t),t.drafts_.forEach(zk),t.drafts_=null}function Jp(t){t===Ba&&(Ba=t.parent_)}function mw(t){return Ba=Uk(Ba,t)}function zk(t){const e=t[Jt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Jt].modified_&&(Xp(e),Sn(4)),hr(t)&&(t=Fu(e,t),e.parent_||Uu(e,t)),e.patches_&&qi("Patches").generateReplacementPatches_(n[Jt].base_,t,e.patches_,e.inversePatches_)):t=Fu(e,n,[]),Xp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==iT?t:void 0}function Fu(t,e,n){if(zd(e))return e;const r=e[Jt];if(!r)return za(e,(i,s)=>yw(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Uu(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),za(s,(a,l)=>yw(t,r,i,a,l,n,o)),Uu(t,i,!1),n&&t.patches_&&qi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function yw(t,e,n,r,i,s,o){if(Zr(i)){const a=s&&e&&e.type_!==3&&!Qp(e.assigned_,r)?s.concat(r):void 0,l=Fu(t,i,a);if(oT(n,r,l),Zr(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(hr(i)&&!zd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Fu(t,i),(!e||!e.scope_.parent_)&&Uu(t,i)}}function Uu(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Kg(e,n)}function Bk(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:aT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Gg;n&&(i=[r],s=Ha);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Gg={get(t,e){if(e===Jt)return t;const n=Si(t);if(!Qp(n,e))return Hk(t,n,e);const r=n[e];return t.finalized_||!hr(r)?r:r===Ef(t.base_,e)?(Sf(t),t.copy_[e]=em(r,t)):r},has(t,e){return e in Si(t)},ownKeys(t){return Reflect.ownKeys(Si(t))},set(t,e,n){const r=lT(Si(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ef(Si(t),e),s=i==null?void 0:i[Jt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Mk(n,i)&&(n!==void 0||Qp(t.base_,e)))return!0;Sf(t),Zp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ef(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Sf(t),Zp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Si(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Sn(11)},getPrototypeOf(t){return Js(t.base_)},setPrototypeOf(){Sn(12)}},Ha={};za(Gg,(t,e)=>{Ha[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ha.deleteProperty=function(t,e){return Ha.set.call(this,t,e,void 0)};Ha.set=function(t,e,n){return Gg.set.call(this,t[0],e,n,t[0])};function Ef(t,e){const n=t[Jt];return(n?Si(n):t)[e]}function Hk(t,e,n){var i;const r=lT(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function lT(t,e){if(!(e in t))return;let n=Js(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Js(n)}}function Zp(t){t.modified_||(t.modified_=!0,t.parent_&&Zp(t.parent_))}function Sf(t){t.copy_||(t.copy_=Yp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Wk=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Sn(6),r!==void 0&&typeof r!="function"&&Sn(7);let i;if(hr(e)){const s=mw(this),o=em(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Xp(s):Jp(s)}return pw(s,r),gw(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===iT&&(i=void 0),this.autoFreeze_&&Kg(i,!0),r){const s=[],o=[];qi("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Sn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){hr(t)||Sn(8),Zr(t)&&(t=cT(t));const e=mw(this),n=em(t,void 0);return n[Jt].isManual_=!0,Jp(e),n}finishDraft(t,e){const n=t&&t[Jt];(!n||!n.isManual_)&&Sn(9);const{scope_:r}=n;return pw(r,e),gw(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=qi("Patches").applyPatches_;return Zr(t)?r(t,e):this.produce(t,i=>r(i,e))}};function em(t,e){const n=Fd(t)?qi("MapSet").proxyMap_(t,e):Ud(t)?qi("MapSet").proxySet_(t,e):Bk(t,e);return(e?e.scope_:aT()).drafts_.push(n),n}function cT(t){return Zr(t)||Sn(10,t),uT(t)}function uT(t){if(!hr(t)||zd(t))return t;const e=t[Jt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Yp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Yp(t,!0);return za(n,(r,i)=>{oT(n,r,uT(i))}),e&&(e.finalized_=!1),n}var Zt=new Wk,dT=Zt.produce;Zt.produceWithPatches.bind(Zt);Zt.setAutoFreeze.bind(Zt);Zt.setUseStrictShallowCopy.bind(Zt);Zt.applyPatches.bind(Zt);Zt.createDraft.bind(Zt);Zt.finishDraft.bind(Zt);function qk(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Kk(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Gk(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var vw=t=>Array.isArray(t)?t:[t];function Qk(t){const e=Array.isArray(t[0])?t[0]:t;return Gk(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Yk(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Xk=class{constructor(t){this.value=t}deref(){return this.value}},Jk=typeof WeakRef<"u"?WeakRef:Xk,Zk=0,_w=1;function hc(){return{s:Zk,v:void 0,o:null,p:null}}function Qg(t,e={}){let n=hc();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let f=0,g=l;f<g;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let E=a.o;E===null&&(a.o=E=new WeakMap);const S=E.get(v);S===void 0?(a=hc(),E.set(v,a)):a=S}else{let E=a.p;E===null&&(a.p=E=new Map);const S=E.get(v);S===void 0?(a=hc(),E.set(v,a)):a=S}}const c=a;let u;if(a.s===_w?u=a.v:(u=t.apply(null,arguments),s++),c.s=_w,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Jk(u):u}return c.v=u,u}return o.clearCache=()=>{n=hc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function hT(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),qk(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:g=Qg,argsMemoizeOptions:v=[],devModeChecks:E={}}=u,S=vw(f),y=vw(v),p=Qk(i),m=d(function(){return s++,c.apply(null,arguments)},...S),w=g(function(){o++;const I=Yk(p,arguments);return a=m.apply(null,I),a},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:m,dependencies:p,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var eN=hT(Qg),tN=Object.assign((t,e=eN)=>{Kk(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>tN});function fT(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var nN=fT(),rN=fT,iN=(...t)=>{const e=hT(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(Zr(o)?cT(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};iN(Qg);var sN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vu:Vu.apply(null,arguments)},oN=t=>t&&typeof t.match=="function";function ar(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(zt(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Lk(r)&&r.type===t,n}var pT=class Yo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yo.prototype)}static get[Symbol.species](){return Yo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yo(...e[0].concat(this)):new Yo(...e.concat(this))}};function ww(t){return hr(t)?dT(t,()=>{}):t}function Ew(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(zt(10));const r=n.insert(e,t);return t.set(e,r),r}function aN(t){return typeof t=="boolean"}var lN=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new pT;return n&&(aN(n)?o.push(nN):o.push(rN(n.extraArgument))),o},cN="RTK_autoBatch",mT=t=>e=>{setTimeout(e,t)},uN=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mT(10),dN=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?uN:t.type==="callback"?t.queueNotification:mT(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),f=r.subscribe(d);return a.add(u),()=>{f(),a.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[cN]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},hN=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new pT(t);return r&&i.push(dN(typeof r=="object"?r:void 0)),i},fN=!0;function pN(t){const e=lN(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Wg(n))a=Dk(n);else throw new Error(zt(1));let l;typeof r=="function"?l=r(e):l=e();let c=Vu;i&&(c=sN({trace:!fN,...typeof i=="object"&&i}));const u=jk(...l),d=hN(u);let f=typeof o=="function"?o(d):d();const g=c(...f);return qg(a,s,g)}function gT(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(zt(28));if(a in e)throw new Error(zt(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function mN(t){return typeof t=="function"}function gN(t,e){let[n,r,i]=gT(e),s;if(mN(t))s=()=>ww(t());else{const a=ww(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Zr(u)){const g=d(u,l);return g===void 0?u:g}else{if(hr(u))return dT(u,f=>d(f,l));{const f=d(u,l);if(f===void 0){if(u===null)return u;throw new Error(zt(9))}return f}}return u},a)}return o.getInitialState=s,o}var yN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yT=(t=21)=>{let e="",n=t;for(;n--;)e+=yN[Math.random()*64|0];return e},vN=(t,e)=>oN(t)?t.match(e):t(e);function _N(...t){return e=>t.some(n=>vN(n,e))}var wN=["name","message","stack","code"],Tf=class{constructor(t,e){qh(this,"_type");this.payload=t,this.meta=e}},Sw=class{constructor(t,e){qh(this,"_type");this.payload=t,this.meta=e}},EN=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of wN)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},ai=(()=>{function t(e,n,r){const i=ar(e+"/fulfilled",(l,c,u,d)=>({payload:l,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=ar(e+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),o=ar(e+"/rejected",(l,c,u,d,f)=>({payload:d,error:(r&&r.serializeError||EN)(l||"Rejected"),meta:{...f||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,u,d)=>{const f=r!=null&&r.idGenerator?r.idGenerator(l):yT(),g=new AbortController;let v,E;function S(p){E=p,g.abort()}const y=async function(){var w,T;let p;try{let I=(w=r==null?void 0:r.condition)==null?void 0:w.call(r,l,{getState:u,extra:d});if(TN(I)&&(I=await I),I===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((x,M)=>{v=()=>{M({name:"AbortError",message:E||"Aborted"})},g.signal.addEventListener("abort",v)});c(s(f,l,(T=r==null?void 0:r.getPendingMeta)==null?void 0:T.call(r,{requestId:f,arg:l},{getState:u,extra:d}))),p=await Promise.race([C,Promise.resolve(n(l,{dispatch:c,getState:u,extra:d,requestId:f,signal:g.signal,abort:S,rejectWithValue:(x,M)=>new Tf(x,M),fulfillWithValue:(x,M)=>new Sw(x,M)})).then(x=>{if(x instanceof Tf)throw x;return x instanceof Sw?i(x.payload,f,l,x.meta):i(x,f,l)})])}catch(I){p=I instanceof Tf?o(null,f,l,I.payload,I.meta):o(I,f,l)}finally{v&&g.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&o.match(p)&&p.meta.condition||c(p),p}();return Object.assign(y,{abort:S,requestId:f,arg:l,unwrap(){return y.then(SN)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:_N(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function SN(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function TN(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var IN=Symbol.for("rtk-slice-createasyncthunk");function CN(t,e){return`${t}/${e}`}function xN({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[IN];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(zt(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(bN()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(m,w){const T=typeof m=="string"?m:m.type;if(!T)throw new Error(zt(12));if(T in c.sliceCaseReducersByType)throw new Error(zt(13));return c.sliceCaseReducersByType[T]=w,u},addMatcher(m,w){return c.sliceMatchers.push({matcher:m,reducer:w}),u},exposeAction(m,w){return c.actionCreators[m]=w,u},exposeCaseReducer(m,w){return c.sliceCaseReducersByName[m]=w,u}};l.forEach(m=>{const w=a[m],T={reducerName:m,type:CN(s,m),createNotation:typeof i.reducers=="function"};AN(w)?NN(T,w,u,e):PN(T,w,u)});function d(){const[m={},w=[],T=void 0]=typeof i.extraReducers=="function"?gT(i.extraReducers):[i.extraReducers],I={...m,...c.sliceCaseReducersByType};return gN(i.initialState,C=>{for(let x in I)C.addCase(x,I[x]);for(let x of c.sliceMatchers)C.addMatcher(x.matcher,x.reducer);for(let x of w)C.addMatcher(x.matcher,x.reducer);T&&C.addDefaultCase(T)})}const f=m=>m,g=new Map;let v;function E(m,w){return v||(v=d()),v(m,w)}function S(){return v||(v=d()),v.getInitialState()}function y(m,w=!1){function T(C){let x=C[m];return typeof x>"u"&&w&&(x=S()),x}function I(C=f){const x=Ew(g,w,{insert:()=>new WeakMap});return Ew(x,C,{insert:()=>{const M={};for(const[$,he]of Object.entries(i.selectors??{}))M[$]=RN(he,C,S,w);return M}})}return{reducerPath:m,getSelectors:I,get selectors(){return I(T)},selectSlice:T}}const p={name:s,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...y(o),injectInto(m,{reducerPath:w,...T}={}){const I=w??o;return m.inject({reducerPath:I,reducer:E},T),{...p,...y(I,!0)}}};return p}}function RN(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var li=xN();function bN(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function PN({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!kN(r))throw new Error(zt(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?ar(t,o):ar(t))}function AN(t){return t._reducerDefinitionType==="asyncThunk"}function kN(t){return t._reducerDefinitionType==="reducerWithPrepare"}function NN({type:t,reducerName:e},n,r,i){if(!i)throw new Error(zt(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,d=i(t,s,u);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||fc,pending:a||fc,rejected:l||fc,settled:c||fc})}function fc(){}var ON=(t,e)=>{if(typeof t!="function")throw new Error(zt(32))},Yg="listenerMiddleware",DN=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=ar(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(zt(21));return ON(s),{predicate:i,type:e,effect:s}},jN=Object.assign(t=>{const{type:e,predicate:n,effect:r}=DN(t);return{id:yT(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(zt(22))}}},{withTypes:()=>jN}),LN=Object.assign(ar(`${Yg}/add`),{withTypes:()=>LN});ar(`${Yg}/removeAll`);var $N=Object.assign(ar(`${Yg}/remove`),{withTypes:()=>$N});function zt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Xg="persist:",Jg="persist/FLUSH",Bd="persist/REHYDRATE",Zg="persist/PAUSE",ey="persist/PERSIST",ty="persist/PURGE",ny="persist/REGISTER",MN=-1;function Hc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hc=function(n){return typeof n}:Hc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hc(t)}function Tw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tw(n,!0).forEach(function(r){FN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UN(t,e,n,r){r.debug;var i=VN({},n);return t&&Hc(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function zN(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:Xg).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(T){return T}:typeof t.serialize=="function"?a=t.serialize:a=BN;var l=t.writeFailHandler||null,c={},u={},d=[],f=null,g=null,v=function(T){Object.keys(T).forEach(function(I){y(I)&&c[I]!==T[I]&&d.indexOf(I)===-1&&d.push(I)}),Object.keys(c).forEach(function(I){T[I]===void 0&&y(I)&&d.indexOf(I)===-1&&c[I]!==void 0&&d.push(I)}),f===null&&(f=setInterval(E,i)),c=T};function E(){if(d.length===0){f&&clearInterval(f),f=null;return}var w=d.shift(),T=r.reduce(function(I,C){return C.in(I,w,c)},c[w]);if(T!==void 0)try{u[w]=a(T)}catch(I){console.error("redux-persist/createPersistoid: error serializing state",I)}else delete u[w];d.length===0&&S()}function S(){Object.keys(u).forEach(function(w){c[w]===void 0&&delete u[w]}),g=o.setItem(s,a(u)).catch(p)}function y(w){return!(n&&n.indexOf(w)===-1&&w!=="_persist"||e&&e.indexOf(w)!==-1)}function p(w){l&&l(w)}var m=function(){for(;d.length!==0;)E();return g||Promise.resolve()};return{update:v,flush:m}}function BN(t){return JSON.stringify(t)}function HN(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Xg).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=WN,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(c,u){return u.out(c,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function WN(t){return JSON.parse(t)}function qN(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Xg).concat(t.key);return e.removeItem(n,KN)}function KN(t){}function Iw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iw(n,!0).forEach(function(r){GN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QN(t,e){if(t==null)return{};var n=YN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var XN=5e3;function ci(t,e){var n=t.version!==void 0?t.version:MN;t.debug;var r=t.stateReconciler===void 0?UN:t.stateReconciler,i=t.getStoredState||HN,s=t.timeout!==void 0?t.timeout:XN,o=null,a=!1,l=!0,c=function(d){return d._persist.rehydrated&&o&&!l&&o.update(d),d};return function(u,d){var f=u||{},g=f._persist,v=QN(f,["_persist"]),E=v;if(d.type===ey){var S=!1,y=function(x,M){S||(d.rehydrate(t.key,x,M),S=!0)};if(s&&setTimeout(function(){!S&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=zN(t)),g)return Xn({},e(E,d),{_persist:g});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(C){var x=t.migrate||function(M,$){return Promise.resolve(M)};x(C,n).then(function(M){y(M)},function(M){y(void 0,M)})},function(C){y(void 0,C)}),Xn({},e(E,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===ty)return a=!0,d.result(qN(t)),Xn({},e(E,d),{_persist:g});if(d.type===Jg)return d.result(o&&o.flush()),Xn({},e(E,d),{_persist:g});if(d.type===Zg)l=!0;else if(d.type===Bd){if(a)return Xn({},E,{_persist:Xn({},g,{rehydrated:!0})});if(d.key===t.key){var p=e(E,d),m=d.payload,w=r!==!1&&m!==void 0?r(m,u,p,t):p,T=Xn({},w,{_persist:Xn({},g,{rehydrated:!0})});return c(T)}}}if(!g)return e(u,d);var I=e(E,d);return I===E?u:c(Xn({},I,{_persist:g}))}}function Cw(t){return eO(t)||ZN(t)||JN()}function JN(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ZN(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function eO(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function xw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xw(n,!0).forEach(function(r){tO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vT={registry:[],bootstrapped:!1},nO=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vT,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ny:return tm({},e,{registry:[].concat(Cw(e.registry),[n.key])});case Bd:var r=e.registry.indexOf(n.key),i=Cw(e.registry);return i.splice(r,1),tm({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function rO(t,e,n){var r=n||!1,i=qg(nO,vT,e&&e.enhancer?e.enhancer:void 0),s=function(c){i.dispatch({type:ny,key:c})},o=function(c,u,d){var f={type:Bd,payload:u,err:d,key:c};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=tm({},i,{purge:function(){var c=[];return t.dispatch({type:ty,result:function(d){c.push(d)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:Jg,result:function(d){c.push(d)}}),Promise.all(c)},pause:function(){t.dispatch({type:Zg})},persist:function(){t.dispatch({type:ey,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var ry={},iy={};iy.__esModule=!0;iy.default=oO;function Wc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wc=function(n){return typeof n}:Wc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wc(t)}function If(){}var iO={getItem:If,setItem:If,removeItem:If};function sO(t){if((typeof self>"u"?"undefined":Wc(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function oO(t){var e="".concat(t,"Storage");return sO(e)?self[e]:iO}ry.__esModule=!0;ry.default=cO;var aO=lO(iy);function lO(t){return t&&t.__esModule?t:{default:t}}function cO(t){var e=(0,aO.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var _T=void 0,uO=dO(ry);function dO(t){return t&&t.__esModule?t:{default:t}}var hO=(0,uO.default)("local");_T=hO;var Rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ET={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[u],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new pO;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mO=function(t){const e=wT(t);return ET.encodeByteArray(e,!0)},zu=function(t){return mO(t).replace(/\./g,"")},ST=function(t){try{return ET.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=()=>gO().__FIREBASE_DEFAULTS__,vO=()=>{if(typeof process>"u"||typeof Rw>"u")return;const t=Rw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_O=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ST(t[1]);return e&&JSON.parse(e)},Hd=()=>{try{return yO()||vO()||_O()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TT=t=>{var e,n;return(n=(e=Hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IT=t=>{const e=TT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CT=()=>{var t;return(t=Hd())===null||t===void 0?void 0:t.config},xT=t=>{var e;return(e=Hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zu(JSON.stringify(n)),zu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function SO(){var t;const e=(t=Hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CO(){const t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xO(){return!SO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bT(){try{return typeof indexedDB=="object"}catch{return!1}}function RO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bO,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?PO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yn(i,a,r)}}function PO(t,e){return t.replace(AO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AO=/\{\$([^}]+)}/g;function kO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bw(s)&&bw(o)){if(!Bu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NO(t,e){const n=new OO(t,e);return n.subscribe.bind(n)}class OO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cf),i.error===void 0&&(i.error=Cf),i.complete===void 0&&(i.complete=Cf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($O(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LO(t){return t===Ti?void 0:t}function $O(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const VO={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},FO=se.INFO,UO={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},zO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=UO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sy{constructor(e){this.name=e,this._logLevel=FO,this._logHandler=zO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const BO=(t,e)=>e.some(n=>t instanceof n);let Pw,Aw;function HO(){return Pw||(Pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WO(){return Aw||(Aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PT=new WeakMap,nm=new WeakMap,AT=new WeakMap,xf=new WeakMap,oy=new WeakMap;function qO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PT.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function KO(t){if(nm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nm.set(t,e)}let rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GO(t){rm=t(rm)}function QO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rf(this),e,...n);return AT.set(r,e.sort?e.sort():[e]),Wr(r)}:WO().includes(t)?function(...e){return t.apply(Rf(this),e),Wr(PT.get(this))}:function(...e){return Wr(t.apply(Rf(this),e))}}function YO(t){return typeof t=="function"?QO(t):(t instanceof IDBTransaction&&KO(t),BO(t,HO())?new Proxy(t,rm):t)}function Wr(t){if(t instanceof IDBRequest)return qO(t);if(xf.has(t))return xf.get(t);const e=YO(t);return e!==t&&(xf.set(t,e),oy.set(e,t)),e}const Rf=t=>oy.get(t);function XO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wr(o.result),l.oldVersion,l.newVersion,Wr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JO=["get","getKey","getAll","getAllKeys","count"],ZO=["put","add","delete","clear"],bf=new Map;function kw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return bf.set(e,s),s}GO(t=>({...t,get:(e,n,r)=>kw(e,n)||t.get(e,n,r),has:(e,n)=>!!kw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",Nw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new sy("@firebase/app"),nD="@firebase/app-compat",rD="@firebase/analytics-compat",iD="@firebase/analytics",sD="@firebase/app-check-compat",oD="@firebase/app-check",aD="@firebase/auth",lD="@firebase/auth-compat",cD="@firebase/database",uD="@firebase/database-compat",dD="@firebase/functions",hD="@firebase/functions-compat",fD="@firebase/installations",pD="@firebase/installations-compat",mD="@firebase/messaging",gD="@firebase/messaging-compat",yD="@firebase/performance",vD="@firebase/performance-compat",_D="@firebase/remote-config",wD="@firebase/remote-config-compat",ED="@firebase/storage",SD="@firebase/storage-compat",TD="@firebase/firestore",ID="@firebase/firestore-compat",CD="firebase",xD="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",RD={[im]:"fire-core",[nD]:"fire-core-compat",[iD]:"fire-analytics",[rD]:"fire-analytics-compat",[oD]:"fire-app-check",[sD]:"fire-app-check-compat",[aD]:"fire-auth",[lD]:"fire-auth-compat",[cD]:"fire-rtdb",[uD]:"fire-rtdb-compat",[dD]:"fire-fn",[hD]:"fire-fn-compat",[fD]:"fire-iid",[pD]:"fire-iid-compat",[mD]:"fire-fcm",[gD]:"fire-fcm-compat",[yD]:"fire-perf",[vD]:"fire-perf-compat",[_D]:"fire-rc",[wD]:"fire-rc-compat",[ED]:"fire-gcs",[SD]:"fire-gcs-compat",[TD]:"fire-fst",[ID]:"fire-fst-compat","fire-js":"fire-js",[CD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Map,om=new Map;function bD(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gi(t){const e=t.name;if(om.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,t);for(const n of Hu.values())bD(n,t);return!0}function Wd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qr=new _l("app","Firebase",PD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=xD;function kT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=CT()),!n)throw qr.create("no-options");const s=Hu.get(i);if(s){if(Bu(n,s.options)&&Bu(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new MO(i);for(const l of om.values())o.addComponent(l);const a=new AD(n,r,o);return Hu.set(i,a),a}function ay(t=sm){const e=Hu.get(t);if(!e&&t===sm&&CT())return kT();if(!e)throw qr.create("no-app",{appName:t});return e}function Un(t,e,n){var r;let i=(r=RD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(a.join(" "));return}Gi(new ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="firebase-heartbeat-database",ND=1,Wa="firebase-heartbeat-store";let Pf=null;function NT(){return Pf||(Pf=XO(kD,ND,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),Pf}async function OD(t){try{const n=(await NT()).transaction(Wa),r=await n.objectStore(Wa).get(OT(t));return await n.done,r}catch(e){if(e instanceof Yn)Ki.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(n.message)}}}async function Ow(t,e){try{const r=(await NT()).transaction(Wa,"readwrite");await r.objectStore(Wa).put(e,OT(t)),await r.done}catch(n){if(n instanceof Yn)Ki.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(r.message)}}}function OT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=1024,jD=30*24*60*60*1e3;class LD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=jD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dw(),{heartbeatsToSend:r,unsentEntries:i}=$D(this._heartbeatsCache.heartbeats),s=zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Dw(){return new Date().toISOString().substring(0,10)}function $D(t,e=DD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bT()?RO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jw(t){return zu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){Gi(new ei("platform-logger",e=>new eD(e),"PRIVATE")),Gi(new ei("heartbeat",e=>new LD(e),"PRIVATE")),Un(im,Nw,t),Un(im,Nw,"esm2017"),Un("fire-js","")}VD("");var FD="firebase",UD="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(FD,UD,"app");function ly(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zD=DT,jT=new _l("auth","Firebase",DT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new sy("@firebase/auth");function BD(t,...e){Wu.logLevel<=se.WARN&&Wu.warn(`Auth (${ss}): ${t}`,...e)}function qc(t,...e){Wu.logLevel<=se.ERROR&&Wu.error(`Auth (${ss}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw cy(t,...e)}function zn(t,...e){return cy(t,...e)}function HD(t,e,n){const r=Object.assign(Object.assign({},zD()),{[e]:n});return new _l("auth","Firebase",r).create(e,{appName:t.name})}function cy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jT.create(t,...e)}function U(t,e,...n){if(!t)throw cy(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qc(e),new Error(e)}function fr(t,e){t||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WD(){return Lw()==="http:"||Lw()==="https:"}function Lw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WD()||TO()||"connection"in navigator)?navigator.onLine:!0}function KD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=EO()||IO()}get(){return qD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new El(3e4,6e4);function vr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _r(t,e,n,r,i={}){return $T(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=wl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),LT.fetch()(MT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function $T(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GD),e);try{const i=new XD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw pc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw pc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw pc(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw HD(t,u,c);bn(t,u)}}catch(i){if(i instanceof Yn)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function Sl(t,e,n,r,i={}){const s=await _r(t,e,n,r,i);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function MT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?uy(t.config,i):`${t.config.apiScheme}://${i}`}function YD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),QD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(t,e,r);return i.customData._tokenResponse=n,i}function $w(t){return t!==void 0&&t.enterprise!==void 0}class JD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ZD(t,e){return _r(t,"GET","/v2/recaptchaConfig",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(t,e){return _r(t,"POST","/v1/accounts:delete",e)}async function t2(t,e){return _r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n2(t,e=!1){const n=Fe(t),r=await n.getIdToken(e),i=dy(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pa(Af(i.auth_time)),issuedAtTime:pa(Af(i.iat)),expirationTime:pa(Af(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Af(t){return Number(t)*1e3}function dy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=ST(n);return i?JSON.parse(i):(qc("Failed to decode base64 JWT payload"),null)}catch(i){return qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function r2(t){const e=dy(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&i2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qa(t,t2(n,{idToken:r}));U(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?l2(s.providerUserInfo):[],a=a2(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new VT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function o2(t){const e=Fe(t);await qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l2(t){return t.map(e=>{var{providerId:n}=e,r=ly(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(t,e){const n=await $T(t,{},async()=>{const r=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u2(t,e){return _r(t,"POST","/v2/accounts:revokeToken",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return U(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await c2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ka;return r&&(U(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(U(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){U(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new VT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qa(this,this.stsTokenManager.getToken(this.auth,e));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n2(this,e)}reload(){return o2(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qa(this,e2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,p=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:m,emailVerified:w,isAnonymous:T,providerData:I,stsTokenManager:C}=n;U(m&&C,e,"internal-error");const x=Ka.fromJSON(this.name,C);U(typeof m=="string",e,"internal-error"),Tr(d,e.name),Tr(f,e.name),U(typeof w=="boolean",e,"internal-error"),U(typeof T=="boolean",e,"internal-error"),Tr(g,e.name),Tr(v,e.name),Tr(E,e.name),Tr(S,e.name),Tr(y,e.name),Tr(p,e.name);const M=new Li({uid:m,auth:e,email:f,emailVerified:w,displayName:d,isAnonymous:T,photoURL:v,phoneNumber:g,tenantId:E,stsTokenManager:x,createdAt:y,lastLoginAt:p});return I&&Array.isArray(I)&&(M.providerData=I.map($=>Object.assign({},$))),S&&(M._redirectEventId=S),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ka;i.updateFromServerResponse(n);const s=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;function ir(t){fr(t instanceof Function,"Expected a class definition");let e=Mw.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FT.type="NONE";const Vw=FT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e,n){return`firebase:${t}:${e}:${n}`}class Fs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fs(ir(Vw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ir(Vw);const o=Kc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Li._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Fs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WT(e))return"Blackberry";if(qT(e))return"Webos";if(hy(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UT(t=Ve()){return/firefox\//i.test(t)}function hy(t=Ve()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(t=Ve()){return/crios\//i.test(t)}function BT(t=Ve()){return/iemobile/i.test(t)}function HT(t=Ve()){return/android/i.test(t)}function WT(t=Ve()){return/blackberry/i.test(t)}function qT(t=Ve()){return/webos/i.test(t)}function qd(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d2(t=Ve()){var e;return qd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h2(){return CO()&&document.documentMode===10}function KT(t=Ve()){return qd(t)||HT(t)||qT(t)||WT(t)||/windows phone/i.test(t)||BT(t)}function f2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t,e=[]){let n;switch(t){case"Browser":n=Fw(Ve());break;case"Worker":n=`${Fw(Ve())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ss}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(t,e={}){return _r(t,"GET","/v2/passwordPolicy",vr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=6;class y2{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:g2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uw(this),this.idTokenSubscription=new Uw(this),this.beforeStateQueue=new p2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Fe(e):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m2(this),n=new y2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=await Fs.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ui(t){return Fe(t)}class Uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=NO(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _2(t){Kd=t}function QT(t){return Kd.loadJS(t)}function w2(){return Kd.recaptchaEnterpriseScript}function E2(){return Kd.gapiScript}function S2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const T2="recaptcha-enterprise",I2="NO_RECAPTCHA";class C2{constructor(e){this.type=T2,this.auth=ui(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ZD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new JD(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;$w(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(I2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&$w(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=w2();l.length!==0&&(l+=a),QT(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function zw(t,e,n,r=!1){const i=new C2(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ku(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await zw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await zw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e){const n=Wd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bu(s,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function R2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b2(t,e,n){const r=ui(t);U(r._canInitEmulator,r,"emulator-config-failed"),U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=YT(e),{host:o,port:a}=P2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||A2()}function YT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P2(t){const e=YT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Bw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Bw(o)}}}function Bw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function k2(t,e){return _r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t,e){return Sl(t,"POST","/v1/accounts:signInWithPassword",vr(t,e))}async function XT(t,e){return _r(t,"POST","/v1/accounts:sendOobCode",vr(t,e))}async function O2(t,e){return XT(t,e)}async function D2(t,e){return XT(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e){return Sl(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,e))}async function L2(t,e){return Sl(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends fy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ga(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ga(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ku(e,n,"signInWithPassword",N2);case"emailLink":return j2(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ku(e,r,"signUpPassword",k2);case"emailLink":return L2(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t,e){return Sl(t,"POST","/v1/accounts:signInWithIdp",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="http://localhost";class Qi extends fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ly(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Qi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Us(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Us(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Us(e,n)}buildRequest(){const e={requestUri:$2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V2(t){const e=Xo(Jo(t)).link,n=e?Xo(Jo(e)).deep_link_id:null,r=Xo(Jo(t)).deep_link_id;return(r?Xo(Jo(r)).link:null)||r||n||e||t}class py{constructor(e){var n,r,i,s,o,a;const l=Xo(Jo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=M2((i=l.mode)!==null&&i!==void 0?i:null);U(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=V2(e);try{return new py(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Ga._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=py.parseLink(n);return U(r,"argument-error"),Ga._fromEmailAndCode(e,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends JT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Tl{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qi._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Tl{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Tl{constructor(){super("twitter.com")}static credential(e,n){return Qi._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e){return Sl(t,"POST","/v1/accounts:signUp",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Li._fromIdTokenResponse(e,r,i),o=Hw(r);return new Yi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Hw(r);return new Yi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Hw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Yn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gu(e,n,r,i)}}function ZT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gu._fromErrorAndOperation(t,s,e,r):s})}async function U2(t,e,n=!1){const r=await qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await qa(t,ZT(r,i,e,t),n);U(s.idToken,r,"internal-error");const o=dy(s.idToken);U(o,r,"internal-error");const{sub:a}=o;return U(t.uid===a,r,"user-mismatch"),Yi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(t,e,n=!1){const r="signIn",i=await ZT(t,r,e),s=await Yi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function B2(t,e){return eI(ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t,e,n){var r;U(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),U(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(U(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(U(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(t){const e=ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H2(t,e,n){const r=ui(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&tI(r,i,n),await Ku(r,i,"getOobCode",D2)}async function W2(t,e,n){const r=ui(t),o=await Ku(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",F2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&nI(t),l}),a=await Yi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function q2(t,e,n){return B2(Fe(t),vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nI(t),r})}async function K2(t,e){const n=Fe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&tI(n.auth,i,e);const{email:s}=await O2(n.auth,i);s!==t.email&&await t.reload()}function G2(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function Q2(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}const Qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qu,"1"),this.storage.removeItem(Qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){const t=Ve();return hy(t)||qd(t)}const X2=1e3,J2=10;class iI extends rI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Y2()&&f2(),this.fallbackToPolling=KT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);h2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,J2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iI.type="LOCAL";const Z2=iI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI extends rI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sI.type="SESSION";const oI=sI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await ej(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=my("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function nj(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function rj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ij(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sj(){return aI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="firebaseLocalStorageDb",oj=1,Yu="firebaseLocalStorage",cI="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qd(t,e){return t.transaction([Yu],e?"readwrite":"readonly").objectStore(Yu)}function aj(){const t=indexedDB.deleteDatabase(lI);return new Il(t).toPromise()}function lm(){const t=indexedDB.open(lI,oj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yu,{keyPath:cI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yu)?e(r):(r.close(),await aj(),e(await lm()))})})}async function Ww(t,e,n){const r=Qd(t,!0).put({[cI]:e,value:n});return new Il(r).toPromise()}async function lj(t,e){const n=Qd(t,!1).get(e),r=await new Il(n).toPromise();return r===void 0?null:r.value}function qw(t,e){const n=Qd(t,!0).delete(e);return new Il(n).toPromise()}const cj=800,uj=3;class uI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(sj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rj(),!this.activeServiceWorker)return;this.sender=new tj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ij()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await Ww(e,Qu,"1"),await qw(e,Qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ww(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qd(i,!1).getAll();return new Il(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uI.type="LOCAL";const dj=uI;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t,e){return e?ir(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends fy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Us(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Us(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Us(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fj(t){return eI(t.auth,new gy(t),t.bypassAuthState)}function pj(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),z2(n,new gy(t),t.bypassAuthState)}async function mj(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),U2(n,new gy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fj;case"linkViaPopup":case"linkViaRedirect":return mj;case"reauthViaPopup":case"reauthViaRedirect":return pj;default:bn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new El(2e3,1e4);class ks extends dI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return U(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gj.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="pendingRedirect",Gc=new Map;class vj extends dI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await _j(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _j(t,e){const n=Sj(e),r=Ej(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wj(t,e){Gc.set(t._key(),e)}function Ej(t){return ir(t._redirectPersistence)}function Sj(t){return Kc(yj,t.config.apiKey,t.name)}async function Tj(t,e,n=!1){const r=ui(t),i=hj(r,e),o=await new vj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=10*60*1e3;class Cj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ij&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kw(e))}saveEventToCache(e){this.cachedEventUids.add(Kw(e)),this.lastProcessedEventTime=Date.now()}}function Kw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e={}){return _r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pj=/^https?/;async function Aj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Rj(t);for(const n of e)try{if(kj(n))return}catch{}bn(t,"unauthorized-domain")}function kj(t){const e=am(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Pj.test(n))return!1;if(bj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new El(3e4,6e4);function Gw(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Oj(t){return new Promise((e,n)=>{var r,i,s;function o(){Gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gw(),n(zn(t,"network-request-failed"))},timeout:Nj.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bn().gapi)===null||s===void 0)&&s.load)o();else{const a=S2("iframefcb");return Bn()[a]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},QT(`${E2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function Dj(t){return Qc=Qc||Oj(t),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new El(5e3,15e3),Lj="__/auth/iframe",$j="emulator/auth/iframe",Mj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fj(t){const e=t.config;U(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uy(e,$j):`https://${t.config.authDomain}/${Lj}`,r={apiKey:e.apiKey,appName:t.name,v:ss},i=Vj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wl(r).slice(1)}`}async function Uj(t){const e=await Dj(t),n=Bn().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:Fj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),a=Bn().setTimeout(()=>{s(o)},jj.get());function l(){Bn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bj=500,Hj=600,Wj="_blank",qj="http://localhost";class Qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kj(t,e,n,r=Bj,i=Hj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zj),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ve().toLowerCase();n&&(a=zT(c)?Wj:n),UT(c)&&(e=e||qj,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(d2(c)&&a!=="_self")return Gj(e||"",a),new Qw(null);const d=window.open(e||"",a,u);U(d,t,"popup-blocked");try{d.focus()}catch{}return new Qw(d)}function Gj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="__/auth/handler",Yj="emulator/auth/handler",Xj=encodeURIComponent("fac");async function Yw(t,e,n,r,i,s){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ss,eventId:i};if(e instanceof JT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Tl){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Xj}=${encodeURIComponent(l)}`:"";return`${Jj(t)}?${wl(a).slice(1)}${c}`}function Jj({config:t}){return t.emulator?uy(t,Yj):`https://${t.authDomain}/${Qj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class Zj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oI,this._completeRedirectFn=Tj,this._overrideRedirectResult=wj}async _openPopup(e,n,r,i){var s;fr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Yw(e,n,r,am(),i);return Kj(e,o,my())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Yw(e,n,r,am(),i);return nj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(fr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Uj(e),r=new Cj(e);return n.register("authEvent",i=>(U(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kf,{type:kf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[kf];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Aj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KT()||hy()||qd()}}const eL=Zj;var Xw="@firebase/auth",Jw="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rL(t){Gi(new ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;U(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(t)},c=new v2(r,i,s,l);return R2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gi(new ei("auth-internal",e=>{const n=ui(e.getProvider("auth").getImmediate());return(r=>new tL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(Xw,Jw,nL(t)),Un(Xw,Jw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=5*60,sL=xT("authIdTokenMaxAge")||iL;let Zw=null;const oL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sL)return;const i=n==null?void 0:n.token;Zw!==i&&(Zw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aL(t=ay()){const e=Wd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x2(t,{popupRedirectResolver:eL,persistence:[dj,Z2,oI]}),r=xT("authTokenSyncURL");if(r){const s=oL(r);Q2(n,s,()=>s(n.currentUser)),G2(n,o=>s(o))}const i=TT("auth");return i&&b2(n,`http://${i}`),n}function lL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebasestorage.googleapis.com",pI="storageBucket",cL=2*60*1e3,uL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends Yn{constructor(e,n,r=0){super(Nf(e),`Firebase Storage: ${n} (${Nf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function Nf(t){return"storage/"+t}function mI(){const t="An unknown error occurred, please check the error payload for server response.";return new Ze(Xe.UNKNOWN,t)}function dL(t){return new Ze(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function hL(t){return new Ze(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Xe.UNAUTHENTICATED,t)}function pL(){return new Ze(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mL(t){return new Ze(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function gL(){return new Ze(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yL(){return new Ze(Xe.CANCELED,"User canceled the upload/download.")}function vL(t){return new Ze(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function _L(t){return new Ze(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wL(){return new Ze(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pI+"' property when initializing the app?")}function EL(){return new Ze(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cm(t){return new Ze(Xe.INVALID_ARGUMENT,t)}function gI(){return new Ze(Xe.APP_DELETED,"The Firebase app was deleted.")}function SL(t){return new Ze(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zo(t){throw new Ze(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gt.makeFromUrl(e,n)}catch{return new Gt(e,"")}if(r.path==="")return r;throw _L(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},E=n===fI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",y=new RegExp(`^https?://${E}/${i}/${S}`,"i"),m=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<m.length;w++){const T=m[w],I=T.regex.exec(e);if(I){const C=I[T.indices.bucket];let x=I[T.indices.path];x||(x=""),r=new Gt(C,x),T.postModify(r);break}}if(r==null)throw vL(e);return r}}class TL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...S){c||(c=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(g,l())},S)}function f(){s&&clearTimeout(s)}function g(S,...y){if(c){f();return}if(S){f(),u.call(null,S,...y);return}if(l()||o){f(),u.call(null,S,...y);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,d(m)}let v=!1;function E(S){v||(v=!0,f(),!c&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function CL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){return t!==void 0}function RL(t){return typeof t=="object"&&!Array.isArray(t)}function yI(t){return typeof t=="string"||t instanceof String}function e0(t,e,n,r){if(r<e)throw cm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _I(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($i||($i={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new mc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$i.NO_ERROR,l=s.getStatus();if(!a||bL(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===$i.ABORT;r(!1,new mc(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new mc(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());xL(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=mI();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?gI():yL();o(l)}else{const l=gL();o(l)}};this.canceled_?n(!1,new mc(!1,null,!0)):this.backoffId_=IL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function AL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DL(t,e,n,r,i,s,o=!0){const a=_I(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return NL(c,e),AL(c,n),kL(c,s),OL(c,r),new PL(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){let e;try{e=JSON.parse(t)}catch{return null}return RL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function LL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t,e){return e}class xt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||$L}}let gc=null;function ML(t){return!yI(t)||t.length<2?t:EI(t)}function VL(){if(gc)return gc;const t=[];t.push(new xt("bucket")),t.push(new xt("generation")),t.push(new xt("metageneration")),t.push(new xt("name","fullPath",!0));function e(s,o){return ML(o)}const n=new xt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new xt("size");return i.xform=r,t.push(i),t.push(new xt("timeCreated")),t.push(new xt("updated")),t.push(new xt("md5Hash",null,!0)),t.push(new xt("cacheControl",null,!0)),t.push(new xt("contentDisposition",null,!0)),t.push(new xt("contentEncoding",null,!0)),t.push(new xt("contentLanguage",null,!0)),t.push(new xt("contentType",null,!0)),t.push(new xt("metadata","customMetadata",!0)),gc=t,gc}function FL(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Gt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function UL(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return FL(r,t),r}function zL(t,e,n){const r=wI(e);return r===null?null:UL(t,r,n)}function BL(t,e,n,r){const i=wI(e);if(i===null||!yI(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),g=vI(f,n,r),v=_I({alt:"media",token:c});return g+v})[0]}class HL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){if(!t)throw mI()}function qL(t,e){function n(r,i){const s=zL(t,i,e);return WL(s!==null),BL(s,i,t.host,t._protocol)}return n}function KL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=pL():i=fL():n.getStatus()===402?i=hL(t.bucket):n.getStatus()===403?i=mL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function GL(t){const e=KL(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=dL(t.path)),s.serverResponse=i.serverResponse,s}return n}function QL(t,e,n){const r=e.fullServerUrl(),i=vI(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new HL(i,s,qL(t,n),o);return a.errorHandler=GL(e),a}class YL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$i.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$i.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$i.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw zo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XL extends YL{initXhr(){this.xhr_.responseType="text"}}function JL(){return new XL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this._service=e,n instanceof Gt?this._location=n:this._location=Gt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xi(e,n)}get root(){const e=new Gt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EI(this._location.path)}get storage(){return this._service}get parent(){const e=jL(this._location.path);if(e===null)return null;const n=new Gt(this._location.bucket,e);return new Xi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SL(e)}}function ZL(t){t._throwIfRoot("getDownloadURL");const e=QL(t.storage,t._location,VL());return t.storage.makeRequestWithTokens(e,JL).then(n=>{if(n===null)throw EL();return n})}function e$(t,e){const n=LL(t._location.path,e),r=new Gt(t._location.bucket,n);return new Xi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t){return/^[A-Za-z]+:\/\//.test(t)}function n$(t,e){return new Xi(t,e)}function SI(t,e){if(t instanceof yy){const n=t;if(n._bucket==null)throw wL();const r=new Xi(n,n._bucket);return e!=null?SI(r,e):r}else return e!==void 0?e$(t,e):t}function r$(t,e){if(e&&t$(e)){if(t instanceof yy)return n$(t,e);throw cm("To use ref(service, url), the first argument must be a Storage instance.")}else return SI(t,e)}function t0(t,e){const n=e==null?void 0:e[pI];return n==null?null:Gt.makeFromBucketSpec(n,t)}function i$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:RT(i,t.app.options.projectId))}class yy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=fI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cL,this._maxUploadRetryTime=uL,this._requests=new Set,i!=null?this._bucket=Gt.makeFromBucketSpec(i,this._host):this._bucket=t0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gt.makeFromBucketSpec(this._url,e):this._bucket=t0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xi(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new TL(gI());{const o=DL(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const n0="@firebase/storage",r0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="storage";function s$(t){return t=Fe(t),ZL(t)}function o$(t,e){return t=Fe(t),r$(t,e)}function a$(t=ay(),e){t=Fe(t);const r=Wd(t,TI).getImmediate({identifier:e}),i=IT("storage");return i&&l$(r,...i),r}function l$(t,e,n,r={}){i$(t,e,n,r)}function c$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yy(n,r,i,e,ss)}function u$(){Gi(new ei(TI,c$,"PUBLIC").setMultipleInstances(!0)),Un(n0,r0,""),Un(n0,r0,"esm2017")}u$();var d$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,vy=vy||{},Q=d$||self;function Yd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function h$(t){return Object.prototype.hasOwnProperty.call(t,Of)&&t[Of]||(t[Of]=++f$)}var Of="closure_uid_"+(1e9*Math.random()>>>0),f$=0;function p$(t,e,n){return t.call.apply(t.bind,arguments)}function m$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Et(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Et=p$:Et=m$,Et.apply(null,arguments)}function yc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function di(){this.s=this.s,this.o=this.o}var g$=0;di.prototype.s=!1;di.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),g$!=0)&&h$(this)};di.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const II=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function _y(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function i0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function St(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var y$=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Qa(t){return/^[\s\xa0]*$/.test(t)}function Xd(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Ln(t){return Xd().indexOf(t)!=-1}function wy(t){return wy[" "](t),t}wy[" "]=function(){};function v$(t,e){var n=uM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _$=Ln("Opera"),Zs=Ln("Trident")||Ln("MSIE"),CI=Ln("Edge"),um=CI||Zs,xI=Ln("Gecko")&&!(Xd().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),w$=Xd().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function RI(){var t=Q.document;return t?t.documentMode:void 0}var dm;e:{var Df="",jf=function(){var t=Xd();if(xI)return/rv:([^\);]+)(\)|;)/.exec(t);if(CI)return/Edge\/([\d\.]+)/.exec(t);if(Zs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(w$)return/WebKit\/(\S+)/.exec(t);if(_$)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(jf&&(Df=jf?jf[1]:""),Zs){var Lf=RI();if(Lf!=null&&Lf>parseFloat(Df)){dm=String(Lf);break e}}dm=Df}var hm;if(Q.document&&Zs){var s0=RI();hm=s0||parseInt(dm,10)||void 0}else hm=void 0;var E$=hm;function Ya(t,e){if(St.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xI){e:{try{wy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:S$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ya.$.h.call(this)}}et(Ya,St);var S$={2:"touch",3:"pen",4:"mouse"};Ya.prototype.h=function(){Ya.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xl="closure_listenable_"+(1e6*Math.random()|0),T$=0;function I$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++T$,this.fa=this.ia=!1}function Jd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ey(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function C$(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function bI(t){const e={};for(const n in t)e[n]=t[n];return e}const o0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<o0.length;s++)n=o0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zd(t){this.src=t,this.g={},this.h=0}Zd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=pm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new I$(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function fm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=II(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Jd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function pm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Sy="closure_lm_"+(1e6*Math.random()|0),$f={};function AI(t,e,n,r,i){if(r&&r.once)return NI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AI(t,e[s],n,r,i);return null}return n=Cy(n),t&&t[xl]?t.O(e,n,Cl(r)?!!r.capture:!!r,i):kI(t,e,n,!1,r,i)}function kI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Cl(i)?!!i.capture:!!i,a=Iy(t);if(a||(t[Sy]=a=new Zd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=x$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)y$||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(DI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function x$(){function t(n){return e.call(t.src,t.listener,n)}const e=R$;return t}function NI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)NI(t,e[s],n,r,i);return null}return n=Cy(n),t&&t[xl]?t.P(e,n,Cl(r)?!!r.capture:!!r,i):kI(t,e,n,!0,r,i)}function OI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)OI(t,e[s],n,r,i);else r=Cl(r)?!!r.capture:!!r,n=Cy(n),t&&t[xl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=pm(s,n,r,i),-1<n&&(Jd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Iy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pm(e,n,r,i)),(n=-1<t?e[t]:null)&&Ty(n))}function Ty(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[xl])fm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(DI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Iy(e))?(fm(n,t),n.h==0&&(n.src=null,e[Sy]=null)):Jd(t)}}}function DI(t){return t in $f?$f[t]:$f[t]="on"+t}function R$(t,e){if(t.fa)t=!0;else{e=new Ya(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ty(t),t=n.call(r,e)}return t}function Iy(t){return t=t[Sy],t instanceof Zd?t:null}var Mf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cy(t){return typeof t=="function"?t:(t[Mf]||(t[Mf]=function(e){return t.handleEvent(e)}),t[Mf])}function Je(){di.call(this),this.i=new Zd(this),this.S=this,this.J=null}et(Je,di);Je.prototype[xl]=!0;Je.prototype.removeEventListener=function(t,e,n,r){OI(this,t,e,n,r)};function lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new St(e,t);else if(e instanceof St)e.target=e.target||t;else{var i=e;e=new St(r,t),PI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=vc(o,r,!0,e)&&i}if(o=e.g=t,i=vc(o,r,!0,e)&&i,i=vc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=vc(o,r,!1,e)&&i}Je.prototype.N=function(){if(Je.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jd(n[r]);delete t.g[e],t.h--}}this.J=null};Je.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Je.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&fm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var xy=Q.JSON.stringify;class b${constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function P$(){var t=Ry;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class A${constructor(){this.h=this.g=null}add(e,n){const r=jI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var jI=new b$(()=>new k$,t=>t.reset());class k${constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function N$(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function O$(t){Q.setTimeout(()=>{throw t},0)}let Xa,Ja=!1,Ry=new A$,LI=()=>{const t=Q.Promise.resolve(void 0);Xa=()=>{t.then(D$)}};var D$=()=>{for(var t;t=P$();){try{t.h.call(t.g)}catch(n){O$(n)}var e=jI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ja=!1};function eh(t,e){Je.call(this),this.h=t||1,this.g=e||Q,this.j=Et(this.qb,this),this.l=Date.now()}et(eh,Je);N=eh.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(by(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function by(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){eh.$.N.call(this),by(this),delete this.g};function Py(t,e,n){if(typeof t=="function")n&&(t=Et(t,n));else if(t&&typeof t.handleEvent=="function")t=Et(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function $I(t){t.g=Py(()=>{t.g=null,t.i&&(t.i=!1,$I(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class j$ extends di{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$I(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(t){di.call(this),this.h=t,this.g={}}et(Za,di);var a0=[];function MI(t,e,n,r){Array.isArray(n)||(n&&(a0[0]=n.toString()),n=a0);for(var i=0;i<n.length;i++){var s=AI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function VI(t){Ey(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ty(e)},t),t.g={}}Za.prototype.N=function(){Za.$.N.call(this),VI(this)};Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function th(){this.g=!0}th.prototype.Ea=function(){this.g=!1};function L$(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function $$(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ns(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+V$(t,n)+(r?" "+r:"")})}function M$(t,e){t.info(function(){return"TIMEOUT: "+e})}th.prototype.info=function(){};function V$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return xy(n)}catch{return e}}var os={},l0=null;function nh(){return l0=l0||new Je}os.Ta="serverreachability";function FI(t){St.call(this,os.Ta,t)}et(FI,St);function el(t){const e=nh();lt(e,new FI(e))}os.STAT_EVENT="statevent";function UI(t,e){St.call(this,os.STAT_EVENT,t),this.stat=e}et(UI,St);function bt(t){const e=nh();lt(e,new UI(e,t))}os.Ua="timingevent";function zI(t,e){St.call(this,os.Ua,t),this.size=e}et(zI,St);function Rl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var rh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ay(){}Ay.prototype.h=null;function c0(t){return t.h||(t.h=t.i())}function HI(){}var bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ky(){St.call(this,"d")}et(ky,St);function Ny(){St.call(this,"c")}et(Ny,St);var mm;function ih(){}et(ih,Ay);ih.prototype.g=function(){return new XMLHttpRequest};ih.prototype.i=function(){return{}};mm=new ih;function Pl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Za(this),this.P=F$,t=um?125:void 0,this.V=new eh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WI}function WI(){this.i=null,this.g="",this.h=!1}var F$=45e3,qI={},gm={};N=Pl.prototype;N.setTimeout=function(t){this.P=t};function ym(t,e,n){t.L=1,t.A=oh(pr(e)),t.u=n,t.S=!0,KI(t,null)}function KI(t,e){t.G=Date.now(),Al(t),t.B=pr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),tC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new WI,t.g=SC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new j$(Et(t.Pa,t,t.g),t.O)),MI(t.U,t.g,"readystatechange",t.nb),e=t.I?bI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),el(),L$(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;const e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const u=$n(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||um||this.g&&(this.h.h||this.g.ja()||f0(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?el(3):el(2)),sh(this);var n=this.g.da();this.ca=n;t:if(GI(this)){var r=f0(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),ma(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,$$(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qa(a)){var c=a;break t}}c=null}if(n=c)Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vm(this,n);else{this.i=!1,this.s=3,bt(12),Pi(this),ma(this);break e}}this.S?(QI(this,u,o),um&&this.i&&u==3&&(MI(this.U,this.V,"tick",this.mb),this.V.start())):(Ns(this.j,this.m,o,null),vm(this,o)),u==4&&Pi(this),this.i&&!this.J&&(u==4?vC(this.l,this):(this.i=!1,Al(this)))}else aM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Pi(this),ma(this)}}}catch{}finally{}};function GI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function QI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=U$(t,n),i==gm){e==4&&(t.s=4,bt(14),r=!1),Ns(t.j,t.m,null,"[Incomplete Response]");break}else if(i==qI){t.s=4,bt(15),Ns(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ns(t.j,t.m,i,null),vm(t,i);GI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,bt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),My(e),e.M=!0,bt(11))):(Ns(t.j,t.m,n,"[Invalid Chunked Response]"),Pi(t),ma(t))}N.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.o<e.length&&(sh(this),QI(this,t,e),this.i&&t!=4&&Al(this))}};function U$(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?gm:(n=Number(e.substring(n,r)),isNaN(n)?qI:(r+=1,r+n>e.length?gm:(e=e.slice(r,r+n),t.o=r+n,e)))}N.cancel=function(){this.J=!0,Pi(this)};function Al(t){t.Y=Date.now()+t.P,YI(t,t.P)}function YI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Rl(Et(t.lb,t),e)}function sh(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(M$(this.j,this.B),this.L!=2&&(el(),bt(17)),Pi(this),this.s=2,ma(this)):YI(this,this.Y-t)};function ma(t){t.l.H==0||t.J||vC(t.l,t)}function Pi(t){sh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,by(t.V),VI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function vm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||_m(n.i,t))){if(!t.K&&_m(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zu(n),uh(n);else break e;$y(n),bt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Rl(Et(n.ib,n),6e3));if(1>=iC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ai(n,11)}else if((t.K||n.g==t)&&Zu(n),!Qa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Oy(s,s.h),s.h=null))}if(r.F){const E=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Ee(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=EC(r,r.J?r.pa:null,r.Y),o.K){sC(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(sh(a),Al(a)),r.g=o}else gC(r);0<n.j.length&&dh(n)}else c[0]!="stop"&&c[0]!="close"||Ai(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ai(n,7):Ly(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}el(4)}catch{}}function z$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Yd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function B$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function XI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Yd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=B$(t),r=z$(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var JI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Mi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mi){this.h=t.h,Xu(this,t.j),this.s=t.s,this.g=t.g,Ju(this,t.m),this.l=t.l;var e=t.i,n=new tl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),u0(this,n),this.o=t.o}else t&&(e=String(t).match(JI))?(this.h=!1,Xu(this,e[1]||"",!0),this.s=Zo(e[2]||""),this.g=Zo(e[3]||"",!0),Ju(this,e[4]),this.l=Zo(e[5]||"",!0),u0(this,e[6]||"",!0),this.o=Zo(e[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}Mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ea(e,d0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ea(e,d0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ea(n,n.charAt(0)=="/"?K$:q$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ea(n,Q$)),t.join("")};function pr(t){return new Mi(t)}function Xu(t,e,n){t.j=n?Zo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ju(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function u0(t,e,n){e instanceof tl?(t.i=e,Y$(t.i,t.h)):(n||(e=ea(e,G$)),t.i=new tl(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function oh(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ea(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,W$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function W$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var d0=/[#\/\?@]/g,q$=/[#\?:]/g,K$=/[#\?]/g,G$=/[#\?@]/g,Q$=/#/g;function tl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hi(t){t.g||(t.g=new Map,t.h=0,t.i&&H$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=tl.prototype;N.add=function(t,e){hi(this),this.i=null,t=_o(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ZI(t,e){hi(t),e=_o(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function eC(t,e){return hi(t),e=_o(t,e),t.g.has(e)}N.forEach=function(t,e){hi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};N.ta=function(){hi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};N.Z=function(t){hi(this);let e=[];if(typeof t=="string")eC(this,t)&&(e=e.concat(this.g.get(_o(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return hi(this),this.i=null,t=_o(this,t),eC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function tC(t,e,n){ZI(t,e),0<n.length&&(t.i=null,t.g.set(_o(t,e),_y(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function _o(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Y$(t,e){e&&!t.j&&(hi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ZI(this,r),tC(this,i,n))},t)),t.j=e}var X$=class{constructor(t,e){this.g=t,this.map=e}};function nC(t){this.l=t||J$,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var J$=10;function rC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function iC(t){return t.h?1:t.g?t.g.size:0}function _m(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Oy(t,e){t.g?t.g.add(e):t.h=e}function sC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}nC.prototype.cancel=function(){if(this.i=oC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function oC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return _y(t.i)}var Z$=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function eM(){this.g=new Z$}function tM(t,e,n){const r=n||"";try{XI(t,function(i,s){let o=i;Cl(i)&&(o=xy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function nM(t,e){const n=new th;if(Q.Image){const r=new Image;r.onload=yc(_c,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yc(_c,n,r,"TestLoadImage: error",!1,e),r.onabort=yc(_c,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yc(_c,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _c(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ah(t){this.l=t.ec||null,this.j=t.ob||!1}et(ah,Ay);ah.prototype.g=function(){return new lh(this.l,this.j)};ah.prototype.i=function(t){return function(){return t}}({});function lh(t,e){Je.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Dy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(lh,Je);var Dy=0;N=lh.prototype;N.open=function(t,e){if(this.readyState!=Dy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nl(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kl(this)),this.readyState=Dy};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function aC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kl(this):nl(this),this.readyState==3&&aC(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,kl(this))};N.Ya=function(t){this.g&&(this.response=t,kl(this))};N.ka=function(){this.g&&kl(this)};function kl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nl(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var rM=Q.JSON.parse;function Ne(t){Je.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lC,this.L=this.M=!1}et(Ne,Je);var lC="",iM=/^https?$/i,sM=["POST","PUT"];N=Ne.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mm.g(),this.C=this.u?c0(this.u):c0(mm),this.g.onreadystatechange=Et(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){h0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=II(sM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dC(this),0<this.B&&((this.L=oM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.ua,this)):this.A=Py(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){h0(this,s)}};function oM(t){return Zs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof vy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function h0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,cC(t),ch(t)}function cC(t){t.F||(t.F=!0,lt(t,"complete"),lt(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lt(this,"complete"),lt(this,"abort"),ch(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ch(this,!0)),Ne.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?uC(this):this.kb())};N.kb=function(){uC(this)};function uC(t){if(t.h&&typeof vy<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)Py(t.La,0,t);else if(lt(t,"readystatechange"),$n(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(JI)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!iM.test(i?i.toLowerCase():"")}n=r}if(n)lt(t,"complete"),lt(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",cC(t)}}finally{ch(t)}}}}function ch(t,e){if(t.g){dC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function dC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),rM(e)}};function f0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case lC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function aM(t){const e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qa(t[r]))continue;var n=N$(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}C$(e,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function hC(t){let e="";return Ey(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function jy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ee(t,e,n))}function Bo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fC(t){this.Ga=0,this.j=[],this.l=new th,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bo("baseRetryDelayMs",5e3,t),this.hb=Bo("retryDelaySeedMs",1e4,t),this.eb=Bo("forwardChannelMaxRetries",2,t),this.xa=Bo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new nC(t&&t.concurrentRequestLimit),this.Ja=new eM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=fC.prototype;N.ra=8;N.H=1;function Ly(t){if(pC(t),t.H==3){var e=t.W++,n=pr(t.I);if(Ee(n,"SID",t.K),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),Nl(t,n),e=new Pl(t,t.l,e),e.L=2,e.A=oh(pr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=SC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Al(e)}wC(t)}function uh(t){t.g&&(My(t),t.g.cancel(),t.g=null)}function pC(t){uh(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Zu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function dh(t){if(!rC(t.i)&&!t.m){t.m=!0;var e=t.Na;Xa||LI(),Ja||(Xa(),Ja=!0),Ry.add(e,t),t.C=0}}function lM(t,e){return iC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Rl(Et(t.Na,t,e),_C(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=bI(s),PI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=mC(this,i,e),n=pr(this.I),Ee(n,"RID",t),Ee(n,"CVER",22),this.F&&Ee(n,"X-HTTP-Session-Id",this.F),Nl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(hC(s)))+"&"+e:this.o&&jy(n,this.o,s)),Oy(this.i,i),this.bb&&Ee(n,"TYPE","init"),this.P?(Ee(n,"$req",e),Ee(n,"SID","null"),i.aa=!0,ym(i,n,null)):ym(i,n,e),this.H=2}}else this.H==3&&(t?p0(this,t):this.j.length==0||rC(this.i)||p0(this))};function p0(t,e){var n;e?n=e.m:n=t.W++;const r=pr(t.I);Ee(r,"SID",t.K),Ee(r,"RID",n),Ee(r,"AID",t.V),Nl(t,r),t.o&&t.s&&jy(r,t.o,t.s),n=new Pl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=mC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Oy(t.i,n),ym(n,r,e)}function Nl(t,e){t.na&&Ey(t.na,function(n,r){Ee(e,r,n)}),t.h&&XI({},function(n,r){Ee(e,r,n)})}function mC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Et(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{tM(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function gC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xa||LI(),Ja||(Xa(),Ja=!0),Ry.add(e,t),t.A=0}}function $y(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Rl(Et(t.Ma,t),_C(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,yC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rl(Et(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bt(10),uh(this),yC(this))};function My(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function yC(t){t.g=new Pl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=pr(t.wa);Ee(e,"RID","rpc"),Ee(e,"SID",t.K),Ee(e,"AID",t.V),Ee(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ee(e,"TO",t.qa),Ee(e,"TYPE","xmlhttp"),Nl(t,e),t.o&&t.s&&jy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=oh(pr(e)),n.u=null,n.S=!0,KI(n,t)}N.ib=function(){this.v!=null&&(this.v=null,uh(this),$y(this),bt(19))};function Zu(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function vC(t,e){var n=null;if(t.g==e){Zu(t),My(t),t.g=null;var r=2}else if(_m(t.i,e))n=e.F,sC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=nh(),lt(r,new zI(r,n)),dh(t)}else gC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&lM(t,e)||r==2&&$y(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}}function _C(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Et(t.pb,t);n||(n=new Mi("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Xu(n,"https"),oh(n)),nM(n.toString(),r)}else bt(2);t.H=0,t.h&&t.h.za(e),wC(t),pC(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bt(2)):(this.l.info("Failed to ping google.com"),bt(1))};function wC(t){if(t.H=0,t.ma=[],t.h){const e=oC(t.i);(e.length!=0||t.j.length!=0)&&(i0(t.ma,e),i0(t.ma,t.j),t.i.i.length=0,_y(t.j),t.j.length=0),t.h.ya()}}function EC(t,e,n){var r=n instanceof Mi?pr(n):new Mi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ju(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Mi(null);r&&Xu(s,r),e&&(s.g=e),i&&Ju(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ee(r,n,e),Ee(r,"VER",t.ra),Nl(t,r),r}function SC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ne(new ah({ob:n})):new Ne(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function TC(){}N=TC.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function ed(){if(Zs&&!(10<=Number(E$)))throw Error("Environmental error: no available transport.")}ed.prototype.g=function(t,e){return new en(t,e)};function en(t,e){Je.call(this),this.g=new fC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wo(this)}et(en,Je);en.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=EC(t,null,t.Y),dh(t)};en.prototype.close=function(){Ly(this.g)};en.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=xy(t),t=n);e.j.push(new X$(e.fb++,t)),e.H==3&&dh(e)};en.prototype.N=function(){this.g.h=null,delete this.j,Ly(this.g),delete this.g,en.$.N.call(this)};function IC(t){ky.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}et(IC,ky);function CC(){Ny.call(this),this.status=1}et(CC,Ny);function wo(t){this.g=t}et(wo,TC);wo.prototype.Ba=function(){lt(this.g,"a")};wo.prototype.Aa=function(t){lt(this.g,new IC(t))};wo.prototype.za=function(t){lt(this.g,new CC)};wo.prototype.ya=function(){lt(this.g,"b")};function cM(){this.blockSize=-1}function Pn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}et(Pn,cM);Pn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Vf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Pn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Vf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Vf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Vf(this,r),i=0;break}}this.h=i,this.i+=e};Pn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var uM={};function Vy(t){return-128<=t&&128>t?v$(t,function(e){return new me([e|0],0>e?-1:0)}):new me([t|0],0>t?-1:0)}function Mn(t){if(isNaN(t)||!isFinite(t))return zs;if(0>t)return it(Mn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wm;return new me(e,0)}function xC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return it(xC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mn(Math.pow(e,8)),r=zs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Mn(Math.pow(e,s)),r=r.R(s).add(Mn(o))):(r=r.R(n),r=r.add(Mn(o)))}return r}var wm=4294967296,zs=Vy(0),Em=Vy(1),m0=Vy(16777216);N=me.prototype;N.ea=function(){if(ln(this))return-it(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wm+r)*e,e*=wm}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(sr(this))return"0";if(ln(this))return"-"+it(this).toString(t);for(var e=Mn(Math.pow(t,6)),n=this,r="";;){var i=nd(n,e).g;n=td(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,sr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function sr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ln(t){return t.h==-1}N.X=function(t){return t=td(this,t),ln(t)?-1:sr(t)?0:1};function it(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new me(n,~t.h).add(Em)}N.abs=function(){return ln(this)?it(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new me(n,n[n.length-1]&-2147483648?-1:0)};function td(t,e){return t.add(it(e))}N.R=function(t){if(sr(this)||sr(t))return zs;if(ln(this))return ln(t)?it(this).R(it(t)):it(it(this).R(t));if(ln(t))return it(this.R(it(t)));if(0>this.X(m0)&&0>t.X(m0))return Mn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,wc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,wc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,wc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,wc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new me(n,0)};function wc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ho(t,e){this.g=t,this.h=e}function nd(t,e){if(sr(e))throw Error("division by zero");if(sr(t))return new Ho(zs,zs);if(ln(t))return e=nd(it(t),e),new Ho(it(e.g),it(e.h));if(ln(e))return e=nd(t,it(e)),new Ho(it(e.g),e.h);if(30<t.g.length){if(ln(t)||ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Em,r=e;0>=r.X(t);)n=g0(n),r=g0(r);var i=ps(n,1),s=ps(r,1);for(r=ps(r,2),n=ps(n,2);!sr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ps(r,1),n=ps(n,1)}return e=td(t,i.R(e)),new Ho(i,e)}for(i=zs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Mn(n),o=s.R(e);ln(o)||0<o.X(t);)n-=r,s=Mn(n),o=s.R(e);sr(s)&&(s=Em),i=i.add(s),t=td(t,o)}return new Ho(i,t)}N.gb=function(t){return nd(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new me(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new me(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new me(n,this.h^t.h)};function g0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new me(n,t.h)}function ps(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new me(i,t.h)}ed.prototype.createWebChannel=ed.prototype.g;en.prototype.send=en.prototype.u;en.prototype.open=en.prototype.m;en.prototype.close=en.prototype.close;rh.NO_ERROR=0;rh.TIMEOUT=8;rh.HTTP_ERROR=6;BI.COMPLETE="complete";HI.EventType=bl;bl.OPEN="a";bl.CLOSE="b";bl.ERROR="c";bl.MESSAGE="d";Je.prototype.listen=Je.prototype.O;Ne.prototype.listenOnce=Ne.prototype.P;Ne.prototype.getLastError=Ne.prototype.Sa;Ne.prototype.getLastErrorCode=Ne.prototype.Ia;Ne.prototype.getStatus=Ne.prototype.da;Ne.prototype.getResponseJson=Ne.prototype.Wa;Ne.prototype.getResponseText=Ne.prototype.ja;Ne.prototype.send=Ne.prototype.ha;Ne.prototype.setWithCredentials=Ne.prototype.Oa;Pn.prototype.digest=Pn.prototype.l;Pn.prototype.reset=Pn.prototype.reset;Pn.prototype.update=Pn.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=Mn;me.fromString=xC;var dM=function(){return new ed},hM=function(){return nh()},Ff=rh,fM=BI,pM=os,y0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ec=HI,mM=Ne,gM=Pn,Bs=me;const v0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new sy("@firebase/firestore");function Wo(){return Ji.logLevel}function k(t,...e){if(Ji.logLevel<=se.DEBUG){const n=e.map(Fy);Ji.debug(`Firestore (${Eo}): ${t}`,...n)}}function Kn(t,...e){if(Ji.logLevel<=se.ERROR){const n=e.map(Fy);Ji.error(`Firestore (${Eo}): ${t}`,...n)}}function eo(t,...e){if(Ji.logLevel<=se.WARN){const n=e.map(Fy);Ji.warn(`Firestore (${Eo}): ${t}`,...n)}}function Fy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function ye(t,e){t||G()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class vM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _M{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new RC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new yt(e)}}class wM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new SM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=IM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ie(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Ie(0,0))}static max(){return new Y(new Ie(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends rl{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const CM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends rl{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return CM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new D(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new D(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new D(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(Se.fromString(e))}static fromName(e){return new F(Se.fromString(e).popFirst(5))}static empty(){return new F(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new Se(e.slice()))}}function xM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new ti(i,F.empty(),e)}function RM(t){return new ti(t.readTime,t.key,-1)}class ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ti(Y.min(),F.empty(),-1)}static max(){return new ti(Y.max(),F.empty(),-1)}}function bM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==PM)throw t;k("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new b((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Hn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ga(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=zy(r.target.error);this.V.reject(new ga(e,i))}}static open(e,n,r,i){try{return new Uy(n,e.transaction(i,r))}catch(s){throw new ga(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(k("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new NM(n)}}class ki{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ki.S(Ve())===12.2&&Kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return k("SimpleDb","Removing database:",e),Ci(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!bT())return!1;if(ki.C())return!0;const e=Ve(),n=ki.S(e),r=0<n&&n<10,i=ki.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(k("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new ga(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new D(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new D(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ga(e,o))},i.onupgradeneeded=s=>{k("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{k("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Uy.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),b.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(k("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class kM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ci(this.k.delete())}}class ga extends D{constructor(e,n){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Dl(t){return t.name==="IndexedDbTransactionError"}class NM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(k("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ci(r)}add(e){return k("SimpleDb","ADD",this.store.name,e,e),Ci(this.store.add(e))}get(e){return Ci(this.store.get(e)).next(n=>(n===void 0&&(n=null),k("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return k("SimpleDb","DELETE",this.store.name,e),Ci(this.store.delete(e))}count(){return k("SimpleDb","COUNT",this.store.name),Ci(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new b((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new b((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){k("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new b((r,i)=>{n.onerror=s=>{const o=zy(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new b((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new kM(a),c=n(a.primaryKey,a.value,l);if(c instanceof b){const u=c.catch(d=>(l.done(),b.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>b.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ci(t){return new b((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=zy(r.target.error);n(i)}})}let _0=!1;function zy(t){const e=ki.S(Ve());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new D("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _0||(_0=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}By._e=-1;function hh(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function OM(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function as(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rt.RED,this.left=i??rt.EMPTY,this.right=s??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new ct(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AC("Invalid base64 string: "+s):s}}(e);return new It(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const DM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(ye(!!t),typeof t=="string"){let e=0;const n=DM.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wy(t){const e=t.mapValue.fields.__previous_value__;return Hy(e)?Wy(e):e}function il(t){const e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hy(t)?4:LM(t)?9007199254740991:10:G()}function Gn(t,e){if(t===e)return!0;const n=es(t);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return il(t).isEqual(il(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ni(i.timestampValue),a=ni(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zi(i.bytesValue).isEqual(Zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=je(i.doubleValue),a=je(s.doubleValue);return o===a?rd(o)===rd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(w0(o)!==w0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gn(o[l],a[l])))return!1;return!0}(t,e);default:return G()}}function ol(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=es(t),r=es(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=je(s.integerValue||s.doubleValue),l=je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return S0(t.timestampValue,e.timestampValue);case 4:return S0(il(t),il(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Zi(s),l=Zi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=de(a[c],l[c]);if(u!==0)return u}return de(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=de(je(s.latitude),je(o.latitude));return a!==0?a:de(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=no(a[c],l[c]);if(u)return u}return de(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Tc.mapValue&&o===Tc.mapValue)return 0;if(s===Tc.mapValue)return 1;if(o===Tc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=de(l[d],u[d]);if(f!==0)return f;const g=no(a[l[d]],c[u[d]]);if(g!==0)return g}return de(l.length,u.length)}(t.mapValue,e.mapValue);default:throw G()}}function S0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=ni(t),r=ni(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function ro(t){return Sm(t)}function Sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return F.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Sm(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function T0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tm(t){return!!t&&"integerValue"in t}function qy(t){return!!t&&"arrayValue"in t}function I0(t){return!!t&&"nullValue"in t}function C0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yc(t){return!!t&&"mapValue"in t}function ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return as(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ya(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ya(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){as(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(ya(this.value))}}function kC(t){const e=[];return as(t.fields,(n,r)=>{const i=new ot([n]);if(Yc(r)){const s=kC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,Y.min(),Y.min(),Y.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new _t(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new _t(e,2,n,Y.min(),Y.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,Y.min(),Y.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function x0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=F.comparator(F.fromName(o.referenceValue),n.key):r=no(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function R0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function $M(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{}class Me extends NC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VM(e,n,r):n==="array-contains"?new zM(e,r):n==="in"?new BM(e,r):n==="not-in"?new HM(e,r):n==="array-contains-any"?new WM(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FM(e,r):new UM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends NC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new An(e,n)}matches(e){return OC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function OC(t){return t.op==="and"}function DC(t){return MM(t)&&OC(t)}function MM(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function Im(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(DC(t))return t.filters.map(e=>Im(e)).join(",");{const e=t.filters.map(n=>Im(n)).join(",");return`${t.op}(${e})`}}function jC(t,e){return t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)}(t,e):t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jC(o,i.filters[a]),!0):!1}(t,e):void G()}function LC(t){return t instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(LC).join(" ,")+"}"}(t):"Filter"}class VM extends Me{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.matchesComparison(n)}}class FM extends Me{constructor(e,n){super(e,"in",n),this.keys=$C("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UM extends Me{constructor(e,n){super(e,"not-in",n),this.keys=$C("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $C(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class zM extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qy(n)&&ol(n.arrayValue,this.value)}}class BM extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ol(this.value.arrayValue,n)}}class HM extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ol(this.value.arrayValue,n)}}class WM extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function b0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new qM(t,e,n,r,i,s,o)}function Ky(t){const e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Im(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.ce=n}return e.ce}function Gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$M(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R0(t.startAt,e.startAt)&&R0(t.endAt,e.endAt)}function Cm(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function KM(t,e,n,r,i,s,o,a){return new jl(t,e,n,r,i,s,o,a)}function Qy(t){return new jl(t)}function P0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MC(t){return t.collectionGroup!==null}function va(t){const e=X(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new sd(s,r))}),n.has(ot.keyField().canonicalString())||e.le.push(new sd(ot.keyField(),r))}return e.le}function Wn(t){const e=X(t);return e.he||(e.he=GM(e,va(t))),e.he}function GM(t,e){if(t.limitType==="F")return b0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sd(i.field,s)});const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return b0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xm(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rm(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return Gy(Wn(t),Wn(e))&&t.limitType===e.limitType}function VC(t){return`${Ky(Wn(t))}|lt:${t.limitType}`}function gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LC(i)).join(", ")}]`),hh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ro(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):F.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of va(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=x0(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,va(r),i)||r.endAt&&!function(o,a,l){const c=x0(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,va(r),i))}(t,e)}function QM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FC(t){return(e,n)=>{let r=!1;for(const i of va(t)){const s=YM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function YM(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?no(l,c):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new Pe(F.comparator);function mr(){return XM}const UC=new Pe(F.comparator);function ta(...t){let e=UC;for(const n of t)e=e.insert(n.key,n);return e}function zC(t){let e=UC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ni(){return _a()}function BC(){return _a()}function _a(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}const JM=new Pe(F.comparator),ZM=new ct(F.comparator);function re(...t){let e=ZM;for(const n of t)e=e.add(n);return e}const eV=new ct(de);function tV(){return eV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function WC(t){return{integerValue:""+t}}function nV(t,e){return OM(e)?WC(e):HC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function rV(t,e,n){return t instanceof od?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hy(s)&&(s=Wy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof al?KC(t,e):t instanceof ll?GC(t,e):function(i,s){const o=qC(i,s),a=A0(o)+A0(i.Ie);return Tm(o)&&Tm(i.Ie)?WC(a):HC(i.serializer,a)}(t,e)}function iV(t,e,n){return t instanceof al?KC(t,e):t instanceof ll?GC(t,e):n}function qC(t,e){return t instanceof ad?function(r){return Tm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class od extends mh{}class al extends mh{constructor(e){super(),this.elements=e}}function KC(t,e){const n=QC(e);for(const r of t.elements)n.some(i=>Gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ll extends mh{constructor(e){super(),this.elements=e}}function GC(t,e){let n=QC(e);for(const r of t.elements)n=n.filter(i=>!Gn(i,r));return{arrayValue:{values:n}}}class ad extends mh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function A0(t){return je(t.integerValue||t.doubleValue)}function QC(t){return qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof al&&i instanceof al||r instanceof ll&&i instanceof ll?to(r.elements,i.elements,Gn):r instanceof ad&&i instanceof ad?Gn(r.Ie,i.Ie):r instanceof od&&i instanceof od}(t.transform,e.transform)}class oV{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gh{}function YC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JC(t.key,Cn.none()):new Ll(t.key,t.data,Cn.none());{const n=t.data,r=$t.empty();let i=new ct(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fi(t.key,r,new Qt(i.toArray()),Cn.none())}}function aV(t,e,n){t instanceof Ll?function(i,s,o){const a=i.value.clone(),l=N0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fi?function(i,s,o){if(!Xc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=N0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(XC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wa(t,e,n,r){return t instanceof Ll?function(s,o,a,l){if(!Xc(s.precondition,o))return a;const c=s.value.clone(),u=O0(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fi?function(s,o,a,l){if(!Xc(s.precondition,o))return a;const c=O0(s.fieldTransforms,l,o),u=o.data;return u.setAll(XC(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Xc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=qC(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function k0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&to(r,i,(s,o)=>sV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ll extends gh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fi extends gh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function XC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function N0(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,iV(o,a,n[i]))}return r}function O0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,rV(s,o,e))}return r}class JC extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cV extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=YC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>k0(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>k0(n,r))}}class Yy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=function(){return JM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Yy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,oe;function fV(t){switch(t){default:return G();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function ZC(t){if(t===void 0)return Kn("GRPC error has no .code"),R.UNKNOWN;switch(t){case De.OK:return R.OK;case De.CANCELLED:return R.CANCELLED;case De.UNKNOWN:return R.UNKNOWN;case De.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case De.INTERNAL:return R.INTERNAL;case De.UNAVAILABLE:return R.UNAVAILABLE;case De.UNAUTHENTICATED:return R.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case De.NOT_FOUND:return R.NOT_FOUND;case De.ALREADY_EXISTS:return R.ALREADY_EXISTS;case De.PERMISSION_DENIED:return R.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case De.ABORTED:return R.ABORTED;case De.OUT_OF_RANGE:return R.OUT_OF_RANGE;case De.UNIMPLEMENTED:return R.UNIMPLEMENTED;case De.DATA_LOSS:return R.DATA_LOSS;default:return G()}}(oe=De||(De={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new Bs([4294967295,4294967295],0);function D0(t){const e=pV().encode(t),n=new gM;return n.update(e),new Uint8Array(n.digest())}function j0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,s],0)]}class Xy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new na(`Invalid padding: ${n}`);if(r<0)throw new na(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new na(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new na(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Bs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Bs.fromNumber(r)));return i.compare(mV)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=D0(e),[r,i]=j0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Xy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=D0(e),[r,i]=j0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yh(Y.min(),i,new Pe(de),mr(),re())}}class $l{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $l(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class ex{constructor(e,n){this.targetId=e,this.fe=n}}class tx{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class L0{constructor(){this.ge=0,this.pe=M0(),this.ye=It.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=re(),n=re(),r=re();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new $l(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=M0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ye(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class gV{constructor(e){this.Le=e,this.ke=new Map,this.qe=mr(),this.Qe=$0(),this.Ke=new Pe(de)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Cm(s))if(r===0){const o=new F(s.path);this.We(n,o,_t.newNoDocument(o,Y.min()))}else ye(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Zi(r).toUint8Array()}catch(l){if(l instanceof AC)return eo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Xy(o,i,s)}catch(l){return eo(l instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Cm(a.target)){const l=new F(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,_t.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=re();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new yh(e,n,this.Ke,this.qe,r);return this.qe=mr(),this.Qe=$0(),this.Ke=new Pe(de),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new L0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ct(de),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||k("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new L0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $0(){return new Pe(F.comparator)}function M0(){return new Pe(F.comparator)}const yV={asc:"ASCENDING",desc:"DESCENDING"},vV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_V={and:"AND",or:"OR"};class wV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bm(t,e){return t.useProto3Json||hh(e)?e:{value:e}}function ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EV(t,e){return ld(t,e.toTimestamp())}function qn(t){return ye(!!t),Y.fromTimestamp(function(n){const r=ni(n);return new Ie(r.seconds,r.nanos)}(t))}function Jy(t,e){return Pm(t,e).canonicalString()}function Pm(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rx(t){const e=Se.fromString(t);return ye(lx(e)),e}function Am(t,e){return Jy(t.databaseId,e.path)}function Uf(t,e){const n=rx(e);if(n.get(1)!==t.databaseId.projectId)throw new D(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(sx(n))}function ix(t,e){return Jy(t.databaseId,e)}function SV(t){const e=rx(t);return e.length===4?Se.emptyPath():sx(e)}function km(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sx(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function V0(t,e,n){return{name:Am(t,e),fields:n.value.mapValue.fields}}function TV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ye(u===void 0||typeof u=="string"),It.fromBase64String(u||"")):(ye(u===void 0||u instanceof Uint8Array),It.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?R.UNKNOWN:ZC(c.code);return new D(u,c.message||"")}(o);n=new tx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uf(t,r.document.name),s=qn(r.document.updateTime),o=r.document.createTime?qn(r.document.createTime):Y.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=_t.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Jc(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uf(t,r.document),s=r.readTime?qn(r.readTime):Y.min(),o=_t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uf(t,r.document),s=r.removedTargetIds||[];n=new Jc([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hV(i,s),a=r.targetId;n=new ex(a,o)}}return n}function IV(t,e){let n;if(e instanceof Ll)n={update:V0(t,e.key,e.value)};else if(e instanceof JC)n={delete:Am(t,e.key)};else if(e instanceof fi)n={update:V0(t,e.key,e.data),updateMask:OV(e.fieldMask)};else{if(!(e instanceof cV))return G();n={verify:Am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ad)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:EV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function CV(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?qn(i.updateTime):qn(s);return o.isEqual(Y.min())&&(o=qn(s)),new oV(o,i.transformResults||[])}(n,e))):[]}function xV(t,e){return{documents:[ix(t,e.path)]}}function RV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ix(t,i);const s=function(c){if(c.length!==0)return ax(An.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:ys(f.field),direction:AV(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=bm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function bV(t){let e=SV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=ox(d);return f instanceof An&&DC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new sd(vs(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,hh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new id(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new id(g,f)}(n.endAt)),KM(e,i,o,s,a,"F",l,c)}function PV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ox(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vs(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vs(n.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vs(n.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vs(n.unaryFilter.field);return Me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Me.create(vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>ox(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function AV(t){return yV[t]}function kV(t){return vV[t]}function NV(t){return _V[t]}function ys(t){return{fieldPath:t.canonicalString()}}function vs(t){return ot.fromServerFormat(t.fieldPath)}function ax(t){return t instanceof Me?function(n){if(n.op==="=="){if(C0(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C0(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(n.field),op:kV(n.op),value:n.value}}}(t):t instanceof An?function(n){const r=n.getFilters().map(i=>ax(i));return r.length===1?r[0]:{compositeFilter:{op:NV(n.op),filters:r}}}(t):G()}function OV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r,i,s=Y.min(),o=Y.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.ct=e}}function jV(t){const e=bV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this._n=new $V}addToCollectionParentIndex(e,n){return this._n.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(ti.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class $V{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new io(0)}static Bn(){return new io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wa(r.mutation,i,Qt.empty(),Ie.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Ni();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ta();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=mr();const o=_a(),a=function(){return _a()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof fi)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),wa(u.mutation,c,u.mutation.getFieldMask(),Ie.now())):o.set(c.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new VV(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_a();let i=new Pe((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Qt.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||re()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=BC();u.forEach(f=>{if(!s.has(f)){const g=YC(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return F.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve(Ni());let a=-1,l=s;return o.next(c=>b.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,re())).next(u=>({batchId:a,changes:zC(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(r=>{let i=ta();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ta();return this.indexManager.getCollectionParents(e,s).next(a=>b.forEach(a,l=>{const c=function(d,f){return new jl(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,_t.newInvalidDocument(u)))});let a=ta();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&wa(u.mutation,c,Qt.empty(),Ie.now()),ph(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qn(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:jV(i.bundledQuery),readTime:qn(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.overlays=new Pe(F.comparator),this.hr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ni();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=Ni(),s=n.length+1,o=new F(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ni(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ni(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return b.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dV(n,r));let s=this.hr.get(n);s===void 0&&(s=re(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.Pr=new ct(Ke.Ir),this.Tr=new ct(Ke.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ke(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new F(new Se([])),r=new Ke(n,e),i=new Ke(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new F(new Se([])),r=new Ke(n,e),i=new Ke(n,e+1);let s=re();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ke(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return F.comparator(e.key,n.key)||de(e.pr,n.pr)}static Er(e,n){return de(e.pr,n.pr)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ct(Ke.Ir)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Ke(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(de);return n.forEach(i=>{const s=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),b.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new Ke(new F(s),0);let a=new ct(de);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),b.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return b.forEach(n.mutations,i=>{const s=new Ke(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ke(n,0),i=this.wr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.vr=e,this.docs=function(){return new Pe(F.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=mr();const o=n.path,a=new F(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||bM(RM(u),r)<=0||(i.has(u.key)||ph(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Fr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WV(this)}getSize(e){return b.resolve(this.size)}}class WV extends MV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.persistence=e,this.Mr=new So(n=>Ky(n),Gy),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Zy,this.targetCount=0,this.Br=io.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),b.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new io(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.qn(n),b.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this.Lr={},this.overlays={},this.kr=new By(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qV(this),this.indexManager=new LV,this.remoteDocumentCache=function(i){return new HV(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new DV(n),this.$r=new UV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new BV(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){k("MemoryPersistence","Starting transaction:",e);const i=new GV(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return b.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class GV extends AM{constructor(e){super(),this.currentSequenceNumber=e}}class ev{constructor(e){this.persistence=e,this.zr=new Zy,this.jr=null}static Hr(e){return new ev(e)}get Jr(){if(this.jr)return this.jr;throw G()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,r=>{const i=F.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return xO()?8:ki.v(Ve())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QV;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Wo()<=se.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(Wo()<=se.DEBUG&&k("QueryEngine","Query:",gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Wo()<=se.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):b.resolve())}ji(e,n){if(P0(n))return b.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rm(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Rm(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return P0(n)||i.isEqual(Y.min())?b.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?b.resolve(null):(Wo()<=se.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gs(n)),this.es(e,o,n,xM(i,-1)).next(a=>a))})}Zi(e,n){let r=new ct(FC(e));return n.forEach((i,s)=>{ph(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Wo()<=se.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",gs(n)),this.zi.getDocumentsMatchingQuery(e,n,ti.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Pe(de),this.rs=new So(s=>Ky(s),Gy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function JV(t,e,n,r){return new XV(t,e,n,r)}async function cx(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=re();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function ZV(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let g=b.resolve();return f.forEach(v=>{g=g.next(()=>u.getEntry(l,v)).next(E=>{const S=c.docVersions.get(v);ye(S!==null),E.version.compareTo(S)<0&&(d.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),u.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ux(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function e4(t,e){const n=X(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(It.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(d,g),function(E,S,y){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,u)&&a.push(n.Qr.updateTargetData(s,g))});let l=mr(),c=re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(t4(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(Y.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function t4(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=mr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function n4(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r4(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Nm(t,e,n){const r=X(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Dl(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function F0(t,e,n){const r=X(t);let i=Y.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=X(l),f=d.rs.get(u);return f!==void 0?b.resolve(d.ns.get(f)):d.Qr.getTargetData(c,u)}(r,o,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:re())).next(a=>(i4(r,QM(e),a),{documents:a,hs:s})))}function i4(t,e,n){let r=t.ss.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class U0{constructor(){this.activeTargetIds=tV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s4{constructor(){this.no=new U0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new U0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function zf(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class c4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=zf(),l=this.bo(n,r.toUriEncodedString());k("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(k("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw eo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=a4[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=zf();return new Promise((o,a)=>{const l=new mM;l.setWithCredentials(!0),l.listenOnce(fM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ff.NO_ERROR:const u=l.getResponseJson();k(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Ff.TIMEOUT:k(gt,`RPC '${e}' ${s} timed out`),a(new D(R.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const d=l.getStatus();if(k(gt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(y)>=0?y:R.UNKNOWN}(g.status);a(new D(v,g.message))}else a(new D(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new D(R.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{k(gt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);k(gt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=zf(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dM(),a=hM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");k(gt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,g=!1;const v=new l4({lo:S=>{g?k(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(k(gt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),k(gt,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},ho:()=>d.close()}),E=(S,y,p)=>{S.listen(y,m=>{try{p(m)}catch(w){setTimeout(()=>{throw w},0)}})};return E(d,Ec.EventType.OPEN,()=>{g||k(gt,`RPC '${e}' stream ${i} transport opened.`)}),E(d,Ec.EventType.CLOSE,()=>{g||(g=!0,k(gt,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),E(d,Ec.EventType.ERROR,S=>{g||(g=!0,eo(gt,`RPC '${e}' stream ${i} transport errored:`,S),v.Vo(new D(R.UNAVAILABLE,"The operation could not be completed")))}),E(d,Ec.EventType.MESSAGE,S=>{var y;if(!g){const p=S.data[0];ye(!!p);const m=p,w=m.error||((y=m[0])===null||y===void 0?void 0:y.error);if(w){k(gt,`RPC '${e}' stream ${i} received error:`,w);const T=w.status;let I=function(M){const $=De[M];if($!==void 0)return ZC($)}(T),C=w.message;I===void 0&&(I=R.INTERNAL,C="Unknown error status: "+T+" with message "+w.message),g=!0,v.Vo(new D(I,C)),d.close()}else k(gt,`RPC '${e}' stream ${i} received:`,p),v.mo(p)}}),E(a,pM.STAT_EVENT,S=>{S.stat===y0.PROXY?k(gt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===y0.NOPROXY&&k(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return new wV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new dx(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new D(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u4 extends hx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=TV(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?qn(o.readTime):Y.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=km(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Cm(l)?{documents:xV(s,l)}:{query:RV(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nx(s,o.resumeToken);const c=bm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Y.min())>0){a.readTime=ld(s,o.snapshotVersion.toTimestamp());const c=bm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=PV(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.t_(n)}}class d4 extends hx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=CV(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.T_(r,n)}return ye(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=km(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IV(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new D(R.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Pm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(R.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Pm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(R.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class f4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Kn(n),this.g_=!1):k("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{ls(this)&&(k("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=X(l);c.v_.add(4),await Ml(c),c.x_.set("Unknown"),c.v_.delete(4),await _h(c)}(this))})}),this.x_=new f4(r,i)}}async function _h(t){if(ls(t))for(const e of t.F_)await e(!0)}async function Ml(t){for(const e of t.F_)await e(!1)}function fx(t,e){const n=X(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),iv(n)?rv(n):To(n).Jo()&&nv(n,e))}function px(t,e){const n=X(t),r=To(n);n.C_.delete(e),r.Jo()&&mx(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ls(n)&&n.x_.set("Unknown"))}function nv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).c_(e)}function mx(t,e){t.O_.Oe(e),To(t).l_(e)}function rv(t){t.O_=new gV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.x_.p_()}function iv(t){return ls(t)&&!To(t).Ho()&&t.C_.size>0}function ls(t){return X(t).v_.size===0}function gx(t){t.O_=void 0}async function m4(t){t.C_.forEach((e,n)=>{nv(t,e)})}async function g4(t,e){gx(t),iv(t)?(t.x_.S_(e),rv(t)):t.x_.set("Unknown")}async function y4(t,e,n){if(t.x_.set("Online"),e instanceof tx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cd(t,r)}else if(e instanceof Jc?t.O_.$e(e):e instanceof ex?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Y.min()))try{const r=await ux(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(It.EMPTY_BYTE_STRING,u.snapshotVersion)),mx(s,l);const d=new jr(u.target,l,c,u.sequenceNumber);nv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){k("RemoteStore","Failed to raise snapshot:",r),await cd(t,r)}}async function cd(t,e,n){if(!Dl(e))throw e;t.v_.add(1),await Ml(t),t.x_.set("Offline"),n||(n=()=>ux(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{k("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await _h(t)})}function yx(t,e){return e().catch(n=>cd(t,n,e))}async function wh(t){const e=X(t),n=ri(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;v4(e);)try{const i=await n4(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,_4(e,i)}catch(i){await cd(e,i)}vx(e)&&_x(e)}function v4(t){return ls(t)&&t.D_.length<10}function _4(t,e){t.D_.push(e);const n=ri(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function vx(t){return ls(t)&&!ri(t).Ho()&&t.D_.length>0}function _x(t){ri(t).start()}async function w4(t){ri(t).d_()}async function E4(t){const e=ri(t);for(const n of t.D_)e.I_(n.mutations)}async function S4(t,e,n){const r=t.D_.shift(),i=Yy.from(r,e,n);await yx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wh(t)}async function T4(t,e){e&&ri(t).P_&&await async function(r,i){if(function(o){return fV(o)&&o!==R.ABORTED}(i.code)){const s=r.D_.shift();ri(r).Zo(),await yx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wh(r)}}(t,e),vx(t)&&_x(t)}async function B0(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const r=ls(n);n.v_.add(3),await Ml(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await _h(n)}async function I4(t,e){const n=X(t);e?(n.v_.delete(2),await _h(n)):e||(n.v_.add(2),await Ml(n),n.x_.set("Unknown"))}function To(t){return t.N_||(t.N_=function(n,r,i){const s=X(n);return s.R_(),new u4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:m4.bind(null,t),To:g4.bind(null,t),u_:y4.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),iv(t)?rv(t):t.x_.set("Unknown")):(await t.N_.stop(),gx(t))})),t.N_}function ri(t){return t.B_||(t.B_=function(n,r,i){const s=X(n);return s.R_(),new d4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:w4.bind(null,t),To:T4.bind(null,t),E_:E4.bind(null,t),T_:S4.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await wh(t)):(await t.B_.stop(),t.D_.length>0&&(k("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new sv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),Dl(t))return new D(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=ta(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.L_=new Pe(F.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):G():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class so{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new so(e,n,Hs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.q_=void 0,this.Q_=[]}}class x4{constructor(){this.queries=new So(e=>VC(e),fh),this.onlineState="Unknown",this.K_=new Set}}async function wx(t,e){const n=X(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new C4),i)try{s.q_=await n.onListen(r)}catch(o){const a=ov(o,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&av(n)}async function Ex(t,e){const n=X(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function R4(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&av(n)}function b4(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function av(t){t.K_.forEach(e=>{e.next()})}class Sx{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.key=e}}class Ix{constructor(e){this.key=e}}class P4{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=re(),this.mutatedKeys=re(),this.ua=FC(e),this.ca=new Hs(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new H0,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),g=ph(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?v!==E&&(r.track({type:3,doc:g}),S=!0):this.Ia(f,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.ua(g,l)>0||c&&this.ua(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),S=!0):f&&!g&&(r.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(g?(o=o.add(g),s=E?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,d)=>function(g,v){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return E(g)-E(v)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,c=l!==this._a;return this._a=l,o.length!==0||c?{snapshot:new so(this.query,e.ca,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new H0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=re(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Ix(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Tx(r))}),n}Ra(e){this.oa=e.hs,this.aa=re();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return so.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class A4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k4{constructor(e){this.key=e,this.ma=!1}}class N4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new So(a=>VC(a),fh),this.pa=new Map,this.ya=new Set,this.wa=new Pe(F.comparator),this.Sa=new Map,this.ba=new Zy,this.Da={},this.Ca=new Map,this.va=io.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function O4(t,e){const n=B4(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await r4(n.localStore,Wn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await D4(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&fx(n.remoteStore,o)}return i}async function D4(t,e,n,r,i){t.Ma=(d,f,g)=>async function(E,S,y,p){let m=S.view.ha(y);m.Xi&&(m=await F0(E.localStore,S.query,!1).then(({documents:C})=>S.view.ha(C,m)));const w=p&&p.targetChanges.get(S.targetId),T=p&&p.targetMismatches.get(S.targetId)!=null,I=S.view.applyChanges(m,E.isPrimaryClient,w,T);return q0(E,S.targetId,I.da),I.snapshot}(t,d,f,g);const s=await F0(t.localStore,e,!0),o=new P4(e,s.hs),a=o.ha(s.documents),l=$l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);q0(t,n,c.da);const u=new A4(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function j4(t,e){const n=X(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!fh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Nm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),px(n.remoteStore,r.targetId),Om(n,r.targetId)}).catch(Ol)):(Om(n,r.targetId),await Nm(n.localStore,r.targetId,!0))}async function L4(t,e,n){const r=H4(t);try{const i=await function(o,a){const l=X(o),c=Ie.now(),u=a.reduce((g,v)=>g.add(v.key),re());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=mr(),E=re();return l.os.getEntries(g,u).next(S=>{v=S,v.forEach((y,p)=>{p.isValidDocument()||(E=E.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(S=>{d=S;const y=[];for(const p of a){const m=lV(p,d.get(p.key).overlayedDocument);m!=null&&y.push(new fi(p.key,m,kC(m.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,y,a)}).next(S=>{f=S;const y=S.applyToLocalDocumentSet(d,E);return l.documentOverlayCache.saveOverlays(g,S.batchId,y)})}).then(()=>({batchId:f.batchId,changes:zC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Da[o.currentUser.toKey()];c||(c=new Pe(de)),c=c.insert(a,l),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await Vl(r,i.changes),await wh(r.remoteStore)}catch(i){const s=ov(i,"Failed to persist write");n.reject(s)}}async function Cx(t,e){const n=X(t);try{const r=await e4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ye(o.ma):i.removedDocuments.size>0&&(ye(o.ma),o.ma=!1))}),await Vl(n,r,e)}catch(r){await Ol(r)}}function W0(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=X(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.Q_)f.U_(a)&&(c=!0)}),c&&av(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $4(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Pe(F.comparator);o=o.insert(s,_t.newNoDocument(s,Y.min()));const a=re().add(s),l=new yh(Y.min(),new Map,new Pe(de),o,a);await Cx(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),lv(r)}else await Nm(r.localStore,e,!1).then(()=>Om(r,e,n)).catch(Ol)}async function M4(t,e){const n=X(t),r=e.batch.batchId;try{const i=await ZV(n.localStore,e);Rx(n,r,null),xx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vl(n,i)}catch(i){await Ol(i)}}async function V4(t,e,n){const r=X(t);try{const i=await function(o,a){const l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ye(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Rx(r,e,n),xx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vl(r,i)}catch(i){await Ol(i)}}function xx(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function Rx(t,e,n){const r=X(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||bx(t,r)})}function bx(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(px(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),lv(t))}function q0(t,e,n){for(const r of n)r instanceof Tx?(t.ba.addReference(r.key,e),F4(t,r)):r instanceof Ix?(k("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||bx(t,r.key)):G()}function F4(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(k("SyncEngine","New document in limbo: "+n),t.ya.add(r),lv(t))}function lv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new F(Se.fromString(e)),r=t.va.next();t.Sa.set(r,new k4(n)),t.wa=t.wa.insert(n,r),fx(t.remoteStore,new jr(Wn(Qy(n.path)),r,"TargetPurposeLimboResolution",By._e))}}async function Vl(t,e,n){const r=X(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=tv.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,c){const u=X(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(c,f=>b.forEach(f.qi,g=>u.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>b.forEach(f.Qi,g=>u.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!Dl(d))throw d;k("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=u.ns.get(f),v=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(v);u.ns=u.ns.insert(f,E)}}}(r.localStore,s))}async function U4(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const r=await cx(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new D(R.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vl(n,r.us)}}function z4(t,e){const n=X(t),r=n.Sa.get(e);if(r&&r.ma)return re().add(r.key);{let i=re();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function B4(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$4.bind(null,e),e.fa.u_=R4.bind(null,e.eventManager),e.fa.xa=b4.bind(null,e.eventManager),e}function H4(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V4.bind(null,e),e}class K0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JV(this.persistence,new YV,e.initialUser,this.serializer)}createPersistence(e){return new KV(ev.Hr,this.serializer)}createSharedClientState(e){return new s4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class W4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U4.bind(null,this.syncEngine),await I4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x4}()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),r=function(s){return new c4(s)}(e.databaseInfo);return function(s,o,a,l){return new h4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new p4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W0(this.syncEngine,n,0),function(){return z0.D()?new z0:new o4}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new N4(i,s,o,a,l,c);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=X(r);k("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Ml(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=bC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{k("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(k("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ov(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hf(t,e){t.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G4(t);k("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>B0(e.remoteStore,i)),t._onlineComponents=e}function K4(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function G4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!K4(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Hf(t,new K0)}}else k("FirestoreClient","Using default OfflineComponentProvider"),await Hf(t,new K0);return t._offlineComponents}async function Ax(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),await G0(t,t._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),await G0(t,new W4))),t._onlineComponents}function Q4(t){return Ax(t).then(e=>e.syncEngine)}async function kx(t){const e=await Ax(t),n=e.eventManager;return n.onListen=O4.bind(null,e.syncEngine),n.onUnlisten=j4.bind(null,e.syncEngine),n}function Y4(t,e,n={}){const r=new Hn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Px({next:f=>{o.enqueueAndForget(()=>Ex(s,d));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new D(R.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new D(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Sx(Qy(a.path),u,{includeMetadataChanges:!0,Z_:!0});return wx(s,d)}(await kx(t),t.asyncQueue,e,n,r)),r.promise}function X4(t,e,n={}){const r=new Hn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Px({next:f=>{o.enqueueAndForget(()=>Ex(s,d)),f.fromCache&&l.source==="server"?c.reject(new D(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Sx(a,u,{includeMetadataChanges:!0,Z_:!0});return wx(s,d)}(await kx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e,n){if(!n)throw new D(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J4(t,e,n,r){if(e===!0&&r===!0)throw new D(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y0(t){if(!F.isDocumentKey(t))throw new D(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X0(t){if(F.isDocumentKey(t))throw new D(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eh(t);throw new D(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new D(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new D(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new D(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yM;switch(r.type){case"firstParty":return new EM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Q0.get(n);r&&(k("ComponentProvider","Removing Datastore"),Q0.delete(n),r.terminate())}(this),Promise.resolve()}}function Z4(t,e,n,r={}){var i;const s=(t=Qn(t,Sh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=yt.MOCK_USER;else{a=RT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new yt(c)}t._authCredentials=new vM(new RC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class Kr extends Io{constructor(e,n,r){super(e,n,Qy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new F(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function Co(t,e,...n){if(t=Fe(t),Ox("collection","path",e),t instanceof Sh){const r=Se.fromString(e,...n);return X0(r),new Kr(t,null,r)}{if(!(t instanceof At||t instanceof Kr))throw new D(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return X0(r),new Kr(t.firestore,null,r)}}function Th(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=bC.newId()),Ox("doc","path",e),t instanceof Sh){const r=Se.fromString(e,...n);return Y0(r),new At(t,null,new F(r))}{if(!(t instanceof At||t instanceof Kr))throw new D(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Y0(r),new At(t.firestore,t instanceof Kr?t.converter:null,new F(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new dx(this,"async_queue_retry"),this._u=()=>{const n=Bf();n&&k("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Bf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Hn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Dl(e))throw e;k("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=sv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&G()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class xo extends Sh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new eF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Dx(this),this._firestoreClient.terminate()}}function tF(t,e){const n=typeof t=="object"?t:ay(),r=typeof t=="string"?t:e||"(default)",i=Wd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=IT("firestore");s&&Z4(i,...s)}return i}function cv(t){return t._firestoreClient||Dx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Dx(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new jM(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Nx(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new q4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(It.fromBase64String(e))}catch(n){throw new D(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=/^__.*__$/;class rF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(e,this.data,n,this.fieldTransforms)}}class jx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class hv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return ud(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(Lx(this.du)&&nF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class iF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vh(e)}Su(e,n,r,i=!1){return new hv({du:e,methodName:n,wu:r,path:ot.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(t){const e=t._freezeSettings(),n=vh(t._databaseId);return new iF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $x(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);fv("Data must be an object, but it was:",o,r);const a=Mx(r,o);let l,c;if(s.merge)l=new Qt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Dm(e,d,n);if(!o.contains(f))throw new D(R.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Fx(u,f)||u.push(f)}l=new Qt(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new rF(new $t(a),l,c)}class xh extends uv{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xh}}function sF(t,e,n,r){const i=t.Su(1,e,n);fv("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();as(r,(l,c)=>{const u=pv(e,l,n);c=Fe(c);const d=i.fu(u);if(c instanceof xh)s.push(u);else{const f=Fl(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new Qt(s);return new jx(o,a,i.fieldTransforms)}function oF(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[Dm(e,r,n)],l=[i];if(s.length%2!=0)throw new D(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Dm(e,s[f])),l.push(s[f+1]);const c=[],u=$t.empty();for(let f=a.length-1;f>=0;--f)if(!Fx(c,a[f])){const g=a[f];let v=l[f];v=Fe(v);const E=o.fu(g);if(v instanceof xh)c.push(g);else{const S=Fl(v,E);S!=null&&(c.push(g),u.set(g,S))}}const d=new Qt(c);return new jx(u,d,o.fieldTransforms)}function aF(t,e,n,r=!1){return Fl(n,t.Su(r?4:3,e))}function Fl(t,e){if(Vx(t=Fe(t)))return fv("Unsupported field value:",e,t),Mx(t,e);if(t instanceof uv)return function(r,i){if(!Lx(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Fl(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ie.fromDate(r);return{timestampValue:ld(i.serializer,s)}}if(r instanceof Ie){const s=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ld(i.serializer,s)}}if(r instanceof dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oo)return{bytesValue:nx(i.serializer,r._byteString)};if(r instanceof At){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Jy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Eh(r)}`)}(t,e)}function Mx(t,e){const n={};return PC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(t,(r,i)=>{const s=Fl(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Vx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof dv||t instanceof oo||t instanceof At||t instanceof uv)}function fv(t,e,n){if(!Vx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Eh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Dm(t,e,n){if((e=Fe(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return pv(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const lF=new RegExp("[~\\*/\\[\\]]");function pv(t,e,n){if(e.search(lF)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ih(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new D(R.INVALID_ARGUMENT,a+t+l)}function Fx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cF extends Ux{data(){return super.data()}}function mv(t,e){return typeof e=="string"?pv(t,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gv{}class dF extends gv{}function yv(t,e,...n){let r=[];e instanceof gv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof _v).length,a=s.filter(l=>l instanceof Rh).length;if(o>1||o>0&&a>0)throw new D(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Rh extends dF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rh(e,n,r)}_apply(e){const n=this._parse(e);return zx(e._query,n),new Io(e.firestore,e.converter,xm(e._query,n))}_parse(e){const n=Ch(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new D(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){eE(d,u);const g=[];for(const v of d)g.push(Z0(l,s,v));f={arrayValue:{values:g}}}else f=Z0(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||eE(d,u),f=aF(a,o,d,u==="in"||u==="not-in");return Me.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vv(t,e,n){const r=e,i=mv("where",t);return Rh._create(i,r,n)}class _v extends gv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _v(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)zx(o,l),o=xm(o,l)}(e._query,n),new Io(e.firestore,e.converter,xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z0(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new D(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MC(e)&&n.indexOf("/")!==-1)throw new D(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!F.isDocumentKey(r))throw new D(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return T0(t,new F(r))}if(n instanceof At)return T0(t,n._key);throw new D(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(n)}.`)}function eE(t,e){if(!Array.isArray(t)||t.length===0)throw new D(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hF{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return as(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new dv(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const n=ni(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ye(lx(r));const i=new sl(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(n)||Kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hx extends Ux{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zc extends Hx{data(e={}){return super.data(e)}}class fF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ra(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ra(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ra(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:pF(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){t=Qn(t,At);const e=Qn(t.firestore,xo);return Y4(cv(e),t._key).then(n=>vF(e,t,n))}class qx extends hF{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Ul(t){t=Qn(t,Io);const e=Qn(t.firestore,xo),n=cv(e),r=new qx(e);return uF(t._query),X4(n,t._query).then(i=>new fF(e,r,t,i))}function mF(t,e,n){t=Qn(t,At);const r=Qn(t.firestore,xo),i=Bx(t.converter,e,n);return wv(r,[$x(Ch(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cn.none())])}function gF(t,e,n,...r){t=Qn(t,At);const i=Qn(t.firestore,xo),s=Ch(i);let o;return o=typeof(e=Fe(e))=="string"||e instanceof Ih?oF(s,"updateDoc",t._key,e,n,r):sF(s,"updateDoc",t._key,e),wv(i,[o.toMutation(t._key,Cn.exists(!0))])}function yF(t,e){const n=Qn(t.firestore,xo),r=Th(t),i=Bx(t.converter,e);return wv(n,[$x(Ch(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function wv(t,e){return function(r,i){const s=new Hn;return r.asyncQueue.enqueueAndForget(async()=>L4(await Q4(r),i,s)),s.promise}(cv(t),e)}function vF(t,e,n){const r=n.docs.get(e._key),i=new qx(t);return new Hx(t,i,e._key,r,new ra(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Eo=i})(ss),Gi(new ei("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new xo(new _M(r.getProvider("auth-internal")),new TM(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new D(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Un(v0,"4.4.2",e),Un(v0,"4.4.2","esm2017")})();const _F={apiKey:"AIzaSyCYLJeEfFs7lQUJbczLFP87sLr7oDGK73Y",authDomain:"acguatuso-sys.firebaseapp.com",projectId:"acguatuso-sys",storageBucket:"acguatuso-sys.appspot.com",messagingSenderId:"148217571881",appId:"1:148217571881:web:5b959afe3352b16dae0a38"},Ev=kT(_F),gr=tF(Ev),Sv=aL(Ev),wF=a$(Ev),EF={notification:null,emailVerified:!1,loggedIn:!1,user:null,error:null},Kx=li({name:"auth",initialState:EF,reducers:{loginSuccess:(t,e)=>{t.loggedIn=!0,t.user=e.payload,t.emailVerified=!0,t.error=null},loginFailure:(t,e)=>{t.loggedIn=!1,t.user=null,t.error=e.payload},signupSuccess:(t,e)=>{t.notification=e.payload.msg,t.emailVerified=e.payload.emailVerified,t.error=null},signupFailure:(t,e)=>{t.error=e.payload},logOut:t=>{t.loggedIn=!1,t.user=null},editInfo:(t,e)=>{t.user=e.payload}}}),{loginSuccess:SF,loginFailure:TF,signupSuccess:IF,signupFailure:jm,logOut:CF,editInfo:xF}=Kx.actions,RF=Kx.reducer,bF=(t,e)=>async n=>{try{if(!(await q2(Sv,t,e)).user.emailVerified)throw new Error("Por favor, verifica tu direccin de correo electrnico antes de iniciar sesin.");const i=await Gx(t);n(SF(i))}catch(r){const i=r.message.replace("Firebase: ","");n(TF(i))}},Gx=async t=>{const e=Co(gr,"Usuarios");try{const n=yv(e,vv("correo","==",t)),i=(await Ul(n)).docs[0];if(i){const s=i.data(),o=s.fechaNacimiento instanceof Ie?s.fechaNacimiento.toDate().toDateString():s.fechaNacimiento.toString();return{nombre:s.nombre,correo:s.correo,cedula:s.cedula,telefono:s.telefono,provincia:s.provincia,canton:s.canton,distrito:s.distrito,direccion:s.direccion,fechaNacimiento:o,genero:s.genero,user_type:s.user_type,estado:s.estado}}else return console.log("No se encontr el documento del usuario"),null}catch(n){return console.error("Error al obtener el documento del usuario: ",n),null}},PF=t=>async e=>{try{const n=await W2(Sv,t.correo,t.password);await AF(t),await K2(n.user),e(IF({msg:"Cuenta creada con xito!",emailVerified:n.user.emailVerified}))}catch(n){n.message==="Firebase: Error (auth/email-already-in-use)."?e(jm("El correo electrnico ya se encuentra en uso, intnte con otro porfavor.")):e(jm("El correo electrnico est en un formato no permitido, revselo porfavor."))}},AF=async t=>{const e={nombre:t.nombre,correo:t.correo,cedula:t.cedula,telefono:t.telefono,provincia:t.provincia,canton:t.canton,distrito:t.distrito,direccion:t.direccion,fechaNacimiento:Ie.fromDate(new Date(t.fechaNacimiento)),genero:t.genero,user_type:0,estado:0},n=Co(gr,"Usuarios");try{await yF(n,e)}catch{}},kF=(t,e,n)=>async r=>{const i=Co(gr,"Usuarios");try{const s=yv(i,vv("correo","==",e)),o=await Ul(s);if(!o.empty){const a=o.docs[0],l=Th(gr,"Usuarios",a.id);await mF(l,t);const c=await Gx(e);n||r(xF(c))}}catch{}},NF=async t=>{try{await H2(Sv,t),alert("Se ha enviado un correo electrnico para restablecer tu contrasea.")}catch{}},OF={dataEmpresa:null},Qx=li({name:"empresa",initialState:OF,reducers:{setEmpresaData(t,e){t.dataEmpresa=e.payload}}}),DF=()=>async t=>{try{const e=await Co(gr,"Empresa"),s=(await Ul(e)).docs[0].data();if(s){const o={correo:s.correo,facebookUrl:s.redes[0].red_url,titulo_footer:s.titulo_principal,subtitulo_footer:s.subtitulo_principal,direccionCorta:s.direccion_corta,telefonos:[s.telefonos[0],s.telefonos[1]],horarios:[s.horarios[0],s.horarios[1],s.horarios[2],s.horarios[3],s.horarios[4],s.horarios[5],s.horarios[6]]};t(jF(o))}}catch(e){console.error("Error al obtener los datos de la empresa:",e)}},{setEmpresaData:jF}=Qx.actions,LF=Qx.reducer,bh=async t=>{try{const e=Th(gr,t);return(await Wx(e)).data()}catch(e){console.log(e)}},Ro=async t=>(await Ul(Co(gr,t))).docs.map(r=>({...r.data(),id:r.id})),eu=ai("about/fetchMainSectionClient",async()=>{const t=await bh("/Empresa/ZktZQqsBnqVVoL4dfRHv");return{image_principal_url:t.image_principal_url,subtitulo_principal:t.subtitulo_principal,titulo_principal:t.titulo_principal,download_url_principal:t.download_url_principal}}),tu=ai("about/fetchSectionsClient",async()=>await Ro("/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones")),$F={head:{image_principal_url:"",subtitulo_principal:"",titulo_principal:"",download_url_principal:""},sections:[],loading:!1,error:void 0},MF=li({name:"about",initialState:$F,reducers:{},extraReducers:t=>{t.addCase(eu.pending,e=>{e.loading=!0}),t.addCase(eu.fulfilled,(e,n)=>{e.loading=!1,e.head=n.payload}),t.addCase(eu.rejected,(e,n)=>{e.loading=!1,e.head={},e.error=n.error.message}),t.addCase(tu.pending,e=>{e.loading=!0}),t.addCase(tu.fulfilled,(e,n)=>{e.loading=!1,e.sections=n.payload}),t.addCase(tu.rejected,(e,n)=>{e.loading=!1,e.sections=[],e.error=n.error.message})}}),Yx=t=>t.about,VF=MF.reducer,FF={datosPais:null,loading:!1,error:null},dd=li({name:"paisInfo",initialState:FF,reducers:{fetchDataStart(t){t.loading=!0,t.error=null},fetchDataSuccess(t,e){t.loading=!1,t.datosPais=e.payload},fetchDataFailure(t,e){t.loading=!1,t.error=e.payload}}});dd.actions;const UF=dd.reducer,zF=async()=>{const e=await(await fetch("https://gist.githubusercontent.com/josuenoel/80daca657b71bc1cfd95a4e27d547abe/raw")).json();localStorage.setItem("data-paises",JSON.stringify(e))},BF=()=>JSON.parse(localStorage.getItem("data-paises")),Xx=()=>async t=>{try{await zF();const e=await BF(),n={};Object.values(e.provincias).forEach(r=>{const i={};Object.values(r.cantones).forEach(s=>{i[s.nombre]=s}),n[r.nombre]={...r,cantones:i}}),t(dd.actions.fetchDataSuccess(n))}catch(e){console.error("Ocurri un error al obtener el JSON:",e),t(dd.actions.fetchDataFailure(e.message||"Ha ocurrido un error"))}};function Lm(t){return Object.keys(t)}function nu(t,e){if(!e||!e[t]||!e[t].cantones)return[];const n=e[t];return Object.keys(n.cantones)}function ru(t){return Object.values(t)}const HF={loading:!1,cursos:[],numSolicitantes:{},error:void 0};function WF(t){switch(t){case 0:return"Presencial";case 1:return"Virtual";case 2:return"Mixta";default:return"No Definida"}}const Ea=ai("users/fetchCursos",async()=>{const e=await Ro("Cursos"),n={};return e.forEach(s=>{s.id&&(n[s.id]=s.postulados.length)}),{cursos:e.filter(s=>s.fechaCreacion!==void 0).sort((s,o)=>o.fechaCreacion.toMillis()-s.fechaCreacion.toMillis()),numSolicitantes:n}}),qF=li({name:"cursos",initialState:HF,extraReducers:t=>{t.addCase(Ea.pending,e=>{e.loading=!0}),t.addCase(Ea.fulfilled,(e,n)=>{e.loading=!1,e.cursos=n.payload.cursos,e.numSolicitantes=n.payload.numSolicitantes}),t.addCase(Ea.rejected,(e,n)=>{e.loading=!1,e.cursos=[],e.error=n.error.message})},reducers:{}}),Jx=t=>t.cursos,KF=qF.reducer,iu=ai("ads/fetchMainAdsClient",async()=>await bh("/Avisos/1x9cYIlY1FaQcw9jZhf6")),su=ai("ads/fetchAdsClient",async()=>await Ro("/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios")),GF={loading:!1,error:void 0,adsList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},QF=li({name:"ads",initialState:GF,reducers:{},extraReducers:t=>{t.addCase(iu.pending,e=>{e.loading=!0}),t.addCase(iu.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(iu.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(su.pending,e=>{e.loading=!0}),t.addCase(su.fulfilled,(e,n)=>{e.loading=!1,e.adsList=n.payload}),t.addCase(su.rejected,(e,n)=>{e.loading=!1,e.adsList=[],e.error=n.error.message})}}),Zx=t=>t.avisos,YF=QF.reducer,ou=ai("Service/fetchMainServiceClient",async()=>await bh("/Servicios/xsc94XcgZ4Agn9IisLop")),au=ai("Service/fetchServiceClient",async()=>await Ro("/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios")),XF={loading:!1,error:void 0,ServiceList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},JF=li({name:"Service",initialState:XF,reducers:{},extraReducers:t=>{t.addCase(ou.pending,e=>{e.loading=!0}),t.addCase(ou.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(ou.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(au.pending,e=>{e.loading=!0}),t.addCase(au.fulfilled,(e,n)=>{e.loading=!1,e.ServiceList=n.payload}),t.addCase(au.rejected,(e,n)=>{e.loading=!1,e.ServiceList=[],e.error=n.error.message})}}),eR=t=>t.servicios,ZF=JF.reducer,Wf=ai("mycourses/fetchMyCourses",async()=>{const e=(await Ro("/Cursos")).map(n=>({nombre:n.nombre,horario:n.horario,modalidad:n.modalidad,postulados:n.postulados,matriculados:n.matriculados,aprobados:n.aprobados,reprobados:n.reprobados}));return console.log(e,"data"),e}),e3={loading:!1,error:void 0,courses:[]},t3=li({name:"mycourses",initialState:e3,reducers:{},extraReducers:t=>{t.addCase(Wf.pending,e=>{e.loading=!0}),t.addCase(Wf.fulfilled,(e,n)=>{e.loading=!1,e.courses=n.payload}),t.addCase(Wf.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message})}}),n3=t3.reducer,pi={key:"root",storage:_T},r3=ci(pi,RF),i3=ci(pi,LF),s3=ci(pi,VF),o3=ci(pi,UF),a3=ci(pi,KF),l3=ci(pi,YF),c3=ci(pi,ZF),u3=ci(pi,n3),tR=pN({reducer:{auth:r3,empresa:i3,about:s3,paisInfo:o3,cursos:a3,avisos:l3,servicios:c3,misCursos:u3},middleware:t=>t({serializableCheck:{ignoredActions:[Jg,Bd,Zg,ey,ty,ny]}})}),d3=rO(tR);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}var Lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lr||(Lr={}));const tE="popstate";function h3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $m("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hd(i)}return p3(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f3(){return Math.random().toString(36).substr(2,8)}function nE(t,e){return{usr:t.state,key:t.key,idx:e}}function $m(t,e,n,r){return n===void 0&&(n=null),cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:n,key:e&&e.key||r||f3()})}function hd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function p3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Lr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(cl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Lr.Pop;let S=u(),y=S==null?null:S-c;c=S,l&&l({action:a,location:E.location,delta:y})}function f(S,y){a=Lr.Push;let p=$m(E.location,S,y);n&&n(p,S),c=u()+1;let m=nE(p,c),w=E.createHref(p);try{o.pushState(m,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(w)}s&&l&&l({action:a,location:E.location,delta:1})}function g(S,y){a=Lr.Replace;let p=$m(E.location,S,y);n&&n(p,S),c=u();let m=nE(p,c),w=E.createHref(p);o.replaceState(m,"",w),s&&l&&l({action:a,location:E.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof S=="string"?S:hd(S);return ke(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let E={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tE,d),l=S,()=>{i.removeEventListener(tE,d),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(S){return o.go(S)}};return E}var rE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rE||(rE={}));function m3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?bo(e):e,i=ao(r.pathname||"/",n);if(i==null)return null;let s=nR(t);g3(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=C3(s[a],R3(i));return o}function nR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Gr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nR(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:T3(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of rR(s.path))i(s,o,l)}),e}function rR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function g3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const y3=/^:[\w-]+$/,v3=3,_3=2,w3=1,E3=10,S3=-2,iE=t=>t==="*";function T3(t,e){let n=t.split("/"),r=n.length;return n.some(iE)&&(r+=S3),e&&(r+=_3),n.filter(i=>!iE(i)).reduce((i,s)=>i+(y3.test(s)?v3:s===""?w3:E3),r)}function I3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function C3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Mm({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Gr([i,u.pathname]),pathnameBase:N3(Gr([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Gr([i,u.pathnameBase]))}return s}function Mm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=x3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let E=a[d]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const v=a[d];return g&&!v?c[f]=void 0:c[f]=b3(v||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function x3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Tv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function R3(t){try{return decodeURI(t)}catch(e){return Tv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function b3(t,e){try{return decodeURIComponent(t)}catch(n){return Tv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ao(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function P3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bo(t):t;return{pathname:n?n.startsWith("/")?n:A3(n,e):e,search:O3(r),hash:D3(i)}}function A3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iR(t,e){let n=k3(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bo(t):(i=cl({},t),ke(!i.pathname||!i.pathname.includes("?"),qf("?","pathname","search",i)),ke(!i.pathname||!i.pathname.includes("#"),qf("#","pathname","hash",i)),ke(!i.search||!i.search.includes("#"),qf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=P3(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),N3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oR=["post","put","patch","delete"];new Set(oR);const L3=["get",...oR];new Set(L3);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}const Ph=_.createContext(null),aR=_.createContext(null),mi=_.createContext(null),Ah=_.createContext(null),cs=_.createContext({outlet:null,matches:[],isDataRoute:!1}),lR=_.createContext(null);function $3(t,e){let{relative:n}=e===void 0?{}:e;zl()||ke(!1);let{basename:r,navigator:i}=_.useContext(mi),{hash:s,pathname:o,search:a}=kh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Gr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function zl(){return _.useContext(Ah)!=null}function Po(){return zl()||ke(!1),_.useContext(Ah).location}function cR(t){_.useContext(mi).static||_.useLayoutEffect(t)}function Bl(){let{isDataRoute:t}=_.useContext(cs);return t?Y3():M3()}function M3(){zl()||ke(!1);let t=_.useContext(Ph),{basename:e,future:n,navigator:r}=_.useContext(mi),{matches:i}=_.useContext(cs),{pathname:s}=Po(),o=JSON.stringify(iR(i,n.v7_relativeSplatPath)),a=_.useRef(!1);return cR(()=>{a.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=sR(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function kh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(mi),{matches:i}=_.useContext(cs),{pathname:s}=Po(),o=JSON.stringify(iR(i,r.v7_relativeSplatPath));return _.useMemo(()=>sR(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function V3(t,e){return F3(t,e)}function F3(t,e,n,r){zl()||ke(!1);let{navigator:i}=_.useContext(mi),{matches:s}=_.useContext(cs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Po(),u;if(e){var d;let S=typeof e=="string"?bo(e):e;l==="/"||(d=S.pathname)!=null&&d.startsWith(l)||ke(!1),u=S}else u=c;let f=u.pathname||"/",g=l==="/"?f:f.slice(l.length)||"/",v=m3(t,{pathname:g}),E=W3(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Gr([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Gr([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&E?_.createElement(Ah.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Lr.Pop}},E):E}function U3(){let t=Q3(),e=j3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const z3=_.createElement(U3,null);class B3 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(cs.Provider,{value:this.props.routeContext},_.createElement(lR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H3(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(Ph);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(cs.Provider,{value:e},r)}function W3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||ke(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let g,v=!1,E=null,S=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||z3,l&&(c<0&&f===0?(X3("route-fallback",!1),v=!0,S=null):c===f&&(v=!0,S=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),p=()=>{let m;return g?m=E:v?m=S:d.route.Component?m=_.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=u,_.createElement(H3,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:m})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?_.createElement(B3,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var uR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uR||{}),fd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fd||{});function q3(t){let e=_.useContext(Ph);return e||ke(!1),e}function K3(t){let e=_.useContext(aR);return e||ke(!1),e}function G3(t){let e=_.useContext(cs);return e||ke(!1),e}function dR(t){let e=G3(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function Q3(){var t;let e=_.useContext(lR),n=K3(fd.UseRouteError),r=dR(fd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Y3(){let{router:t}=q3(uR.UseNavigateStable),e=dR(fd.UseNavigateStable),n=_.useRef(!1);return cR(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ul({fromRouteId:e},s)))},[t,e])}const sE={};function X3(t,e,n){!e&&!sE[t]&&(sE[t]=!0)}function sn(t){ke(!1)}function J3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Lr.Pop,navigator:s,static:o=!1,future:a}=t;zl()&&ke(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:s,static:o,future:ul({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=bo(r));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:v="default"}=r,E=_.useMemo(()=>{let S=ao(u,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:g,key:v},navigationType:i}},[l,u,d,f,g,v,i]);return E==null?null:_.createElement(mi.Provider,{value:c},_.createElement(Ah.Provider,{children:n,value:E}))}function Z3(t){let{children:e,location:n}=t;return V3(Vm(e),n)}new Promise(()=>{});function Vm(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,Vm(r.props.children,s));return}r.type!==sn&&ke(!1),!r.props.index||!r.props.children||ke(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}function hR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tU(t,e){return t.button===0&&(!e||e==="_self")&&!eU(t)}const nU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],rU=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],iU="6";try{window.__reactRouterVersion=iU}catch{}const sU=_.createContext({isTransitioning:!1}),oU="startTransition",oE=ep[oU];function aU(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=h3({window:i,v5Compat:!0}));let o=s.current,[a,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=_.useCallback(d=>{c&&oE?oE(()=>l(d)):l(d)},[l,c]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.createElement(J3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const lU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nh=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=hR(e,nU),{basename:g}=_.useContext(mi),v,E=!1;if(typeof c=="string"&&cU.test(c)&&(v=c,lU))try{let m=new URL(window.location.href),w=c.startsWith("//")?new URL(m.protocol+c):new URL(c),T=ao(w.pathname,g);w.origin===m.origin&&T!=null?c=T+w.search+w.hash:E=!0}catch{}let S=$3(c,{relative:i}),y=dU(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function p(m){r&&r(m),m.defaultPrevented||y(m)}return _.createElement("a",pd({},f,{href:v||S,onClick:E||s?r:p,ref:n,target:l}))}),vn=_.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=hR(e,rU),f=kh(l,{relative:d.relative}),g=Po(),v=_.useContext(aR),{navigator:E,basename:S}=_.useContext(mi),y=v!=null&&hU(f)&&c===!0,p=E.encodeLocation?E.encodeLocation(f).pathname:f.pathname,m=g.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(m=m.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&S&&(w=ao(w,S)||w);const T=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let I=m===p||!o&&m.startsWith(p)&&m.charAt(T)==="/",C=w!=null&&(w===p||!o&&w.startsWith(p)&&w.charAt(p.length)==="/"),x={isActive:I,isPending:C,isTransitioning:y},M=I?r:void 0,$;typeof s=="function"?$=s(x):$=[s,I?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let he=typeof a=="function"?a(x):a;return _.createElement(Nh,pd({},d,{"aria-current":M,className:$,ref:n,style:he,to:l,unstable_viewTransition:c}),typeof u=="function"?u(x):u)});var Fm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fm||(Fm={}));var aE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aE||(aE={}));function uU(t){let e=_.useContext(Ph);return e||ke(!1),e}function dU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Bl(),c=Po(),u=kh(t,{relative:o});return _.useCallback(d=>{if(tU(d,n)){d.preventDefault();let f=r!==void 0?r:hd(c)===hd(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function hU(t,e){e===void 0&&(e={});let n=_.useContext(sU);n==null&&ke(!1);let{basename:r}=uU(Fm.useViewTransitionState),i=kh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ao(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ao(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mm(i.pathname,o)!=null||Mm(i.pathname,s)!=null}var fR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lE=H.createContext&&H.createContext(fR),fU=["attr","size","title"];function pU(t,e){if(t==null)return{};var n=mU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},md.apply(this,arguments)}function cE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(n),!0).forEach(function(r){gU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gU(t,e,n){return e=yU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yU(t){var e=vU(t,"string");return typeof e=="symbol"?e:String(e)}function vU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pR(t){return t&&t.map((e,n)=>H.createElement(e.tag,gd({key:n},e.attr),pR(e.child)))}function Oh(t){return e=>H.createElement(_U,md({attr:gd({},t.attr)},e),pR(t.child))}function _U(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=pU(t,fU),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),H.createElement("svg",md({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:gd(gd({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&H.createElement("title",null,s),t.children)};return lE!==void 0?H.createElement(lE.Consumer,null,n=>e(n)):e(fR)}function wU(t){return Oh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function EU(t){return Oh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function SU(t){return Oh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function mR(t){return Oh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}const TU=({isOpen:t,onClose:e})=>{const[n,r]=_.useState(""),i=()=>{NF(n),e()};return h.jsx(h.Fragment,{children:t&&h.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:h.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h5",{className:"modal-title",children:"Enviar Correo Electrnico para Cambiar Contrasea"}),h.jsx("button",{title:"Cerrar",type:"button",className:"btn-close",onClick:e})]}),h.jsx("div",{className:"modal-body",children:h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Correo Electrnico:"}),h.jsx("input",{id:"email",type:"email",className:"form-control",value:n,onChange:s=>r(s.target.value),required:!0})]})}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{type:"button",className:"btn btn-primary",onClick:i,children:"Enviar Correo"}),h.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cerrar"})]})]})})})})},IU=()=>{const t=Bl(),[e,n]=_.useState(""),[r,i]=_.useState(""),[s,o]=_.useState(!1),[a,l]=_.useState(!1),c=Hg(),u=we(p=>p.auth.loggedIn),d=we(p=>p.auth.user),f=we(p=>p.auth.error),g=we(p=>p.auth.emailVerified),v=p=>{p.preventDefault(),setTimeout(()=>{c(bF(e,r))},1e3)},E=p=>{n(p.target.value)},S=p=>{i(p.target.value)},y=()=>{o(!s)};return _.useEffect(()=>{if(u&&d&&g){const p=setTimeout(()=>{t("/client-system/home")},3e3);return()=>clearTimeout(p)}},[u,d,g]),h.jsx(h.Fragment,{children:h.jsx("div",{className:"container",children:h.jsx("div",{className:"row justify-content-center",children:h.jsx("div",{className:"col-md-6",children:h.jsxs("div",{className:"card shadow-lg",children:[f&&h.jsx("div",{className:"alert-popup",children:h.jsx("div",{className:"alert-message alert alert-danger",children:h.jsx("span",{children:f})})}),!d&&h.jsxs("form",{onSubmit:v,children:[h.jsxs("div",{children:[h.jsx("img",{src:"/src/assets/LogoUCAG.png",alt:"Bootstrap",width:"200",height:"150"}),h.jsx("h3",{children:"Bienvenido!"}),h.jsx("h3",{children:"Inicio de Sesin"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"email",className:"form-label text-start text-muted",children:"Correo:"}),h.jsx("input",{type:"email",id:"email",value:e,onChange:E,className:"form-control",placeholder:"Ej: correo@example.com"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"password",className:"form-label text-start text-muted",children:"Contrasea:"}),h.jsxs("div",{className:"input-group",children:[h.jsx("input",{type:s?"text":"password",id:"password",value:r,onChange:S,className:"form-control",placeholder:"Ej: contrasea123"}),h.jsxs("button",{className:"btn btn-outline-secondary",type:"button",onClick:y,children:[s?h.jsx(mR,{}):h.jsx(SU,{})," "]})]})]}),h.jsx("button",{type:"submit",className:"btn btn-primary",children:"Iniciar Sesin"}),h.jsxs("div",{children:[h.jsx("br",{}),h.jsx("label",{children:"No tiene cuenta?"}),h.jsx(Nh,{to:"/crear-cuenta",children:"Crear Cuenta"})]}),h.jsxs("div",{children:[h.jsx("span",{children:"Olvidaste tu contrasea? "}),h.jsx("span",{className:"link-style",onClick:()=>l(!0),children:"Haz clic aqu"}),h.jsx(TU,{isOpen:a,onClose:()=>l(!1)})]})]}),d&&h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx("img",{src:"/src/assets/LogoUCAG.png",alt:"Bootstrap",width:"200",height:"150"}),h.jsx("h3",{children:"Bienvenido!"})]}),h.jsx("label",{children:"Credenciales Correctas!"}),h.jsxs("label",{children:["Hola ",d.nombre,"!"]})]})]})})})})})},gi=()=>Hg(),yi=we,CU={nombre:"",correo:"",password:"",cedula:"",telefono:"",provincia:"",canton:"",distrito:"",direccion:"",fechaNacimiento:"",genero:""},xU=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState([]),[o,a]=_.useState(""),l=gi(),c=we(m=>m.auth.emailVerified),u=we(m=>m.auth.notification),d=we(m=>m.auth.error),f=we(m=>m.paisInfo.datosPais),g=we(m=>m.auth.loggedIn),v=we(m=>m.auth.user),[E,S]=_.useState(CU);_.useEffect(()=>{if(l(Xx()),f){const m=Lm(f);e(m)}},[]);const y=m=>{const{name:w,value:T}=m.target;if(w==="provincia"){a(T);const I=nu(T,f);r(I),s([]),S({...E,[w]:T})}else if(w==="canton"){S({...E,[w]:T,distrito:""});const I=ru(f[o].cantones[T].distritos);s(I)}else S({...E,[w]:T})},p=m=>{if(m.preventDefault(),!Object.values(E).every(T=>T.trim()!=="")){l(jm("Porfavor llene todos los campos."));return}l(PF(E))};return h.jsxs("div",{children:[h.jsxs("div",{className:"container",children:[h.jsxs("div",{children:[h.jsx("img",{src:"/src/assets/LogoUCAG.png",alt:"Bootstrap",width:"200",height:"150"}),!v&&!g&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{children:"Bienvenido!"}),h.jsx("h2",{children:"Crear Cuenta de Usuario "})]})]}),!c&&u&&h.jsx("div",{children:h.jsxs("p",{children:[u,", Debes confirmar tu correo electrnico! "]})}),!u&&h.jsx("div",{className:"card shadow-lg",children:h.jsxs("form",{onSubmit:p,className:"signup-form",children:[d&&h.jsx("div",{className:"alert-popup",children:h.jsx("div",{className:"alert-message alert alert-danger",children:h.jsx("span",{children:d})})}),h.jsxs("div",{className:"row",children:[h.jsxs("div",{className:"col",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"nombre",children:"Nombre Completo:"}),h.jsx("input",{type:"text",id:"nombre",name:"nombre",value:E.nombre,onChange:y,className:"form-control",placeholder:"Ej: Juan Prez"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"fechaNacimiento",children:"Fecha de Nacimiento:"}),h.jsx("input",{type:"date",id:"fechaNacimiento",name:"fechaNacimiento",value:E.fechaNacimiento,onChange:y,className:"form-control"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"provincia",children:"Provincia:"}),h.jsxs("select",{id:"provincia",name:"provincia",value:E.provincia,onChange:y,className:"form-control",children:[h.jsx("option",{value:"",children:"Seleccione una provincia..."}),t.map((m,w)=>h.jsx("option",{value:m,children:m},w))]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"direccion",children:"Direccin Exacta:"}),h.jsx("input",{type:"text",id:"direccion",name:"direccion",value:E.direccion,onChange:y,className:"form-control",placeholder:"Ej: 123 Calle Principal, Barrio Los ngeles",required:!0})]})]}),h.jsxs("div",{className:"col",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"correo",children:"Correo:"}),h.jsx("input",{type:"correo",id:"correo",name:"correo",value:E.correo,onChange:y,className:"form-control",placeholder:"Ej: correo@example.com"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"telefono",children:"Telfono:"}),h.jsx("input",{type:"text",id:"telefono",name:"telefono",value:E.telefono,onChange:y,className:"form-control",placeholder:"Ej: 8888-8888",pattern:"\\d*",title:"Solo se permiten nmeros."})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"canton",children:"Cantn:"}),h.jsxs("select",{id:"canton",name:"canton",value:E.canton,onChange:y,className:"form-control",children:[h.jsx("option",{value:"",children:"Seleccione un cantn..."}),n.map((m,w)=>h.jsx("option",{value:m,children:m},w))]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"genero",children:"Gnero:"}),h.jsxs("select",{id:"genero",name:"genero",value:E.genero,onChange:y,className:"form-control",children:[h.jsx("option",{value:"",children:"Seleccione un gnero..."}),h.jsx("option",{value:"M",children:"Masculino"}),h.jsx("option",{value:"F",children:"Femenino"}),h.jsx("option",{value:"O",children:"Otro"})]})]})]}),h.jsxs("div",{className:"col",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"password",children:"Contrasea:"}),h.jsx("input",{type:"password",id:"password",name:"password",value:E.password,onChange:y,className:"form-control",placeholder:"Ej: contrasea123"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"cedula",children:"Cdula:"}),h.jsx("input",{type:"text",id:"cedula",name:"cedula",value:E.cedula,onChange:y,className:"form-control",placeholder:"Ej: 123456789",pattern:"\\d*",title:"Solo se permiten nmeros"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"distrito",children:"Distrito:"}),h.jsxs("select",{id:"distrito",name:"distrito",value:E.distrito,onChange:y,className:"form-control",children:[h.jsx("option",{value:"",children:"Seleccione un distrito..."}),i.map((m,w)=>h.jsx("option",{value:m,children:m},w))]})]})]})]}),h.jsx("button",{type:"submit",className:"btn btn-primary",children:"Crear Cuenta"})]})})]}),h.jsx("br",{}),!v&&!g&&h.jsx(h.Fragment,{children:h.jsxs("div",{children:[h.jsx("label",{children:"Ya tiene cuenta?"}),h.jsx(Nh,{to:"/iniciar-sesion",children:"Iniciar Sesin"})]})})]})};function uE({to:t,curso:e}){return h.jsxs("div",{className:`card rounded-4 my-3 ${e.visible===2?"custom-card-proximamente":"custom-card"}`,children:[h.jsx("img",{src:e.download_url,alt:"Imagen",className:"card-img-top rounded",style:{height:"70%"}}),h.jsx("div",{className:"card-body",children:h.jsx("h5",{className:"card-title my-0",children:e.nombre})}),e.visible===1&&h.jsx("div",{className:"card-footer",children:h.jsxs(Nh,{to:t,state:{curso:e},className:"read-more",children:["Leer ms ",h.jsx(EU,{})]})})]})}function RU(){const[t,e]=_.useState([]),[n,r]=_.useState(!1),[i,s]=_.useState(void 0),o=yi(Jx),a=gi();return _.useEffect(()=>{(async()=>await a(Ea()))()},[a]),_.useEffect(()=>{r(o.loading),s(o.error),!o.loading&&!o.error&&e(o.cursos)},[o]),h.jsx("section",{children:h.jsxs("div",{className:"row mt-4",children:[h.jsxs("div",{className:"col p-4 me-md-3",children:[h.jsx("h2",{className:"text-center",children:"Cursos Disponibles"}),h.jsx("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:t.filter(l=>l.visible===1).map(l=>h.jsx("div",{className:"col",children:h.jsx(uE,{to:`/client-system/cursos/${l.nombre}`,curso:l})},l.id))})]}),h.jsxs("div",{className:"col-md-3 bg-info-subtle p-4 ms-md-3 mt-4 mt-md-0",children:[h.jsx("h2",{children:"Prximamente"}),h.jsx("div",{className:"row row-cols-1",children:t.filter(l=>l.visible===2).map(l=>h.jsx("div",{className:"col mb-4",children:h.jsx(uE,{to:`/client-system/curso/${l.nombre}`,curso:l})},l.id))})]})]})})}const bU=()=>{const t=yi(Yx);return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"text-center rounded mb-5",children:[h.jsx("img",{src:t.head.download_url_principal,className:"img-fluid"}),h.jsx("h1",{className:"display-1 text-black",children:t.head.titulo_principal}),h.jsx("h3",{className:"display-6 text-black",children:t.head.subtitulo_principal})]})})},PU=()=>{const t=yi(Yx),[e,n]=_.useState([]);return _.useEffect(()=>{n(t.sections)},[t]),h.jsxs(h.Fragment,{children:[t.loading&&h.jsx("div",{children:"Cargando..."}),e.map(r=>r.posicion_id==1?h.jsxs("div",{className:"row mb-3 border",children:[h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})}),h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion})]})]},`${r.id}-div1`):h.jsxs("div",{className:"row mb-3 border",children:[h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion})]}),h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})})]},`${r.id}-div2`))]})},AU=()=>{const t=gi();return _.useEffect(()=>{(async()=>(await t(eu()),await t(tu())))()},[]),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[h.jsx(bU,{}),h.jsx("div",{className:"container-fluid",children:h.jsx(PU,{})})]})})},dE=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,s]=_.useState(""),o=_.useRef(null);return _.useEffect(()=>{const a=o$(wF,"Home/imagen-inicio");s$(a).then(l=>{s(l)}).catch(l=>{console.error("Error descargando la imagen:",l)}),(async()=>{const l=await bh("/Home/8Yl9xbZuRNFTUItTEKGU");e(l==null?void 0:l.titulo),r(l==null?void 0:l.descripcion)})()},[]),h.jsx(h.Fragment,{children:h.jsx("div",{className:"container mt-5",children:h.jsxs("div",{className:"row text-start",children:[h.jsxs("div",{className:"col-sm-5",children:[h.jsx("h2",{className:"fw-bold color-title mb-3",children:t}),h.jsxs("p",{children:[n," "]})]}),h.jsx("div",{className:"col-sm-7",ref:o,children:h.jsx("img",{src:i,alt:"Imagen de pgina de inicio,",className:"img-fluid rounded"})})]})})})},yd=({texto:t,mostrar:e,onClose:n,onConfirm:r,segundos:i})=>(_.useEffect(()=>{if(i){const s=setTimeout(()=>{n&&n()},i*1e3);return()=>clearTimeout(s)}},[i,n]),h.jsx("div",{className:`modal ${e?"show":""}`,style:{display:e?"block":"none"},children:h.jsx("div",{className:"modal-dialog",children:h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h5",{className:"modal-title",children:"Notificacin"}),n&&h.jsx("button",{title:"btn-close",type:"button",className:"btn-close",onClick:n})," "]}),h.jsx("div",{className:"modal-body",children:h.jsx("p",{children:t})}),h.jsxs("div",{className:"modal-footer",children:[n&&h.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cancelar"})," ",r&&h.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Aceptar"})," "]})]})})})),hE=["Masculino","Femenino","Otro"],Kf=["Comn","Administrador"],kU={correo:"Correo Electrnico",cedula:"Cdula",telefono:"Telfono",provincia:"Provincia",canton:"Cantn",distrito:"Distrito",direccion:"Direccin",fechaNacimiento:"Fecha de Nacimiento",genero:"Gnero",nombre:"Nombre",user_type:"Tipo de Usuario"},NU=({pUsuario:t})=>{const e=gi(),n=we(j=>j.auth.loggedIn);let r=null;t?r=t:r=we(j=>j.auth.user);const i=we(j=>j.paisInfo.datosPais),s={nombre:r.nombre,correo:r==null?void 0:r.correo,cedula:r==null?void 0:r.cedula,telefono:r==null?void 0:r.telefono,provincia:r==null?void 0:r.provincia,canton:r==null?void 0:r.canton,distrito:r==null?void 0:r.distrito,direccion:r==null?void 0:r.direccion,fechaNacimiento:r==null?void 0:r.fechaNacimiento,genero:r==null?void 0:r.genero,user_type:r.user_type},[o,a]=_.useState(!1),[l,c]=_.useState(s),[u,d]=_.useState(!1),[f,g]=_.useState(!1),[v,E]=_.useState([]),[S,y]=_.useState([]),[p,m]=_.useState([]),[w,T]=_.useState(""),[I,C]=_.useState(""),[x,M]=_.useState(""),[$,he]=_.useState(""),Ue=Bl();_.useEffect(()=>{if(!n&&!r&&Ue("/"),r&&i){const j=Lm(i);if(E(j),i[r.provincia]&&i[r.provincia].cantones&&i[r.provincia].cantones[r.canton].distritos){const W=nu(r.provincia,i);y(W);const ee=ru(i[r.provincia].cantones[r.canton].distritos);m(ee)}}},[r,i,Ue,Lm,nu,ru]);const ce=(j,W)=>{T(j);const ee=nu(j,i);y(ee),m([]),c({...l,[W]:j})},Ot=(j,W)=>{C(j);const ee=ru(i[w].cantones[j].distritos);m(ee),c({...l,[W]:j,distrito:""})},Dt=j=>{const{name:W,value:ee}=j.target;try{W==="user_type"&&he(Kf[parseInt(ee)]),W==="provincia"?ce(ee,W):W==="canton"?Ot(ee,W):(M(ee),c({...l,[W]:ee}))}catch{ce(r==null?void 0:r.provincia,W),Ot(ee,W)}},jt=()=>{a(!0),c(s)},dt=()=>{a(!1),r&&c(s)},O=()=>{if(!Object.keys(s).some(ee=>ee==="correo"||ee==="estado"||ee==="user_type"?!1:s[ee]!==l[ee])){d(!0);return}if(!(l!=null&&l.cedula)||!(l!=null&&l.nombre)||!(l!=null&&l.canton)||x===""){g(!0);return}const W=/^[0-9]+$/;if(l.telefono&&!W.test(l.telefono)||l.cedula&&!W.test(l.cedula)){g(!0);return}d(!0)},V=()=>{g(!1)},z=()=>{e(kF(l,l.correo,t)),a(!1),d(!1)},ae=()=>{d(!1)},Z=j=>Kf[j];return h.jsxs("div",{className:"container shadow-lg",children:[h.jsx("br",{}),!t&&h.jsx(h.Fragment,{children:h.jsx("h2",{children:"Mis Datos Personales"})}),t&&h.jsx(h.Fragment,{children:h.jsx("h2",{children:"Datos de la Cuenta"})}),h.jsx("br",{}),h.jsx("div",{className:"row",children:l&&Object.entries(l).map(([j,W])=>{if(j==="correo"||j==="estado")return null;if(j==="user_type"&&!t)return null;const ee=kU[j]||j;if(j==="fechaNacimiento"){const ne=(W instanceof Ie?W.toDate().toDateString():W.toString()).split("-"),pn=`${ne[2]}/${ne[1]}/${ne[0]}`;return h.jsxs("div",{className:"col-md-3 mb-3",children:[h.jsx("label",{className:"form-label",children:ee}),o?h.jsx("input",{title:"fecha-nacimiento",type:"date",name:j,value:W,onChange:Dt,className:"form-control"}):h.jsx("div",{className:"form-control",children:pn})]},j)}return j==="provincia"||j==="canton"||j==="distrito"||j==="genero"||j==="user_type"?h.jsxs(h.Fragment,{children:[t&&h.jsxs("div",{className:"col-md-3 mb-3",children:[h.jsx("label",{className:"form-label",children:ee}),o?h.jsxs("select",{title:"form-select",name:j,value:l[j],onChange:Dt,className:"form-select",children:[h.jsxs("option",{value:"",children:["Seleccionar ",ee]}),j==="provincia"&&v.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="canton"&&S.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="distrito"&&p.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="genero"&&hE.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="user_type"&&Kf.map((B,ne)=>h.jsx("option",{value:ne,selected:l.user_type===ne,children:B},ne))]}):h.jsx("div",{className:"form-control",children:j==="user_type"?Z(l.user_type):W})]},j),!t&&h.jsxs("div",{className:"col-md-3 mb-3",children:[h.jsx("label",{className:"form-label",children:ee}),o?h.jsxs("select",{title:"form-select",name:j,value:l[j],onChange:Dt,className:"form-select",children:[h.jsxs("option",{value:"",children:["Seleccionar ",ee]}),j==="provincia"&&v.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="canton"&&S.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="distrito"&&p.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="genero"&&hE.map((B,ne)=>h.jsx("option",{value:B,children:B},ne))]}):h.jsx("div",{className:"form-control",children:W})]},j)]}):h.jsxs("div",{className:"col-md-3 mb-3",children:[h.jsx("label",{className:"form-label",children:ee}),o?h.jsx("input",{title:"contrasea",type:"text",name:j,value:l[j],onChange:Dt,className:"form-control"}):h.jsx("div",{className:"form-control",children:W})]},j)})}),h.jsx("div",{className:"button-container",children:o?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:dt,className:"btn btn-secondary me-2",children:"Cancelar"}),h.jsx("button",{onClick:O,className:"btn btn-success",children:"Guardar"})]}):h.jsx("button",{onClick:jt,className:"btn btn-primary me-2",children:"Editar"})}),h.jsx(yd,{texto:"Por favor, complete todos los campos obligatorios.",mostrar:f,onConfirm:V}),h.jsx(yd,{texto:"Est seguro que desea guardar los cambios?",mostrar:u,onClose:ae,onConfirm:z}),h.jsx("br",{})]})},OU=()=>{const t=yi(Zx);return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"text-center rounded mb-5",children:[h.jsx("img",{src:t.main.download_url,className:"img-fluid"}),h.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),h.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo})]})})},fE=t=>h.jsx(h.Fragment,{children:t.link.map(e=>h.jsx("div",{className:"text-sm-center",children:h.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),DU=()=>{const t=yi(Zx),[e,n]=_.useState();return _.useEffect(()=>{n(t.adsList)},[t]),h.jsxs(h.Fragment,{children:[t.loading&&h.jsx("div",{children:"Cargando..."}),e!=null&&(e==null?void 0:e.map(r=>r.posicion_id==1?h.jsxs("div",{className:"row mb-3 border",children:[h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})}),h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion}),h.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de inters"}),h.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:h.jsx("div",{className:"card card-body",children:h.jsx(fE,{link:r.links},`${r.id}-ads-linkfield1`)})})]})]},`${r.id}-div1`):h.jsxs("div",{className:"row mb-3 border",children:[h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion}),h.jsx("button",{className:`\r
                            \r
                            btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de inters"}),h.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:h.jsx("div",{className:"card card-body",children:h.jsx(fE,{link:r.links},`${r.id}-ads-linkfield2`)})})]}),h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})})]},`${r.id}-div2`)))]})},jU=()=>{const t=gi();return _.useEffect(()=>{t(iu()),t(su())},[]),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[h.jsx(OU,{}),h.jsx("div",{className:"container-fluid",children:h.jsx(DU,{})})]})})},LU=()=>{const t=yi(eR);return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"text-center rounded mb-5",children:[h.jsx("img",{src:t.main.download_url,className:"img-fluid"}),h.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),h.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo})]})})},pE=t=>h.jsx(h.Fragment,{children:t.link.map(e=>h.jsx("div",{className:"text-sm-center",children:h.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),$U=()=>{const t=yi(eR),[e,n]=_.useState();return _.useEffect(()=>{n(t.ServiceList)},[t]),h.jsxs(h.Fragment,{children:[t.loading&&h.jsx("div",{children:"Cargando..."}),e!=null&&(e==null?void 0:e.map(r=>r.posicion_id==1?h.jsxs("div",{className:"row mb-3 border",children:[h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})}),h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion}),h.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de inters"}),h.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:h.jsx("div",{className:"card card-body",children:h.jsx(pE,{link:r.links},`${r.id}-service-linkfield1`)})})]})]},`${r.id}-div1`):h.jsxs("div",{className:"row mb-3 border",children:[h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion}),h.jsx("button",{className:`\r
                            \r
                            btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de inters"}),h.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:h.jsx("div",{className:"card card-body",children:h.jsx(pE,{link:r.links},`${r.id}-service-linkfield2`)})})]}),h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})})]},`${r.id}-div2`)))]})},MU=()=>{const t=gi();return _.useEffect(()=>{t(ou()),t(au())},[]),h.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[h.jsx(LU,{}),h.jsx("div",{className:"container-fluid",children:h.jsx($U,{})})]})},VU=({identificadorCurso:t})=>{const[e,n]=_.useState(!1),[r,i]=_.useState(!1),s=we(v=>v.auth.user),o=we(v=>v.auth.loggedIn),[a,l]=_.useState("");_.useEffect(()=>{o&&s&&u()},[o,s]);const c=async v=>{const E=Co(gr,"Usuarios"),S=yv(E,vv("correo","==",v)),m=(await Ul(S)).docs[0].id;l(m)},u=async()=>{const v=(s==null?void 0:s.correo)||"";await c(v)},d=()=>{const v=new Date;return Ie.fromDate(v)},f=async()=>{u();const v=t,E=d();try{const S=Th(gr,"Cursos",v),p=(await Wx(S)).data(),m=(p==null?void 0:p.postulados)||[];m.some(T=>T.id===a)?i(!0):(m.push({hora_solicitud:E,id:a}),await gF(S,{postulados:m}),n(!0))}catch(S){console.error("Error al matricular: ",S)}},g=()=>{i(!1),n(!1)};return h.jsxs(h.Fragment,{children:[o&&h.jsxs("div",{children:[h.jsx("button",{type:"button",className:"btn btn-matricula btn-sm","data-bs-toggle":"modal","data-bs-target":"#ModalMatricula",children:"Matricular"}),h.jsx("div",{className:"modal fade",id:"ModalMatricula",tabIndex:-1,"aria-labelledby":"matriculaModalLabel","aria-hidden":"true",children:h.jsx("div",{className:"modal-dialog",children:h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h1",{className:"modal-title fs-5",id:"matriculaModalLabel",children:"Matricular Curso"}),h.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),h.jsx("div",{className:"modal-body",children:"Seguro/a de matricular el curso?"}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),h.jsx("button",{type:"button",className:"btn btn-success",onClick:f,"data-bs-dismiss":"modal",children:"Matricular"})]})]})})}),h.jsx(yd,{texto:"La solicitud de matrcula ha sido enviada.",mostrar:e,onConfirm:g}),h.jsx(yd,{texto:"Ya te encuentras en la lista de postulados.",mostrar:r,onConfirm:g})]}),!o&&h.jsx(vn,{className:({isActive:v})=>`nav-item nav-link ${v?"active":""} inicia-sesion`,to:"/client-system/iniciar-sesion",children:h.jsx("h4",{children:"Inicia Sesin y Matricula Ya!!!"})})]})};function FU(){const t=Po(),e=Bl(),n=we(a=>a.auth.user),r=we(a=>a.auth.loggedIn),{state:i}=t,{curso:s}=i,o=()=>{e("/client-system/cursos")};return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"d-flex align-items-center",children:h.jsxs("button",{className:"btn btn-outline-primary me-2",onClick:o,children:[h.jsx(wU,{})," Volver"]})}),h.jsxs("div",{className:"container mt-5",children:[h.jsx("div",{className:"d-flex align-items-center mb-4",children:h.jsx("h2",{className:"mb-0",children:s.nombre})}),h.jsxs("div",{className:"row text-start",children:[h.jsx("div",{className:"col-md-6",children:h.jsx("img",{src:s.download_url,style:{width:"100%",height:"400px"},alt:"Imagen del curso",className:"img-fluid mb-4 rounded"})}),h.jsxs("div",{className:"col-md-6",children:[h.jsxs("p",{className:"mb-3",children:[h.jsx("strong",{children:"Descripcin:"})," ",s.descripcion]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Modalidad:"})," ",WF(s.modalidad)]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fecha de Inicio:"})," ",s.fecha_inicio&&new Date(s.fecha_inicio.seconds*1e3).toLocaleDateString()]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fecha de Fin:"})," ",s.fecha_finalizacion&&new Date(s.fecha_finalizacion.seconds*1e3).toLocaleDateString()]}),r&&n&&h.jsx("div",{children:s.link_plataforma&&h.jsxs("p",{children:[h.jsx("strong",{children:"Link del Curso:"})," ",h.jsx("a",{href:s.link_plataforma,target:"_blank",rel:"noopener noreferrer",children:s.link_plataforma})]})}),h.jsx("p",{children:h.jsx("strong",{children:"Horario:"})}),h.jsx("ul",{children:s.horario.map((a,l)=>h.jsxs("li",{children:[a.dia,": ",a.hora]},l))}),h.jsx(VU,{identificadorCurso:s.id||""})]})]})]})]})}var wt=function(){return wt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wt.apply(this,arguments)};function vd(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var _e="-ms-",Sa="-moz-",fe="-webkit-",gR="comm",Dh="rule",Iv="decl",UU="@import",yR="@keyframes",zU="@layer",vR=Math.abs,Cv=String.fromCharCode,Um=Object.assign;function BU(t,e){return Qe(t,0)^45?(((e<<2^Qe(t,0))<<2^Qe(t,1))<<2^Qe(t,2))<<2^Qe(t,3):0}function _R(t){return t.trim()}function Zn(t,e){return(t=e.exec(t))?t[0]:t}function J(t,e,n){return t.replace(e,n)}function lu(t,e,n){return t.indexOf(e,n)}function Qe(t,e){return t.charCodeAt(e)|0}function lo(t,e,n){return t.slice(e,n)}function Dn(t){return t.length}function wR(t){return t.length}function ia(t,e){return e.push(t),t}function HU(t,e){return t.map(e).join("")}function mE(t,e){return t.filter(function(n){return!Zn(n,e)})}var jh=1,co=1,ER=0,fn=0,Le=0,Ao="";function Lh(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:jh,column:co,length:o,return:"",siblings:a}}function Ir(t,e){return Um(Lh("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ms(t){for(;t.root;)t=Ir(t.root,{children:[t]});ia(t,t.siblings)}function WU(){return Le}function qU(){return Le=fn>0?Qe(Ao,--fn):0,co--,Le===10&&(co=1,jh--),Le}function xn(){return Le=fn<ER?Qe(Ao,fn++):0,co++,Le===10&&(co=1,jh++),Le}function Vi(){return Qe(Ao,fn)}function cu(){return fn}function $h(t,e){return lo(Ao,t,e)}function zm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KU(t){return jh=co=1,ER=Dn(Ao=t),fn=0,[]}function GU(t){return Ao="",t}function Gf(t){return _R($h(fn-1,Bm(t===91?t+2:t===40?t+1:t)))}function QU(t){for(;(Le=Vi())&&Le<33;)xn();return zm(t)>2||zm(Le)>3?"":" "}function YU(t,e){for(;--e&&xn()&&!(Le<48||Le>102||Le>57&&Le<65||Le>70&&Le<97););return $h(t,cu()+(e<6&&Vi()==32&&xn()==32))}function Bm(t){for(;xn();)switch(Le){case t:return fn;case 34:case 39:t!==34&&t!==39&&Bm(Le);break;case 40:t===41&&Bm(t);break;case 92:xn();break}return fn}function XU(t,e){for(;xn()&&t+Le!==57;)if(t+Le===84&&Vi()===47)break;return"/*"+$h(e,fn-1)+"*"+Cv(t===47?t:xn())}function JU(t){for(;!zm(Vi());)xn();return $h(t,fn)}function ZU(t){return GU(uu("",null,null,null,[""],t=KU(t),0,[0],t))}function uu(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,g=0,v=0,E=1,S=1,y=1,p=0,m="",w=i,T=s,I=r,C=m;S;)switch(v=p,p=xn()){case 40:if(v!=108&&Qe(C,d-1)==58){lu(C+=J(Gf(p),"&","&\f"),"&\f",vR(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:C+=Gf(p);break;case 9:case 10:case 13:case 32:C+=QU(v);break;case 92:C+=YU(cu()-1,7);continue;case 47:switch(Vi()){case 42:case 47:ia(e9(XU(xn(),cu()),e,n,l),l);break;default:C+="/"}break;case 123*E:a[c++]=Dn(C)*y;case 125*E:case 59:case 0:switch(p){case 0:case 125:S=0;case 59+u:y==-1&&(C=J(C,/\f/g,"")),g>0&&Dn(C)-d&&ia(g>32?yE(C+";",r,n,d-1,l):yE(J(C," ","")+";",r,n,d-2,l),l);break;case 59:C+=";";default:if(ia(I=gE(C,e,n,c,u,i,a,m,w=[],T=[],d,s),s),p===123)if(u===0)uu(C,e,I,I,w,s,d,a,T);else switch(f===99&&Qe(C,3)===110?100:f){case 100:case 108:case 109:case 115:uu(t,I,I,r&&ia(gE(t,I,I,0,0,i,a,m,i,w=[],d,T),T),i,T,d,a,r?w:T);break;default:uu(C,I,I,I,[""],T,0,a,T)}}c=u=g=0,E=y=1,m=C="",d=o;break;case 58:d=1+Dn(C),g=v;default:if(E<1){if(p==123)--E;else if(p==125&&E++==0&&qU()==125)continue}switch(C+=Cv(p),p*E){case 38:y=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(Dn(C)-1)*y,y=1;break;case 64:Vi()===45&&(C+=Gf(xn())),f=Vi(),u=d=Dn(m=C+=JU(cu())),p++;break;case 45:v===45&&Dn(C)==2&&(E=0)}}return s}function gE(t,e,n,r,i,s,o,a,l,c,u,d){for(var f=i-1,g=i===0?s:[""],v=wR(g),E=0,S=0,y=0;E<r;++E)for(var p=0,m=lo(t,f+1,f=vR(S=o[E])),w=t;p<v;++p)(w=_R(S>0?g[p]+" "+m:J(m,/&\f/g,g[p])))&&(l[y++]=w);return Lh(t,e,n,i===0?Dh:a,l,c,u,d)}function e9(t,e,n,r){return Lh(t,e,n,gR,Cv(WU()),lo(t,2,-2),0,r)}function yE(t,e,n,r,i){return Lh(t,e,n,Iv,lo(t,0,r),lo(t,r+1,-1),r,i)}function SR(t,e,n){switch(BU(t,e)){case 5103:return fe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fe+t+t;case 4789:return Sa+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return fe+t+Sa+t+_e+t+t;case 5936:switch(Qe(t,e+11)){case 114:return fe+t+_e+J(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return fe+t+_e+J(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return fe+t+_e+J(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return fe+t+_e+t+t;case 6165:return fe+t+_e+"flex-"+t+t;case 5187:return fe+t+J(t,/(\w+).+(:[^]+)/,fe+"box-$1$2"+_e+"flex-$1$2")+t;case 5443:return fe+t+_e+"flex-item-"+J(t,/flex-|-self/g,"")+(Zn(t,/flex-|baseline/)?"":_e+"grid-row-"+J(t,/flex-|-self/g,""))+t;case 4675:return fe+t+_e+"flex-line-pack"+J(t,/align-content|flex-|-self/g,"")+t;case 5548:return fe+t+_e+J(t,"shrink","negative")+t;case 5292:return fe+t+_e+J(t,"basis","preferred-size")+t;case 6060:return fe+"box-"+J(t,"-grow","")+fe+t+_e+J(t,"grow","positive")+t;case 4554:return fe+J(t,/([^-])(transform)/g,"$1"+fe+"$2")+t;case 6187:return J(J(J(t,/(zoom-|grab)/,fe+"$1"),/(image-set)/,fe+"$1"),t,"")+t;case 5495:case 3959:return J(t,/(image-set\([^]*)/,fe+"$1$`$1");case 4968:return J(J(t,/(.+:)(flex-)?(.*)/,fe+"box-pack:$3"+_e+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fe+t+t;case 4200:if(!Zn(t,/flex-|baseline/))return _e+"grid-column-align"+lo(t,e)+t;break;case 2592:case 3360:return _e+J(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Zn(r.props,/grid-\w+-end/)})?~lu(t+(n=n[e].value),"span",0)?t:_e+J(t,"-start","")+t+_e+"grid-row-span:"+(~lu(n,"span",0)?Zn(n,/\d+/):+Zn(n,/\d+/)-+Zn(t,/\d+/))+";":_e+J(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Zn(r.props,/grid-\w+-start/)})?t:_e+J(J(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return J(t,/(.+)-inline(.+)/,fe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Dn(t)-1-e>6)switch(Qe(t,e+1)){case 109:if(Qe(t,e+4)!==45)break;case 102:return J(t,/(.+:)(.+)-([^]+)/,"$1"+fe+"$2-$3$1"+Sa+(Qe(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lu(t,"stretch",0)?SR(J(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return J(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return _e+i+":"+s+c+(o?_e+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Qe(t,e+6)===121)return J(t,":",":"+fe)+t;break;case 6444:switch(Qe(t,Qe(t,14)===45?18:11)){case 120:return J(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+fe+(Qe(t,14)===45?"inline-":"")+"box$3$1"+fe+"$2$3$1"+_e+"$2box$3")+t;case 100:return J(t,":",":"+_e)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return J(t,"scroll-","scroll-snap-")+t}return t}function _d(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function t9(t,e,n,r){switch(t.type){case zU:if(t.children.length)break;case UU:case Iv:return t.return=t.return||t.value;case gR:return"";case yR:return t.return=t.value+"{"+_d(t.children,r)+"}";case Dh:if(!Dn(t.value=t.props.join(",")))return""}return Dn(n=_d(t.children,r))?t.return=t.value+"{"+n+"}":""}function n9(t){var e=wR(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function r9(t){return function(e){e.root||(e=e.return)&&t(e)}}function i9(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Iv:t.return=SR(t.value,t.length,n);return;case yR:return _d([Ir(t,{value:J(t.value,"@","@"+fe)})],r);case Dh:if(t.length)return HU(n=t.props,function(i){switch(Zn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ms(Ir(t,{props:[J(i,/:(read-\w+)/,":"+Sa+"$1")]})),ms(Ir(t,{props:[i]})),Um(t,{props:mE(n,r)});break;case"::placeholder":ms(Ir(t,{props:[J(i,/:(plac\w+)/,":"+fe+"input-$1")]})),ms(Ir(t,{props:[J(i,/:(plac\w+)/,":"+Sa+"$1")]})),ms(Ir(t,{props:[J(i,/:(plac\w+)/,_e+"input-$1")]})),ms(Ir(t,{props:[i]})),Um(t,{props:mE(n,r)});break}return""})}}var s9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},uo=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",TR="active",IR="data-styled-version",Mh="6.1.8",xv=`/*!sc*/
`,Rv=typeof window<"u"&&"HTMLElement"in window,o9=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),Vh=Object.freeze([]),ho=Object.freeze({});function a9(t,e,n){return n===void 0&&(n=ho),t.theme!==n.theme&&t.theme||e||n.theme}var CR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),l9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,c9=/(^-|-$)/g;function vE(t){return t.replace(l9,"-").replace(c9,"")}var u9=/(a)(d)/gi,Cc=52,_E=function(t){return String.fromCharCode(t+(t>25?39:97))};function Hm(t){var e,n="";for(e=Math.abs(t);e>Cc;e=e/Cc|0)n=_E(e%Cc)+n;return(_E(e%Cc)+n).replace(u9,"$1-$2")}var Qf,xR=5381,Os=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},RR=function(t){return Os(xR,t)};function d9(t){return Hm(RR(t)>>>0)}function h9(t){return t.displayName||t.name||"Component"}function Yf(t){return typeof t=="string"&&!0}var bR=typeof Symbol=="function"&&Symbol.for,PR=bR?Symbol.for("react.memo"):60115,f9=bR?Symbol.for("react.forward_ref"):60112,p9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},m9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},AR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g9=((Qf={})[f9]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qf[PR]=AR,Qf);function wE(t){return("type"in(e=t)&&e.type.$$typeof)===PR?AR:"$$typeof"in t?g9[t.$$typeof]:p9;var e}var y9=Object.defineProperty,v9=Object.getOwnPropertyNames,EE=Object.getOwnPropertySymbols,_9=Object.getOwnPropertyDescriptor,w9=Object.getPrototypeOf,SE=Object.prototype;function kR(t,e,n){if(typeof e!="string"){if(SE){var r=w9(e);r&&r!==SE&&kR(t,r,n)}var i=v9(e);EE&&(i=i.concat(EE(e)));for(var s=wE(t),o=wE(e),a=0;a<i.length;++a){var l=i[a];if(!(l in m9||n&&n[l]||o&&l in o||s&&l in s)){var c=_9(e,l);try{y9(t,l,c)}catch{}}}}return t}function ts(t){return typeof t=="function"}function bv(t){return typeof t=="object"&&"styledComponentId"in t}function Oi(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function TE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function dl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Wm(t,e,n){if(n===void 0&&(n=!1),!n&&!dl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Wm(t[r],e[r]);else if(dl(e))for(var r in e)t[r]=Wm(t[r],e[r]);return t}function Pv(t,e){Object.defineProperty(t,"toString",{value:e})}function ns(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var E9=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ns(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(xv);return n},t}(),du=new Map,wd=new Map,hu=1,xc=function(t){if(du.has(t))return du.get(t);for(;wd.has(hu);)hu++;var e=hu++;return du.set(t,e),wd.set(e,t),e},S9=function(t,e){hu=e+1,du.set(t,e),wd.set(e,t)},T9="style[".concat(uo,"][").concat(IR,'="').concat(Mh,'"]'),I9=new RegExp("^".concat(uo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),C9=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},x9=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(xv),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(I9);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(S9(u,c),C9(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function R9(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var NR=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(uo,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(uo,TR),r.setAttribute(IR,Mh);var o=R9();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},b9=function(){function t(e){this.element=NR(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ns(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),P9=function(){function t(e){this.element=NR(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),A9=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),IE=Rv,k9={isServer:!Rv,useCSSOMInjection:!o9},OR=function(){function t(e,n,r){e===void 0&&(e=ho),n===void 0&&(n={});var i=this;this.options=wt(wt({},k9),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Rv&&IE&&(IE=!1,function(s){for(var o=document.querySelectorAll(T9),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(uo)!==TR&&(x9(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),Pv(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var f=function(y){return wd.get(y)}(d);if(f===void 0)return"continue";var g=s.names.get(f),v=o.getGroup(d);if(g===void 0||v.length===0)return"continue";var E="".concat(uo,".g").concat(d,'[id="').concat(f,'"]'),S="";g!==void 0&&g.forEach(function(y){y.length>0&&(S+="".concat(y,","))}),l+="".concat(v).concat(E,'{content:"').concat(S,'"}').concat(xv)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return xc(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(wt(wt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new A9(i):r?new b9(i):new P9(i)}(this.options),new E9(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(xc(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(xc(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(xc(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),N9=/&/g,O9=/^\s*\/\/.*$/gm;function DR(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=DR(n.children,e)),n})}function D9(t){var e,n,r,i=t===void 0?ho:t,s=i.options,o=s===void 0?ho:s,a=i.plugins,l=a===void 0?Vh:a,c=function(f,g,v){return v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===Dh&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(N9,n).replace(r,c))}),o.prefix&&u.push(i9),u.push(t9);var d=function(f,g,v,E){g===void 0&&(g=""),v===void 0&&(v=""),E===void 0&&(E="&"),e=E,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var S=f.replace(O9,""),y=ZU(v||g?"".concat(v," ").concat(g," { ").concat(S," }"):S);o.namespace&&(y=DR(y,o.namespace));var p=[];return _d(y,n9(u.concat(r9(function(m){return p.push(m)})))),p};return d.hash=l.length?l.reduce(function(f,g){return g.name||ns(15),Os(f,g.name)},xR).toString():"",d}var j9=new OR,qm=D9(),jR=H.createContext({shouldForwardProp:void 0,styleSheet:j9,stylis:qm});jR.Consumer;H.createContext(void 0);function CE(){return _.useContext(jR)}var L9=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=qm);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Pv(this,function(){throw ns(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=qm),this.name+e.hash},t}(),$9=function(t){return t>="A"&&t<="Z"};function xE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;$9(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var LR=function(t){return t==null||t===!1||t===""},$R=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!LR(s)&&(Array.isArray(s)&&s.isCss||ts(s)?r.push("".concat(xE(i),":"),s,";"):dl(s)?r.push.apply(r,vd(vd(["".concat(i," {")],$R(s),!1),["}"],!1)):r.push("".concat(xE(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in s9||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Fi(t,e,n,r){if(LR(t))return[];if(bv(t))return[".".concat(t.styledComponentId)];if(ts(t)){if(!ts(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Fi(i,e,n,r)}var s;return t instanceof L9?n?(t.inject(n,r),[t.getName(r)]):[t]:dl(t)?$R(t):Array.isArray(t)?Array.prototype.concat.apply(Vh,t.map(function(o){return Fi(o,e,n,r)})):[t.toString()]}function M9(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ts(n)&&!bv(n))return!1}return!0}var V9=RR(Mh),F9=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&M9(e),this.componentId=n,this.baseHash=Os(V9,n),this.baseStyle=r,OR.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Oi(i,this.staticRulesId);else{var s=TE(Fi(this.rules,e,n,r)),o=Hm(Os(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Oi(i,o),this.staticRulesId=o}else{for(var l=Os(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=TE(Fi(d,e,n,r));l=Os(l,f+u),c+=f}}if(c){var g=Hm(l>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(c,".".concat(g),void 0,this.componentId)),i=Oi(i,g)}}return i},t}(),Ed=H.createContext(void 0);Ed.Consumer;function U9(t){var e=H.useContext(Ed),n=_.useMemo(function(){return function(r,i){if(!r)throw ns(14);if(ts(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw ns(8);return i?wt(wt({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?H.createElement(Ed.Provider,{value:n},t.children):null}var Xf={};function z9(t,e,n){var r=bv(t),i=t,s=!Yf(t),o=e.attrs,a=o===void 0?Vh:o,l=e.componentId,c=l===void 0?function(w,T){var I=typeof w!="string"?"sc":vE(w);Xf[I]=(Xf[I]||0)+1;var C="".concat(I,"-").concat(d9(Mh+I+Xf[I]));return T?"".concat(T,"-").concat(C):C}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(w){return Yf(w)?"styled.".concat(w):"Styled(".concat(h9(w),")")}(t):u,f=e.displayName&&e.componentId?"".concat(vE(e.displayName),"-").concat(e.componentId):e.componentId||c,g=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=e.shouldForwardProp;if(r&&i.shouldForwardProp){var E=i.shouldForwardProp;if(e.shouldForwardProp){var S=e.shouldForwardProp;v=function(w,T){return E(w,T)&&S(w,T)}}else v=E}var y=new F9(n,f,r?i.componentStyle:void 0);function p(w,T){return function(I,C,x){var M=I.attrs,$=I.componentStyle,he=I.defaultProps,Ue=I.foldedComponentIds,ce=I.styledComponentId,Ot=I.target,Dt=H.useContext(Ed),jt=CE(),dt=I.shouldForwardProp||jt.shouldForwardProp,O=a9(C,Dt,he)||ho,V=function(ee,B,ne){for(var pn,rn=wt(wt({},B),{className:void 0,theme:ne}),vi=0;vi<ee.length;vi+=1){var Bt=ts(pn=ee[vi])?pn(rn):pn;for(var ht in Bt)rn[ht]=ht==="className"?Oi(rn[ht],Bt[ht]):ht==="style"?wt(wt({},rn[ht]),Bt[ht]):Bt[ht]}return B.className&&(rn.className=Oi(rn.className,B.className)),rn}(M,C,O),z=V.as||Ot,ae={};for(var Z in V)V[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&V.theme===O||(Z==="forwardedAs"?ae.as=V.forwardedAs:dt&&!dt(Z,z)||(ae[Z]=V[Z]));var j=function(ee,B){var ne=CE(),pn=ee.generateAndInjectStyles(B,ne.styleSheet,ne.stylis);return pn}($,V),W=Oi(Ue,ce);return j&&(W+=" "+j),V.className&&(W+=" "+V.className),ae[Yf(z)&&!CR.has(z)?"class":"className"]=W,ae.ref=x,_.createElement(z,ae)}(m,w,T)}p.displayName=d;var m=H.forwardRef(p);return m.attrs=g,m.componentStyle=y,m.displayName=d,m.shouldForwardProp=v,m.foldedComponentIds=r?Oi(i.foldedComponentIds,i.styledComponentId):"",m.styledComponentId=f,m.target=r?i.target:t,Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(T){for(var I=[],C=1;C<arguments.length;C++)I[C-1]=arguments[C];for(var x=0,M=I;x<M.length;x++)Wm(T,M[x],!0);return T}({},i.defaultProps,w):w}}),Pv(m,function(){return".".concat(m.styledComponentId)}),s&&kR(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),m}function RE(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var bE=function(t){return Object.assign(t,{isCss:!0})};function qe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ts(t)||dl(t))return bE(Fi(RE(Vh,vd([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Fi(r):bE(Fi(RE(r,e)))}function Km(t,e,n){if(n===void 0&&(n=ho),!e)throw ns(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,qe.apply(void 0,vd([i],s,!1)))};return r.attrs=function(i){return Km(t,e,wt(wt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Km(t,e,wt(wt({},n),i))},r}var MR=function(t){return Km(z9,t)},te=MR;CR.forEach(function(t){te[t]=MR(t)});var Qr;function fo(t,e){return t[e]}function B9(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function H9(t=[],e,n="id"){const r=t.slice(),i=fo(e,n);return i?r.splice(r.findIndex(s=>fo(s,n)===i),1):r.splice(r.findIndex(s=>s===e),1),r}function PE(t){return t.map((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r})}function Ta(t,e){return Math.ceil(t/e)}function Jf(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(Qr||(Qr={}));const Be=()=>null;function VR(t,e=[],n=[]){let r={},i=[...n];return e.length&&e.forEach(s=>{if(!s.when||typeof s.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');s.when(t)&&(r=s.style||{},s.classNames&&(i=[...i,...s.classNames]),typeof s.style=="function"&&(r=s.style(t)||{}))}),{conditionalStyle:r,classNames:i.join(" ")}}function fu(t,e=[],n="id"){const r=fo(t,n);return r?e.some(i=>fo(i,n)===r):e.some(i=>i===t)}function Rc(t,e){return e?t.findIndex(n=>Ia(n.id,e)):-1}function Ia(t,e){return t==e}function W9(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:i,rowCount:s,mergeSelections:o}=e,a=!t.allSelected,l=!t.toggleOnSelectedRowsChange;if(o){const c=a?[...t.selectedRows,...i.filter(u=>!fu(u,t.selectedRows,r))]:t.selectedRows.filter(u=>!fu(u,i,r));return Object.assign(Object.assign({},t),{allSelected:a,selectedCount:c.length,selectedRows:c,toggleOnSelectedRowsChange:l})}return Object.assign(Object.assign({},t),{allSelected:a,selectedCount:a?s:0,selectedRows:a?i:[],toggleOnSelectedRowsChange:l})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:i,isSelected:s,rowCount:o,singleSelect:a}=e;return a?s?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[i],toggleOnSelectedRowsChange:n}):s?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:H9(t.selectedRows,i,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===o,selectedRows:B9(t.selectedRows,i),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:i,totalRows:s,mergeSelections:o}=e;if(o){const a=[...t.selectedRows,...i.filter(l=>!fu(l,t.selectedRows,r))];return Object.assign(Object.assign({},t),{selectedCount:a.length,allSelected:!1,selectedRows:a,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:i.length,allSelected:i.length===s,selectedRows:i,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:i,clearSelectedOnSort:s}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:i,sortDirection:r,currentPage:1}),s&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:i,visibleOnly:s,persistSelectedOnPageChange:o}=e,a=i&&o,l=i&&!o||s;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),a&&{allSelected:!1}),l&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:i}=e;return Object.assign(Object.assign({},t),{currentPage:i,rowsPerPage:r})}}}const q9=qe`
	pointer-events: none;
	opacity: 0.4;
`,K9=te.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&q9};
	${({theme:t})=>t.table.style};
`,G9=qe`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,Q9=te.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&G9};
	${({theme:t})=>t.head.style};
`,Y9=te.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,FR=(t,...e)=>qe`
		@media screen and (max-width: ${599}px) {
			${qe(t,...e)}
		}
	`,X9=(t,...e)=>qe`
		@media screen and (max-width: ${959}px) {
			${qe(t,...e)}
		}
	`,J9=(t,...e)=>qe`
		@media screen and (max-width: ${1280}px) {
			${qe(t,...e)}
		}
	`,Z9=t=>(e,...n)=>qe`
			@media screen and (max-width: ${t}px) {
				${qe(e,...n)}
			}
		`,ko=te.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,UR=te(ko)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&qe`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&FR`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&X9`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&J9`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&Z9(t)`
    display: none;
  `};
`,e5=qe`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,t5=te(UR).attrs(t=>({style:t.style}))`
	${({$renderAsCell:t})=>!t&&e5};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var n5=_.memo(function({id:t,column:e,row:n,rowIndex:r,dataTag:i,isDragging:s,onDragStart:o,onDragOver:a,onDragEnd:l,onDragEnter:c,onDragLeave:u}){const{conditionalStyle:d,classNames:f}=VR(n,e.conditionalCellStyles,["rdt_TableCell"]);return _.createElement(t5,{id:t,"data-column-id":e.id,role:"cell",className:f,"data-tag":i,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:d,$isDragging:s,onDragStart:o,onDragOver:a,onDragEnd:l,onDragEnter:c,onDragLeave:u},!e.cell&&_.createElement("div",{"data-tag":i},function(g,v,E,S){return v?E&&typeof E=="function"?E(g,S):v(g,S):null}(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))});const AE="input";var zR=_.memo(function({name:t,component:e=AE,componentOptions:n={style:{}},indeterminate:r=!1,checked:i=!1,disabled:s=!1,onClick:o=Be}){const a=e,l=a!==AE?n.style:(u=>Object.assign(Object.assign({fontSize:"18px"},!u&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(s),c=_.useMemo(()=>function(u,...d){let f;return Object.keys(u).map(g=>u[g]).forEach((g,v)=>{typeof g=="function"&&(f=Object.assign(Object.assign({},u),{[Object.keys(u)[v]]:g(...d)}))}),f||u}(n,r),[n,r]);return _.createElement(a,Object.assign({type:"checkbox",ref:u=>{u&&(u.indeterminate=r)},style:l,onClick:s?Be:o,name:t,"aria-label":t,checked:i,disabled:s},c,{onChange:Be}))});const r5=te(ko)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function i5({name:t,keyField:e,row:n,rowCount:r,selected:i,selectableRowsComponent:s,selectableRowsComponentProps:o,selectableRowsSingle:a,selectableRowDisabled:l,onSelectedRow:c}){const u=!(!l||!l(n));return _.createElement(r5,{onClick:d=>d.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},_.createElement(zR,{name:t,component:s,componentOptions:o,checked:i,"aria-checked":i,onClick:()=>{c({type:"SELECT_SINGLE_ROW",row:n,isSelected:i,keyField:e,rowCount:r,singleSelect:a})},disabled:u}))}const s5=te.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function o5({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:i,onToggled:s}){const o=e?n.expanded:n.collapsed;return _.createElement(s5,{"aria-disabled":t,onClick:()=>s&&s(i),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},o)}const a5=te(ko)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function l5({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:i,disabled:s=!1}){return _.createElement(a5,{onClick:o=>o.stopPropagation(),$noPadding:!0},_.createElement(o5,{id:r,row:t,expanded:e,expandableIcon:n,disabled:s,onToggled:i}))}const c5=te.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var u5=_.memo(function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:i}){const s=["rdt_ExpanderRow",...i.split(" ").filter(o=>o!=="rdt_TableRow")].join(" ");return _.createElement(c5,{className:s,$extendedRowStyle:r},_.createElement(e,Object.assign({data:t},n)))});const Zf="allowRowEvents";var Sd,Gm,kE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Sd||(Sd={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(Gm||(Gm={})),function(t){t.SM="sm",t.MD="md",t.LG="lg"}(kE||(kE={}));const d5=qe`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,h5=qe`
	&:hover {
		cursor: pointer;
	}
`,f5=te.div.attrs(t=>({style:t.style}))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&d5};
	${({$pointerOnHover:t})=>t&&h5};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function p5({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:i=!1,expandableIcon:s,expandableRows:o=!1,expandableRowsComponent:a,expandableRowsComponentProps:l,expandableRowsHideExpander:c,expandOnRowClicked:u=!1,expandOnRowDoubleClicked:d=!1,highlightOnHover:f=!1,id:g,expandableInheritConditionalStyles:v,keyField:E,onRowClicked:S=Be,onRowDoubleClicked:y=Be,onRowMouseEnter:p=Be,onRowMouseLeave:m=Be,onRowExpandToggled:w=Be,onSelectedRow:T=Be,pointerOnHover:I=!1,row:C,rowCount:x,rowIndex:M,selectableRowDisabled:$=null,selectableRows:he=!1,selectableRowsComponent:Ue,selectableRowsComponentProps:ce,selectableRowsHighlight:Ot=!1,selectableRowsSingle:Dt=!1,selected:jt,striped:dt=!1,draggingColumnId:O,onDragStart:V,onDragOver:z,onDragEnd:ae,onDragEnter:Z,onDragLeave:j}){const[W,ee]=_.useState(n);_.useEffect(()=>{ee(n)},[n]);const B=_.useCallback(()=>{ee(!W),w(!W,C)},[W,w,C]),ne=I||o&&(u||d),pn=_.useCallback(ze=>{ze.target.getAttribute("data-tag")===Zf&&(S(C,ze),!r&&o&&u&&B())},[r,u,o,B,S,C]),rn=_.useCallback(ze=>{ze.target.getAttribute("data-tag")===Zf&&(y(C,ze),!r&&o&&d&&B())},[r,d,o,B,y,C]),vi=_.useCallback(ze=>{p(C,ze)},[p,C]),Bt=_.useCallback(ze=>{m(C,ze)},[m,C]),ht=fo(C,E),{conditionalStyle:Wl,classNames:ql}=VR(C,e,["rdt_TableRow"]),Fh=Ot&&jt,Uh=v?Wl:{},zh=dt&&M%2==0;return _.createElement(_.Fragment,null,_.createElement(f5,{id:`row-${g}`,role:"row",$striped:zh,$highlightOnHover:f,$pointerOnHover:!r&&ne,$dense:i,onClick:pn,onDoubleClick:rn,onMouseEnter:vi,onMouseLeave:Bt,className:ql,$selected:Fh,$conditionalStyle:Wl},he&&_.createElement(i5,{name:`select-row-${ht}`,keyField:E,row:C,rowCount:x,selected:jt,selectableRowsComponent:Ue,selectableRowsComponentProps:ce,selectableRowDisabled:$,selectableRowsSingle:Dt,onSelectedRow:T}),o&&!c&&_.createElement(l5,{id:ht,expandableIcon:s,expanded:W,row:C,onToggled:B,disabled:r}),t.map(ze=>ze.omit?null:_.createElement(n5,{id:`cell-${ze.id}-${ht}`,key:`cell-${ze.id}-${ht}`,dataTag:ze.ignoreRowClick||ze.button?null:Zf,column:ze,row:C,rowIndex:M,isDragging:Ia(O,ze.id),onDragStart:V,onDragOver:z,onDragEnd:ae,onDragEnter:Z,onDragLeave:j}))),o&&W&&_.createElement(u5,{key:`expander-${ht}`,data:C,extendedRowStyle:Uh,extendedClassNames:ql,ExpanderComponent:a,expanderComponentProps:l}))}const m5=te.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,g5=({sortActive:t,sortDirection:e})=>H.createElement(m5,{$sortActive:t,$sortDirection:e},""),y5=te(UR)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,v5=qe`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&qe`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,_5=te.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&v5};
`,w5=te.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var E5=_.memo(function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:i,sortIcon:s,sortServer:o,pagination:a,paginationServer:l,persistSelectedOnSort:c,selectableRowsVisibleOnly:u,onSort:d,onDragStart:f,onDragOver:g,onDragEnd:v,onDragEnter:E,onDragLeave:S}){_.useEffect(()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)},[]);const[y,p]=_.useState(!1),m=_.useRef(null);if(_.useEffect(()=>{m.current&&p(m.current.scrollWidth>m.current.clientWidth)},[y]),t.omit)return null;const w=()=>{if(!t.sortable&&!t.selector)return;let ce=i;Ia(r.id,t.id)&&(ce=i===Qr.ASC?Qr.DESC:Qr.ASC),d({type:"SORT_CHANGE",sortDirection:ce,selectedColumn:t,clearSelectedOnSort:a&&l&&!c||o||u})},T=ce=>_.createElement(g5,{sortActive:ce,sortDirection:i}),I=()=>_.createElement("span",{className:[i,"__rdt_custom_sort_icon__"].join(" ")},s),C=!(!t.sortable||!Ia(r.id,t.id)),x=!t.sortable||e,M=t.sortable&&!s&&!t.right,$=t.sortable&&!s&&t.right,he=t.sortable&&s&&!t.right,Ue=t.sortable&&s&&t.right;return _.createElement(y5,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Ia(t.id,n),onDragStart:f,onDragOver:g,onDragEnd:v,onDragEnter:E,onDragLeave:S},t.name&&_.createElement(_5,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:x?void 0:w,onKeyPress:x?void 0:ce=>{ce.key==="Enter"&&w()},$sortActive:!x&&C,disabled:x},!x&&Ue&&I(),!x&&$&&T(C),typeof t.name=="string"?_.createElement(w5,{title:y?t.name:void 0,ref:m,"data-column-id":t.id},t.name):t.name,!x&&he&&I(),!x&&M&&T(C)))});const S5=te(ko)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function T5({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:i,selectedRows:s,selectableRowsComponent:o,selectableRowsComponentProps:a,selectableRowDisabled:l,onSelectAllRows:c}){const u=s.length>0&&!r,d=l?e.filter(v=>!l(v)):e,f=d.length===0,g=Math.min(e.length,d.length);return _.createElement(S5,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},_.createElement(zR,{name:"select-all-rows",component:o,componentOptions:a,onClick:()=>{c({type:"SELECT_ALL_ROWS",rows:d,rowCount:g,mergeSelections:i,keyField:n})},checked:r,indeterminate:u,disabled:f}))}function BR(t=Sd.AUTO){const e=typeof window=="object",[n,r]=_.useState(!1);return _.useEffect(()=>{if(e)if(t!=="auto")r(t==="rtl");else{const i=!(!window.document||!window.document.createElement),s=document.getElementsByTagName("BODY")[0],o=document.getElementsByTagName("HTML")[0],a=s.dir==="rtl"||o.dir==="rtl";r(i&&a)}},[t,e]),n}const I5=te.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,C5=te.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,NE=te.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function x5({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:i}){const s=BR(i),o=r>0;return n?_.createElement(NE,{$visible:o},_.cloneElement(n,{selectedCount:r})):_.createElement(NE,{$visible:o,$rtl:s},_.createElement(I5,null,((a,l,c)=>{if(l===0)return null;const u=l===1?a.singular:a.plural;return c?`${l} ${a.message||""} ${u}`:`${l} ${u} ${a.message||""}`})(t,r,s)),_.createElement(C5,null,e))}const R5=te.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,b5=te.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,P5=te.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,A5=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:i,selectedCount:s,direction:o,showMenu:a=!0})=>_.createElement(R5,{className:"rdt_TableHeader",role:"heading","aria-level":1},_.createElement(b5,null,t),e&&_.createElement(P5,null,e),a&&_.createElement(x5,{contextMessage:n,contextActions:r,contextComponent:i,direction:o,selectedCount:s}));function HR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const k5={left:"flex-start",right:"flex-end",center:"center"},N5=te.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>k5[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,O5=t=>{var{align:e="right",wrapContent:n=!0}=t,r=HR(t,["align","wrapContent"]);return _.createElement(N5,Object.assign({align:e,$wrapContent:n},r))},D5=te.div`
	display: flex;
	flex-direction: column;
`,j5=te.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&qe`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&qe`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,OE=te.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,L5=te.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,$5=te(ko)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,M5=te.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,V5=()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},H.createElement("path",{d:"M7 10l5 5 5-5z"}),H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),F5=te.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,U5=te.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,z5=t=>{var{defaultValue:e,onChange:n}=t,r=HR(t,["defaultValue","onChange"]);return _.createElement(U5,null,_.createElement(F5,Object.assign({onChange:n,defaultValue:e},r)),_.createElement(V5,null))},A={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return H.createElement("div",null,"To add an expander pass in a component instance via ",H.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:H.createElement(()=>H.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},H.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),H.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"})),null),expanded:H.createElement(()=>H.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},H.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),H.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"})),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:H.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:H.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Gm.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),H.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"})),null),paginationIconLastPage:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),H.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),null),paginationIconNext:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),paginationIconPrevious:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Sd.AUTO,onChangePage:Be,onChangeRowsPerPage:Be,onRowClicked:Be,onRowDoubleClicked:Be,onRowMouseEnter:Be,onRowMouseLeave:Be,onRowExpandToggled:Be,onSelectedRowsChange:Be,onSort:Be,onColumnOrderChange:Be},B5={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},H5=te.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,bc=te.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,W5=te.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${FR`
    width: 100%;
    justify-content: space-around;
  `};
`,WR=te.span`
	flex-shrink: 1;
	user-select: none;
`,q5=te(WR)`
	margin: 0 24px;
`,K5=te(WR)`
	margin: 0 4px;
`;var G5=_.memo(function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=A.direction,paginationRowsPerPageOptions:i=A.paginationRowsPerPageOptions,paginationIconLastPage:s=A.paginationIconLastPage,paginationIconFirstPage:o=A.paginationIconFirstPage,paginationIconNext:a=A.paginationIconNext,paginationIconPrevious:l=A.paginationIconPrevious,paginationComponentOptions:c=A.paginationComponentOptions,onChangeRowsPerPage:u=A.onChangeRowsPerPage,onChangePage:d=A.onChangePage}){const f=(()=>{const ce=typeof window=="object";function Ot(){return{width:ce?window.innerWidth:void 0,height:ce?window.innerHeight:void 0}}const[Dt,jt]=_.useState(Ot);return _.useEffect(()=>{if(!ce)return()=>null;function dt(){jt(Ot())}return window.addEventListener("resize",dt),()=>window.removeEventListener("resize",dt)},[]),Dt})(),g=BR(r),v=f.width&&f.width>599,E=Ta(e,t),S=n*t,y=S-t+1,p=n===1,m=n===E,w=Object.assign(Object.assign({},B5),c),T=n===E?`${y}-${e} ${w.rangeSeparatorText} ${e}`:`${y}-${S} ${w.rangeSeparatorText} ${e}`,I=_.useCallback(()=>d(n-1),[n,d]),C=_.useCallback(()=>d(n+1),[n,d]),x=_.useCallback(()=>d(1),[d]),M=_.useCallback(()=>d(Ta(e,t)),[d,e,t]),$=_.useCallback(ce=>u(Number(ce.target.value),n),[n,u]),he=i.map(ce=>_.createElement("option",{key:ce,value:ce},ce));w.selectAllRowsItem&&he.push(_.createElement("option",{key:-1,value:e},w.selectAllRowsItemText));const Ue=_.createElement(z5,{onChange:$,defaultValue:t,"aria-label":w.rowsPerPageText},he);return _.createElement(H5,{className:"rdt_Pagination"},!w.noRowsPerPage&&v&&_.createElement(_.Fragment,null,_.createElement(K5,null,w.rowsPerPageText),Ue),v&&_.createElement(q5,null,T),_.createElement(W5,null,_.createElement(bc,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":p,onClick:x,disabled:p,$isRTL:g},o),_.createElement(bc,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":p,onClick:I,disabled:p,$isRTL:g},l),!w.noRowsPerPage&&!v&&Ue,_.createElement(bc,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":m,onClick:C,disabled:m,$isRTL:g},a),_.createElement(bc,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":m,onClick:M,disabled:m,$isRTL:g},s)))});const Ii=(t,e)=>{const n=_.useRef(!0);_.useEffect(()=>{n.current?n.current=!1:t()},e)};function Q5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y5=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===X5}(e)}(t)},X5=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function hl(t,e){return e.clone!==!1&&e.isMergeableObject(t)?po((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function J5(t,e,n){return t.concat(e).map(function(r){return hl(r,n)})}function DE(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}(t))}function jE(t,e){try{return e in t}catch{return!1}}function Z5(t,e,n){var r={};return n.isMergeableObject(t)&&DE(t).forEach(function(i){r[i]=hl(t[i],n)}),DE(e).forEach(function(i){(function(s,o){return jE(s,o)&&!(Object.hasOwnProperty.call(s,o)&&Object.propertyIsEnumerable.call(s,o))})(t,i)||(jE(t,i)&&n.isMergeableObject(e[i])?r[i]=function(s,o){if(!o.customMerge)return po;var a=o.customMerge(s);return typeof a=="function"?a:po}(i,n)(t[i],e[i],n):r[i]=hl(e[i],n))}),r}function po(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||J5,n.isMergeableObject=n.isMergeableObject||Y5,n.cloneUnlessOtherwiseSpecified=hl;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):Z5(t,e,n):hl(e,n)}po.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return po(n,r,e)},{})};var e6=Q5(po);const LE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},$E={default:LE,light:LE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function t6(t,e,n,r){const[i,s]=_.useState(()=>PE(t)),[o,a]=_.useState(""),l=_.useRef("");Ii(()=>{s(PE(t))},[t]);const c=_.useCallback(S=>{var y,p,m;const{attributes:w}=S.target,T=(y=w.getNamedItem("data-column-id"))===null||y===void 0?void 0:y.value;T&&(l.current=((m=(p=i[Rc(i,T)])===null||p===void 0?void 0:p.id)===null||m===void 0?void 0:m.toString())||"",a(l.current))},[i]),u=_.useCallback(S=>{var y;const{attributes:p}=S.target,m=(y=p.getNamedItem("data-column-id"))===null||y===void 0?void 0:y.value;if(m&&l.current&&m!==l.current){const w=Rc(i,l.current),T=Rc(i,m),I=[...i];I[w]=i[T],I[T]=i[w],s(I),e(I)}},[e,i]),d=_.useCallback(S=>{S.preventDefault()},[]),f=_.useCallback(S=>{S.preventDefault()},[]),g=_.useCallback(S=>{S.preventDefault(),l.current="",a("")},[]),v=function(S=!1){return S?Qr.ASC:Qr.DESC}(r),E=_.useMemo(()=>i[Rc(i,n==null?void 0:n.toString())]||{},[n,i]);return{tableColumns:i,draggingColumnId:o,handleDragStart:c,handleDragEnter:u,handleDragOver:d,handleDragLeave:f,handleDragEnd:g,defaultSortDirection:v,defaultSortColumn:E}}var n6=_.memo(function(t){const{data:e=A.data,columns:n=A.columns,title:r=A.title,actions:i=A.actions,keyField:s=A.keyField,striped:o=A.striped,highlightOnHover:a=A.highlightOnHover,pointerOnHover:l=A.pointerOnHover,dense:c=A.dense,selectableRows:u=A.selectableRows,selectableRowsSingle:d=A.selectableRowsSingle,selectableRowsHighlight:f=A.selectableRowsHighlight,selectableRowsNoSelectAll:g=A.selectableRowsNoSelectAll,selectableRowsVisibleOnly:v=A.selectableRowsVisibleOnly,selectableRowSelected:E=A.selectableRowSelected,selectableRowDisabled:S=A.selectableRowDisabled,selectableRowsComponent:y=A.selectableRowsComponent,selectableRowsComponentProps:p=A.selectableRowsComponentProps,onRowExpandToggled:m=A.onRowExpandToggled,onSelectedRowsChange:w=A.onSelectedRowsChange,expandableIcon:T=A.expandableIcon,onChangeRowsPerPage:I=A.onChangeRowsPerPage,onChangePage:C=A.onChangePage,paginationServer:x=A.paginationServer,paginationServerOptions:M=A.paginationServerOptions,paginationTotalRows:$=A.paginationTotalRows,paginationDefaultPage:he=A.paginationDefaultPage,paginationResetDefaultPage:Ue=A.paginationResetDefaultPage,paginationPerPage:ce=A.paginationPerPage,paginationRowsPerPageOptions:Ot=A.paginationRowsPerPageOptions,paginationIconLastPage:Dt=A.paginationIconLastPage,paginationIconFirstPage:jt=A.paginationIconFirstPage,paginationIconNext:dt=A.paginationIconNext,paginationIconPrevious:O=A.paginationIconPrevious,paginationComponent:V=A.paginationComponent,paginationComponentOptions:z=A.paginationComponentOptions,responsive:ae=A.responsive,progressPending:Z=A.progressPending,progressComponent:j=A.progressComponent,persistTableHead:W=A.persistTableHead,noDataComponent:ee=A.noDataComponent,disabled:B=A.disabled,noTableHead:ne=A.noTableHead,noHeader:pn=A.noHeader,fixedHeader:rn=A.fixedHeader,fixedHeaderScrollHeight:vi=A.fixedHeaderScrollHeight,pagination:Bt=A.pagination,subHeader:ht=A.subHeader,subHeaderAlign:Wl=A.subHeaderAlign,subHeaderWrap:ql=A.subHeaderWrap,subHeaderComponent:Fh=A.subHeaderComponent,noContextMenu:Uh=A.noContextMenu,contextMessage:zh=A.contextMessage,contextActions:ze=A.contextActions,contextComponent:eb=A.contextComponent,expandableRows:Kl=A.expandableRows,onRowClicked:kv=A.onRowClicked,onRowDoubleClicked:Nv=A.onRowDoubleClicked,onRowMouseEnter:Ov=A.onRowMouseEnter,onRowMouseLeave:Dv=A.onRowMouseLeave,sortIcon:tb=A.sortIcon,onSort:nb=A.onSort,sortFunction:jv=A.sortFunction,sortServer:Bh=A.sortServer,expandableRowsComponent:rb=A.expandableRowsComponent,expandableRowsComponentProps:ib=A.expandableRowsComponentProps,expandableRowDisabled:Lv=A.expandableRowDisabled,expandableRowsHideExpander:$v=A.expandableRowsHideExpander,expandOnRowClicked:sb=A.expandOnRowClicked,expandOnRowDoubleClicked:ob=A.expandOnRowDoubleClicked,expandableRowExpanded:Mv=A.expandableRowExpanded,expandableInheritConditionalStyles:ab=A.expandableInheritConditionalStyles,defaultSortFieldId:lb=A.defaultSortFieldId,defaultSortAsc:cb=A.defaultSortAsc,clearSelectedRows:Vv=A.clearSelectedRows,conditionalRowStyles:ub=A.conditionalRowStyles,theme:Fv=A.theme,customStyles:Uv=A.customStyles,direction:No=A.direction,onColumnOrderChange:db=A.onColumnOrderChange,className:hb}=t,{tableColumns:zv,draggingColumnId:Bv,handleDragStart:Hv,handleDragEnter:Wv,handleDragOver:qv,handleDragLeave:Kv,handleDragEnd:Gv,defaultSortDirection:fb,defaultSortColumn:pb}=t6(n,db,lb,cb),[{rowsPerPage:wr,currentPage:mn,selectedRows:Hh,allSelected:Qv,selectedCount:Yv,selectedColumn:kn,sortDirection:us,toggleOnSelectedRowsChange:mb},_i]=_.useReducer(W9,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:pb,toggleOnSelectedRowsChange:!1,sortDirection:fb,currentPage:he,rowsPerPage:ce,selectedRowsFlag:!1,contextMessage:A.contextMessage}),{persistSelectedOnSort:Xv=!1,persistSelectedOnPageChange:Gl=!1}=M,Jv=!(!x||!Gl&&!Xv),gb=Bt&&!Z&&e.length>0,yb=V||G5,vb=_.useMemo(()=>((q={},ue="default",Ct="default")=>{const gn=$E[ue]?ue:Ct;return e6({table:{style:{color:(K=$E[gn]).text.primary,backgroundColor:K.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:K.text.primary,backgroundColor:K.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:K.background.default,minHeight:"52px"}},head:{style:{color:K.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:K.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:K.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:K.context.background,fontSize:"18px",fontWeight:400,color:K.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:K.text.primary,backgroundColor:K.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:K.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:K.selected.text,backgroundColor:K.selected.default,borderBottomColor:K.background.default}},highlightOnHoverStyle:{color:K.highlightOnHover.text,backgroundColor:K.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:K.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:K.background.default},stripedStyle:{color:K.striped.text,backgroundColor:K.striped.default}},expanderRow:{style:{color:K.text.primary,backgroundColor:K.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:K.button.default,fill:K.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:K.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:K.button.hover},"&:focus":{outline:"none",backgroundColor:K.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:K.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:K.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:K.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:K.button.default,fill:K.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:K.button.disabled,fill:K.button.disabled},"&:hover:not(:disabled)":{backgroundColor:K.button.hover},"&:focus":{outline:"none",backgroundColor:K.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:K.text.primary,backgroundColor:K.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:K.text.primary,backgroundColor:K.background.default}}},q);var K})(Uv,Fv),[Uv,Fv]),_b=_.useMemo(()=>Object.assign({},No!=="auto"&&{dir:No}),[No]),ft=_.useMemo(()=>{if(Bh)return e;if(kn!=null&&kn.sortFunction&&typeof kn.sortFunction=="function"){const q=kn.sortFunction,ue=us===Qr.ASC?q:(Ct,gn)=>-1*q(Ct,gn);return[...e].sort(ue)}return function(q,ue,Ct,gn){return ue?gn&&typeof gn=="function"?gn(q.slice(0),ue,Ct):q.slice(0).sort((K,Wh)=>{const hs=ue(K),Er=ue(Wh);if(Ct==="asc"){if(hs<Er)return-1;if(hs>Er)return 1}if(Ct==="desc"){if(hs>Er)return-1;if(hs<Er)return 1}return 0}):q}(e,kn==null?void 0:kn.selector,us,jv)},[Bh,kn,us,e,jv]),Oo=_.useMemo(()=>{if(Bt&&!x){const q=mn*wr,ue=q-wr;return ft.slice(ue,q)}return ft},[mn,Bt,x,wr,ft]),wb=_.useCallback(q=>{_i(q)},[]),Eb=_.useCallback(q=>{_i(q)},[]),Sb=_.useCallback(q=>{_i(q)},[]),Tb=_.useCallback((q,ue)=>kv(q,ue),[kv]),Ib=_.useCallback((q,ue)=>Nv(q,ue),[Nv]),Cb=_.useCallback((q,ue)=>Ov(q,ue),[Ov]),xb=_.useCallback((q,ue)=>Dv(q,ue),[Dv]),ds=_.useCallback(q=>_i({type:"CHANGE_PAGE",page:q,paginationServer:x,visibleOnly:v,persistSelectedOnPageChange:Gl}),[x,Gl,v]),Rb=_.useCallback(q=>{const ue=Ta($||Oo.length,q),Ct=Jf(mn,ue);x||ds(Ct),_i({type:"CHANGE_ROWS_PER_PAGE",page:Ct,rowsPerPage:q})},[mn,ds,x,$,Oo.length]);if(Bt&&!x&&ft.length>0&&Oo.length===0){const q=Ta(ft.length,wr),ue=Jf(mn,q);ds(ue)}Ii(()=>{w({allSelected:Qv,selectedCount:Yv,selectedRows:Hh.slice(0)})},[mb]),Ii(()=>{nb(kn,us,ft.slice(0))},[kn,us]),Ii(()=>{C(mn,$||ft.length)},[mn]),Ii(()=>{I(wr,mn)},[wr]),Ii(()=>{ds(he)},[he,Ue]),Ii(()=>{if(Bt&&x&&$>0){const q=Ta($,wr),ue=Jf(mn,q);mn!==ue&&ds(ue)}},[$]),_.useEffect(()=>{_i({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Vv})},[d,Vv]),_.useEffect(()=>{if(!E)return;const q=ft.filter(Ct=>E(Ct)),ue=d?q.slice(0,1):q;_i({type:"SELECT_MULTIPLE_ROWS",keyField:s,selectedRows:ue,totalRows:ft.length,mergeSelections:Jv})},[e,E]);const bb=v?Oo:ft,Pb=Gl||d||g;return _.createElement(U9,{theme:vb},!pn&&(!!r||!!i)&&_.createElement(A5,{title:r,actions:i,showMenu:!Uh,selectedCount:Yv,direction:No,contextActions:ze,contextComponent:eb,contextMessage:zh}),ht&&_.createElement(O5,{align:Wl,wrapContent:ql},Fh),_.createElement(j5,Object.assign({$responsive:ae,$fixedHeader:rn,$fixedHeaderScrollHeight:vi,className:hb},_b),_.createElement(L5,null,Z&&!W&&_.createElement(OE,null,j),_.createElement(K9,{disabled:B,className:"rdt_Table",role:"table"},!ne&&(!!W||ft.length>0&&!Z)&&_.createElement(Q9,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:rn},_.createElement(Y9,{className:"rdt_TableHeadRow",role:"row",$dense:c},u&&(Pb?_.createElement(ko,{style:{flex:"0 0 48px"}}):_.createElement(T5,{allSelected:Qv,selectedRows:Hh,selectableRowsComponent:y,selectableRowsComponentProps:p,selectableRowDisabled:S,rowData:bb,keyField:s,mergeSelections:Jv,onSelectAllRows:Eb})),Kl&&!$v&&_.createElement($5,null),zv.map(q=>_.createElement(E5,{key:q.id,column:q,selectedColumn:kn,disabled:Z||ft.length===0,pagination:Bt,paginationServer:x,persistSelectedOnSort:Xv,selectableRowsVisibleOnly:v,sortDirection:us,sortIcon:tb,sortServer:Bh,onSort:wb,onDragStart:Hv,onDragOver:qv,onDragEnd:Gv,onDragEnter:Wv,onDragLeave:Kv,draggingColumnId:Bv})))),!ft.length&&!Z&&_.createElement(M5,null,ee),Z&&W&&_.createElement(OE,null,j),!Z&&ft.length>0&&_.createElement(D5,{className:"rdt_TableBody",role:"rowgroup"},Oo.map((q,ue)=>{const Ct=fo(q,s),gn=function(Er=""){return typeof Er!="number"&&(!Er||Er.length===0)}(Ct)?ue:Ct,K=fu(q,Hh,s),Wh=!!(Kl&&Mv&&Mv(q)),hs=!!(Kl&&Lv&&Lv(q));return _.createElement(p5,{id:gn,key:gn,keyField:s,"data-row-id":gn,columns:zv,row:q,rowCount:ft.length,rowIndex:ue,selectableRows:u,expandableRows:Kl,expandableIcon:T,highlightOnHover:a,pointerOnHover:l,dense:c,expandOnRowClicked:sb,expandOnRowDoubleClicked:ob,expandableRowsComponent:rb,expandableRowsComponentProps:ib,expandableRowsHideExpander:$v,defaultExpanderDisabled:hs,defaultExpanded:Wh,expandableInheritConditionalStyles:ab,conditionalRowStyles:ub,selected:K,selectableRowsHighlight:f,selectableRowsComponent:y,selectableRowsComponentProps:p,selectableRowDisabled:S,selectableRowsSingle:d,striped:o,onRowExpandToggled:m,onRowClicked:Tb,onRowDoubleClicked:Ib,onRowMouseEnter:Cb,onRowMouseLeave:xb,onSelectedRow:Sb,draggingColumnId:Bv,onDragStart:Hv,onDragOver:qv,onDragEnd:Gv,onDragEnter:Wv,onDragLeave:Kv})}))))),gb&&_.createElement("div",null,_.createElement(yb,{onChangePage:ds,onChangeRowsPerPage:Rb,rowCount:$||ft.length,currentPage:mn,rowsPerPage:wr,direction:No,paginationRowsPerPageOptions:Ot,paginationIconLastPage:Dt,paginationIconFirstPage:jt,paginationIconNext:dt,paginationIconPrevious:O,paginationComponentOptions:z})))});function r6(t){return h.jsx(n6,{pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,15,20,25],noDataComponent:"No hay informacin para mostrar.",striped:!0,fixedHeader:!0,fixedHeaderScrollHeight:"80vh",responsive:!0,...t})}const i6=t=>h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":`#ver-${t.id}`,children:h.jsx(mR,{})}),h.jsx("div",{className:"modal fade",id:`ver-${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:h.jsx("div",{className:"modal-dialog modal-lg",children:h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h1",{className:"modal-title fs-5",children:`Informacin del Curso: ${t.nombre}`}),h.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),h.jsx("div",{className:"modal-body text-start",children:h.jsxs("div",{className:"row",children:[h.jsx("div",{className:"col",style:{width:"50%",height:"auto"},children:h.jsx("img",{src:t.download_url,alt:"Imagen",style:{width:"100%",height:"100%"}})}),h.jsxs("div",{className:"col",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Nombre:"})," ",t.nombre]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Descripcin:"})," ",t.descripcion]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Modalidad:"})," ",t.modalidad==0?"Presencial":t.modalidad==1?"Virtual":"Mixta"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fecha de Inicio:"})," ",t.fecha_inicio instanceof Ie?t.fecha_inicio.toDate().toLocaleDateString():""]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fecha de Fin:"})," ",t.fecha_finalizacion instanceof Ie?t.fecha_finalizacion.toDate().toLocaleDateString():""]}),t.link_plataforma&&h.jsxs("p",{children:[h.jsx("strong",{children:"Link del Curso:"})," ",h.jsx("a",{href:t.link_plataforma,target:"_blank",rel:"noopener noreferrer",children:t.link_plataforma})]}),h.jsx("p",{children:h.jsx("strong",{children:"Horario:"})}),h.jsx("ul",{children:t.horario.map((e,n)=>h.jsxs("li",{children:[e.dia,": ",e.hora]},n))})]})]})}),h.jsx("div",{className:"modal-footer",children:h.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"})})]})})})]}),s6=()=>{const t=yi(Jx),e=we(l=>{var c;return(c=l.auth.user)==null?void 0:c.correo}),n=async l=>{let c=[],u=!1;t.cursos.map(d=>{var f,g,v,E;(f=d.aprobados)==null||f.filter(S=>{if(console.log(S,l),S==l){console.log("entraaaa");const y={id:d.id,nombre:d.nombre,horario:d.horario,download_url:d.download_url,descripcion:d.descripcion,modalidad:d.modalidad,fecha_inicio:d.fecha_inicio,fecha_finalizacion:d.fecha_finalizacion,link_plataforma:d.link_plataforma,estado:"Aprobado"};c=[...c,y],u=!0}}),u==!1&&((g=d.reprobados)==null||g.filter(S=>{if(console.log(S,l),S==l){console.log("entra reprobado");const y={id:d.id,nombre:d.nombre,horario:d.horario,download_url:d.download_url,descripcion:d.descripcion,modalidad:d.modalidad,fecha_inicio:d.fecha_inicio,fecha_finalizacion:d.fecha_finalizacion,link_plataforma:d.link_plataforma,estado:"Reprobado"};c=[...c,y],u=!0}})),u==!1&&((v=d.matriculados)==null||v.filter(S=>{if(console.log(S,l),S==l){console.log("entra matriculado");const y={id:d.id,nombre:d.nombre,horario:d.horario,download_url:d.download_url,descripcion:d.descripcion,modalidad:d.modalidad,fecha_inicio:d.fecha_inicio,fecha_finalizacion:d.fecha_finalizacion,link_plataforma:d.link_plataforma,estado:"Matriculado"};c=[...c,y],u=!0}})),u==!1&&((E=d.postulados)==null||E.filter(S=>{if(console.log(S.id,l),S.id==l){console.log("entra postulado");const y={id:d.id,nombre:d.nombre,horario:d.horario,download_url:d.download_url,descripcion:d.descripcion,modalidad:d.modalidad,fecha_inicio:d.fecha_inicio,fecha_finalizacion:d.fecha_finalizacion,link_plataforma:d.link_plataforma,estado:"Espera"};c=[...c,y],u=!0}})),u=!1}),s.current=c},r=async l=>{const d=(await Ro("/Usuarios")).map(f=>({idUsuario:f.id,userInfo:f})).filter(f=>f.userInfo.correo===l);i.current=d[0].idUsuario};_.useEffect(()=>{(async()=>(await r(e),await n(i.current),console.log(s.current,"tableInfo")))()},[]);const i=_.useRef(),s=_.useRef(),o=s.current,a=[{name:"Nombre",selector:l=>l.nombre,cell:l=>h.jsx("div",{className:"text-start",children:l.nombre}),sortable:!0},{name:"Horario",selector:l=>l.horario,cell:l=>h.jsx("div",{className:"text-start",children:l.horario.map((c,u)=>h.jsxs("div",{className:"row",children:[c.dia,": ",c.hora]},u))}),sortable:!0},{name:"Modalidad",selector:l=>l.modalidad,cell:l=>l.modalidad==0?h.jsx("div",{children:"Presencial"}):l.modalidad==1?h.jsx("div",{children:"Virtual"}):l.modalidad==2?h.jsx("div",{children:"Mixta"}):h.jsx("div",{children:"Desconocido"}),sortable:!0},{name:"Estado",selector:l=>l.estado,cell:l=>h.jsx("div",{className:"text-start",children:l.estado}),sortable:!0},{name:"Ver",cell:l=>h.jsx(i6,{...l})}];return h.jsx(h.Fragment,{children:h.jsx(r6,{columns:a,data:o})})},o6=()=>{const t=gi();return _.useEffect(()=>{t(Ea())},[]),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{children:"Lista de cursos"}),h.jsx("span",{children:"En esta seccin podrs ver los cursos en los que te encuentras inscrito."}),h.jsx(s6,{})]})})},a6=()=>h.jsxs(Z3,{children:[h.jsx(sn,{path:"/client-system/",element:h.jsx(dE,{})}),h.jsx(sn,{path:"/client-system/home",element:h.jsx(dE,{})}),h.jsx(sn,{path:"/client-system/iniciar-sesion",element:h.jsx(IU,{})}),h.jsx(sn,{path:"/client-system/crear-cuenta",element:h.jsx(xU,{})}),h.jsx(sn,{path:"/client-system/cursos",element:h.jsx(RU,{})}),h.jsx(sn,{path:"/client-system/about",element:h.jsx(AU,{})}),h.jsx(sn,{path:"/client-system/mi-perfil",element:h.jsx(NU,{})}),h.jsx(sn,{path:"/client-system/mis-cursos",element:h.jsx(o6,{})}),h.jsx(sn,{path:"/client-system/avisos",element:h.jsx(jU,{})}),h.jsx(sn,{path:"/client-system/servicios",element:h.jsx(MU,{})}),h.jsx(sn,{path:"/client-system/cursos/:nombre",element:h.jsx(FU,{})})]}),l6=()=>{const t=Hg(),e=we(o=>o.auth.user),n=we(o=>o.auth.loggedIn),r=we(o=>o.empresa.dataEmpresa),i=Bl(),s=()=>{t(CF()),i("/client-system/",{replace:!0})};return h.jsx("div",{className:"navbar-container shadow-lg",children:h.jsx("nav",{className:"navbar navbar-expand-sm fixed-top text-dark bg-light p-2",children:h.jsxs("div",{className:"container-fluid",children:[e&&n&&h.jsx(vn,{className:"navbar-brand",to:"/client-system/",children:h.jsx("img",{src:"/src/assets/LogoUCAG.png",alt:"Logo",width:"110",height:"80"})}),!e&&!n&&h.jsx(vn,{className:"navbar-brand",to:"/client-system/",children:h.jsx("img",{src:"/src/assets/LogoUCAG.png",alt:"Bootstrap",width:"110",height:"80"})}),h.jsx("h5",{className:"navbar-title-text d-none d-sm-inline-block",children:(r==null?void 0:r.titulo_footer)??"Unin Cantonal de Asociaciones Guatuso"}),h.jsx("button",{className:"navbar-toggler navbar-white navbar-toggler-custom",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:h.jsx("span",{className:"navbar-toggler-icon"})}),h.jsx("div",{className:"collapse navbar-collapse navbar-collapse-custom",id:"navbarTogglerDemo01",children:h.jsx("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2 d-flex d-md-flex justify-content-md-end",children:h.jsx("ul",{className:"navbar-nav ",children:h.jsxs("div",{className:"navbar-nav",children:[h.jsx(vn,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/client-system/",end:!0,onClick:()=>{var o;return(o=document.getElementById("navbarTogglerDemo01"))==null?void 0:o.classList.remove("show")},children:"Inicio"}),h.jsx(vn,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/client-system/cursos",onClick:()=>{var o;return(o=document.getElementById("navbarTogglerDemo01"))==null?void 0:o.classList.remove("show")},children:"Cursos"}),h.jsx(vn,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/client-system/servicios",onClick:()=>{var o;return(o=document.getElementById("navbarTogglerDemo01"))==null?void 0:o.classList.remove("show")},children:"Servicios"}),h.jsx(vn,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/client-system/avisos",onClick:()=>{var o;return(o=document.getElementById("navbarTogglerDemo01"))==null?void 0:o.classList.remove("show")},children:"Avisos"}),h.jsx(vn,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/client-system/about",onClick:()=>{var o;return(o=document.getElementById("navbarTogglerDemo01"))==null?void 0:o.classList.remove("show")},children:"Acerca"}),n&&e&&h.jsxs(h.Fragment,{children:[h.jsx(vn,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/client-system/mis-cursos",onClick:()=>{var o;return(o=document.getElementById("navbarTogglerDemo01"))==null?void 0:o.classList.remove("show")},children:"Mis Cursos"}),h.jsx(vn,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/client-system/mi-perfil",onClick:()=>{var o;return(o=document.getElementById("navbarTogglerDemo01"))==null?void 0:o.classList.remove("show")},children:"Mi Perfil"}),h.jsxs("button",{className:"nav-item nav-link btn navbar-text-white close-color",onClick:s,children:[h.jsx("i",{className:"fa-solid fa-right-from-bracket me-2"}),"Cerrar Sesin"]})]}),!n&&!e&&h.jsx(vn,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-logIn`,to:"/client-system/iniciar-sesion",children:"Iniciar Sesin"})]})})})})]})})})};class Hl{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const c6=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},st={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:c6()},Av=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},u6=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Av(t);st.publicKey=n.publicKey,st.blockHeadless=n.blockHeadless,st.storageProvider=n.storageProvider,st.blockList=n.blockList,st.limitRate=n.limitRate,st.origin=n.origin||e},qR=async(t,e,n={})=>{const r=await fetch(st.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new Hl(r.status,i);if(r.ok)return s;throw s},KR=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},d6=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},GR=t=>t.webdriver||!t.languages||t.languages.length===0,QR=()=>new Hl(451,"Unavailable For Headless Browser"),h6=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},f6=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},p6=(t,e)=>t instanceof FormData?t.get(e):t[e],YR=(t,e)=>{if(f6(t))return!1;h6(t.list,t.watchVariable);const n=p6(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},XR=()=>new Hl(403,"Forbidden"),m6=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},g6=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},JR=async(t,e,n)=>{if(!e.throttle||!n)return!1;m6(e.throttle,e.id);const r=e.id||t;return await g6(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},ZR=()=>new Hl(429,"Too Many Requests"),y6=async(t,e,n,r)=>{const i=Av(r),s=i.publicKey||st.publicKey,o=i.blockHeadless||st.blockHeadless,a=st.storageProvider||i.storageProvider,l={...st.blockList,...i.blockList},c={...st.limitRate,...i.limitRate};return o&&GR(navigator)?Promise.reject(QR()):(KR(s,t,e),d6(n),n&&YR(l,n)?Promise.reject(XR()):await JR(location.pathname,c,a)?Promise.reject(ZR()):qR("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},v6=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},_6=t=>typeof t=="string"?document.querySelector(t):t,w6=async(t,e,n,r)=>{const i=Av(r),s=i.publicKey||st.publicKey,o=i.blockHeadless||st.blockHeadless,a=st.storageProvider||i.storageProvider,l={...st.blockList,...i.blockList},c={...st.limitRate,...i.limitRate};if(o&&GR(navigator))return Promise.reject(QR());const u=_6(n);KR(s,t,e),v6(u);const d=new FormData(u);return YR(l,d)?Promise.reject(XR()):await JR(location.pathname,c,a)?Promise.reject(ZR()):(d.append("lib_version","4.3.3"),d.append("service_id",t),d.append("template_id",e),d.append("user_id",s),qR("/api/v1.0/email/send-form",d))},E6={init:u6,send:y6,sendForm:w6,EmailJSResponseStatus:Hl},S6=({referenciaForm:t})=>{const e="service_8ymw9gn",n="contact_form",r="Z5h6nUaQ9KoLIq2kN";return new Promise((i,s)=>{E6.sendForm(e,n,t.current,{publicKey:r}).then(()=>{console.log("MSJ DE CORREO ENVIADO EXITOSAMENTE"),i(!0)},o=>{console.log("FAILED... NO SE PUDO MANDAR EL MSJ DE CORREO",o.text),s(!1)})})},T6=({referenciaForm:t,onSubmit:e})=>{const n=we(r=>r.auth.user);return h.jsx(h.Fragment,{children:h.jsxs("form",{ref:t,id:"modal-details",onSubmit:e,children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"nombre",className:"col-form-label",children:"Nombre:"}),h.jsx("input",{type:"text",name:"from_name",className:"form-control",id:"nombre",value:n==null?void 0:n.nombre,readOnly:!0}),h.jsx("label",{htmlFor:"correoUsuario",className:"col-form-label",children:"Correo electrnico:"}),h.jsx("input",{type:"text",name:"user_email",className:"form-control",id:"correoUsuario",value:n==null?void 0:n.correo,readOnly:!0}),h.jsx("label",{htmlFor:"asunto",className:"col-form-label",children:"Asunto:"}),h.jsx("input",{type:"text",name:"subject",className:"form-control",id:"asunto",required:!0})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"texto-consulta",className:"col-form-label",children:"Consulta:"}),h.jsx("textarea",{className:"form-control",name:"message",id:"texto-consulta",required:!0})]})]})})},I6=({referenciaForm:t,onSubmit:e})=>h.jsx(h.Fragment,{children:h.jsxs("form",{ref:t,id:"modal-details",onSubmit:e,children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"nombre",className:"col-form-label",children:"Nombre:"}),h.jsx("input",{type:"text",name:"from_name",className:"form-control",id:"nombre",required:!0}),h.jsx("label",{htmlFor:"correoUsuario",className:"col-form-label",children:"Correo electrnico:"}),h.jsx("input",{type:"email",name:"user_email",className:"form-control",id:"correoUsuario",placeholder:"Ej: usuario@email.com",required:!0}),h.jsx("label",{htmlFor:"asunto",className:"col-form-label",children:"Asunto:"}),h.jsx("input",{type:"text",name:"subject",className:"form-control",id:"asunto",required:!0})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"texto-consulta",className:"col-form-label",children:"Consulta:"}),h.jsx("textarea",{className:"form-control",name:"message",id:"texto-consulta",required:!0})]})]})}),C6=()=>{const t=_.useRef(),e=we(a=>a.auth.loggedIn),[n,r]=_.useState(""),i=async a=>{a.preventDefault(),await S6({referenciaForm:t})&&(r("Su consulta ha sido enviada con xito."),setTimeout(()=>{r(""),o(),s()},2e3))},s=()=>{const a=document.getElementById("ModalSentEmail"),l=bootstrap.Modal.getInstance(a);l&&l.hide()},o=()=>{t.current.reset()};return h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm ","data-bs-toggle":"modal","data-bs-target":"#ModalSentEmail",children:"Contctenos"}),h.jsx("div",{className:"modal fade",id:"ModalSentEmail",tabIndex:-1,"aria-labelledby":"contactenosModalLabel","aria-hidden":"true",children:h.jsxs("div",{className:"modal-dialog modal-lg",children:[n&&h.jsx("div",{className:"alert alert-success mt-2",children:n}),h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h1",{className:"modal-title fs-5",id:"contactenosModalLabel",children:" Contctenos"}),h.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),h.jsxs("div",{className:"modal-body",children:[!e&&h.jsx(I6,{referenciaForm:t,onSubmit:i}),e&&h.jsx(T6,{referenciaForm:t,onSubmit:i})]}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:o,children:"Cerrar"}),h.jsx("button",{type:"submit",className:"btn btn-primary",form:"modal-details",children:"Enviar"})]})]})]})})]})},x6=()=>{const t=we(e=>e.empresa.dataEmpresa);return h.jsx("div",{className:"footer-container",children:h.jsxs("footer",{className:"text-center text-lg-start bg-body-tertiary text-muted footer-ancho footer-container",children:[h.jsxs("section",{className:"d-flex justify-content-center justify-content-lg-between p-4 text-dark border-botton redes-estilo",children:[h.jsx("div",{className:"me-5 d-none d-lg-block",children:h.jsx("span",{children:"Mantente conectado con nosotros por redes sociales"})}),h.jsx("div",{children:h.jsx("a",{href:t==null?void 0:t.facebookUrl,className:"me-4 text-reset",children:h.jsx("img",{className:"facebook",src:"/src/assets/icono_facebook.svg",alt:"Facebook",width:"40",height:"35"})})})]}),h.jsx("section",{className:"",children:h.jsx("div",{className:"container text-center text-md-start mt-5",children:h.jsxs("div",{className:"row mt-3",children:[h.jsxs("div",{className:"col-md-3 col-lg-4 col-xl-3 mx-auto mb-4",children:[h.jsxs("h6",{className:"text-uppercase fw-bold mb-4",children:[h.jsx("i",{className:"fas fa-gem me-3"}),t==null?void 0:t.titulo_footer]}),h.jsx("p",{children:t==null?void 0:t.subtitulo_footer})]}),h.jsxs("div",{className:"col-lg-3 col-md-6 mb-4",children:[h.jsx("h6",{className:"text-uppercase fw-bold mb-4",children:"Horario"}),h.jsx("p",{className:"mb-1",children:`Lunes: ${t==null?void 0:t.horarios[0]}`}),h.jsx("p",{className:"mb-1",children:`Martes: ${t==null?void 0:t.horarios[1]}`}),h.jsx("p",{className:"mb-1",children:`Mircoles: ${t==null?void 0:t.horarios[2]}`}),h.jsx("p",{className:"mb-1",children:`Jueves: ${t==null?void 0:t.horarios[3]}`}),h.jsx("p",{className:"mb-1",children:`Viernes: ${t==null?void 0:t.horarios[4]}`}),h.jsx("p",{className:"mb-1",children:`Sbado: ${t==null?void 0:t.horarios[5]}`}),h.jsx("p",{className:"mb-1",children:`Domingo: ${t==null?void 0:t.horarios[6]}`})]}),h.jsxs("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4",children:[h.jsx("h6",{className:"text-uppercase fw-bold mb-4",children:"Contacto"}),h.jsxs("p",{children:[h.jsx("i",{className:"fas fa-home me-3"})," ",t==null?void 0:t.direccionCorta]}),h.jsxs("p",{children:[h.jsx("i",{className:"fas fa-envelope me-3"})," ",t==null?void 0:t.correo]}),h.jsxs("p",{children:[h.jsx("i",{className:"fas fa-phone me-3"})," ",t==null?void 0:t.telefonos[0]]}),h.jsxs("p",{children:[h.jsx("i",{className:"fa-brands fa-whatsapp me-3"})," ",t==null?void 0:t.telefonos[1]]}),h.jsx(C6,{})]})]})})}),h.jsxs("div",{className:"copyright-estilo",children:[" 2024 Copyright:",h.jsx("a",{className:"text-reset enlace-sin-subrayado fw-bold",children:"CANtonal.com"})," "]})]})})},R6=({children:t})=>{const[e,n]=_.useState(!1),r=gi();return _.useEffect(()=>{setTimeout(()=>{n(!0)},1500),r(DF()),r(Xx())},[setTimeout,n]),h.jsxs(h.Fragment,{children:[h.jsx(l6,{}),t,e&&h.jsx(x6,{})]})};function b6(){return h.jsx(aU,{children:h.jsx(R6,{children:h.jsx(a6,{})})})}XS(document.getElementById("root")).render(h.jsx(H.StrictMode,{children:h.jsx(Ik,{store:tR,children:h.jsx(rT,{persistor:d3,children:h.jsx(b6,{})})})}));
