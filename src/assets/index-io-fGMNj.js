var jb=Object.defineProperty;var Lb=(t,e,n)=>e in t?jb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Jh=(t,e,n)=>(Lb(t,typeof e!="symbol"?e+"":e,n),n);function Mb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zE={exports:{}},Rd={},BE={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=Symbol.for("react.element"),Vb=Symbol.for("react.portal"),Fb=Symbol.for("react.fragment"),Ub=Symbol.for("react.strict_mode"),zb=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),Hb=Symbol.for("react.context"),Wb=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),Kb=Symbol.for("react.memo"),Gb=Symbol.for("react.lazy"),r_=Symbol.iterator;function Qb(t){return t===null||typeof t!="object"?null:(t=r_&&t[r_]||t["@@iterator"],typeof t=="function"?t:null)}var HE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WE=Object.assign,qE={};function vo(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||HE}vo.prototype.isReactComponent={};vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KE(){}KE.prototype=vo.prototype;function ng(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||HE}var rg=ng.prototype=new KE;rg.constructor=ng;WE(rg,vo.prototype);rg.isPureReactComponent=!0;var i_=Array.isArray,GE=Object.prototype.hasOwnProperty,ig={current:null},QE={key:!0,ref:!0,__self:!0,__source:!0};function YE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)GE.call(e,r)&&!QE.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ml,type:t,key:s,ref:o,props:i,_owner:ig.current}}function Yb(t,e){return{$$typeof:ml,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ml}function Xb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s_=/\/+/g;function Zh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xb(""+t.key):e.toString(36)}function Oc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ml:case Vb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zh(o,0):r,i_(i)?(n="",t!=null&&(n=t.replace(s_,"$&/")+"/"),Oc(i,e,n,"",function(c){return c})):i!=null&&(sg(i)&&(i=Yb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(s_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",i_(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Zh(s,l);o+=Oc(s,e,n,a,i)}else if(a=Qb(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Zh(s,l++),o+=Oc(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zl(t,e,n){if(t==null)return t;var r=[],i=0;return Oc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Jb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},Dc={transition:null},Zb={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Dc,ReactCurrentOwner:ig};ie.Children={map:Zl,forEach:function(t,e,n){Zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zl(t,function(){e++}),e},toArray:function(t){return Zl(t,function(e){return e})||[]},only:function(t){if(!sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=vo;ie.Fragment=Fb;ie.Profiler=zb;ie.PureComponent=ng;ie.StrictMode=Ub;ie.Suspense=qb;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zb;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ig.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)GE.call(e,a)&&!QE.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ml,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:Hb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bb,_context:t},t.Consumer=t};ie.createElement=YE;ie.createFactory=function(t){var e=YE.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:Wb,render:t}};ie.isValidElement=sg;ie.lazy=function(t){return{$$typeof:Gb,_payload:{_status:-1,_result:t},_init:Jb}};ie.memo=function(t,e){return{$$typeof:Kb,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Dc.transition;Dc.transition={};try{t()}finally{Dc.transition=e}};ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ie.useCallback=function(t,e){return kt.current.useCallback(t,e)};ie.useContext=function(t){return kt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return kt.current.useEffect(t,e)};ie.useId=function(){return kt.current.useId()};ie.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return kt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ie.useRef=function(t){return kt.current.useRef(t)};ie.useState=function(t){return kt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return kt.current.useTransition()};ie.version="18.2.0";BE.exports=ie;var _=BE.exports;const H=$b(_),ap=Mb({__proto__:null,default:H},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP=_,tP=Symbol.for("react.element"),nP=Symbol.for("react.fragment"),rP=Object.prototype.hasOwnProperty,iP=eP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sP={key:!0,ref:!0,__self:!0,__source:!0};function XE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rP.call(e,r)&&!sP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tP,type:t,key:s,ref:o,props:i,_owner:iP.current}}Rd.Fragment=nP;Rd.jsx=XE;Rd.jsxs=XE;zE.exports=Rd;var d=zE.exports,JE={exports:{}},tn={},ZE={exports:{}},e1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var z=O.length;O.push(V);e:for(;0<z;){var ae=z-1>>>1,Z=O[ae];if(0<i(Z,V))O[ae]=V,O[z]=Z,z=ae;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],z=O.pop();if(z!==V){O[0]=z;e:for(var ae=0,Z=O.length,j=Z>>>1;ae<j;){var W=2*(ae+1)-1,ee=O[W],B=W+1,ne=O[B];if(0>i(ee,z))B<Z&&0>i(ne,ee)?(O[ae]=ne,O[B]=z,ae=B):(O[ae]=ee,O[W]=z,ae=W);else if(B<Z&&0>i(ne,z))O[ae]=ne,O[B]=z,ae=B;else break e}}return V}function i(O,V){var z=O.sortIndex-V.sortIndex;return z!==0?z:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],u=1,h=null,f=3,m=!1,v=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=O)r(c),V.sortIndex=V.expirationTime,e(a,V);else break;V=n(c)}}function w(O){if(E=!1,g(O),!v)if(n(a)!==null)v=!0,jt(T);else{var V=n(c);V!==null&&dt(w,V.startTime-O)}}function T(O,V){v=!1,E&&(E=!1,y(x),x=-1),m=!0;var z=f;try{for(g(V),h=n(a);h!==null&&(!(h.expirationTime>V)||O&&!he());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var Z=ae(h.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(a)&&r(a),g(V)}else r(a);h=n(a)}if(h!==null)var j=!0;else{var W=n(c);W!==null&&dt(w,W.startTime-V),j=!1}return j}finally{h=null,f=z,m=!1}}var I=!1,C=null,x=-1,$=5,M=-1;function he(){return!(t.unstable_now()-M<$)}function Ue(){if(C!==null){var O=t.unstable_now();M=O;var V=!0;try{V=C(!0,O)}finally{V?ce():(I=!1,C=null)}}else I=!1}var ce;if(typeof p=="function")ce=function(){p(Ue)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Dt=Ot.port2;Ot.port1.onmessage=Ue,ce=function(){Dt.postMessage(null)}}else ce=function(){S(Ue,0)};function jt(O){C=O,I||(I=!0,ce())}function dt(O,V){x=S(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,jt(T))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var z=f;f=V;try{return O()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=f;f=O;try{return V()}finally{f=z}},t.unstable_scheduleCallback=function(O,V,z){var ae=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ae+z:ae):z=ae,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=z+Z,O={id:u++,callback:V,priorityLevel:O,startTime:z,expirationTime:Z,sortIndex:-1},z>ae?(O.sortIndex=z,e(c,O),n(a)===null&&O===n(c)&&(E?(y(x),x=-1):E=!0,dt(w,z-ae))):(O.sortIndex=Z,e(a,O),v||m||(v=!0,jt(T))),O},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(O){var V=f;return function(){var z=f;f=V;try{return O.apply(this,arguments)}finally{f=z}}}})(e1);ZE.exports=e1;var oP=ZE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1=_,Xt=oP;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n1=new Set,Ra={};function is(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(Ra[t]=e,t=0;t<e.length;t++)n1.add(e[t])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lp=Object.prototype.hasOwnProperty,aP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o_={},a_={};function lP(t){return lp.call(a_,t)?!0:lp.call(o_,t)?!1:aP.test(t)?a_[t]=!0:(o_[t]=!0,!1)}function cP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uP(t,e,n,r){if(e===null||typeof e>"u"||cP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var og=/[\-:]([a-z])/g;function ag(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(og,ag);ut[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(og,ag);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(og,ag);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function lg(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uP(e,n,i,r)&&(n=null),r||i===null?lP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yr=t1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),Ss=Symbol.for("react.portal"),Ts=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),r1=Symbol.for("react.provider"),i1=Symbol.for("react.context"),ug=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),s1=Symbol.for("react.offscreen"),l_=Symbol.iterator;function Lo(t){return t===null||typeof t!="object"?null:(t=l_&&t[l_]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,ef;function Go(t){if(ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ef=e&&e[1]||""}return`
`+ef+t}var tf=!1;function nf(t,e){if(!t||tf)return"";tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Go(t):""}function dP(t){switch(t.tag){case 5:return Go(t.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return t=nf(t.type,!1),t;case 11:return t=nf(t.type.render,!1),t;case 1:return t=nf(t.type,!0),t;default:return""}}function hp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ts:return"Fragment";case Ss:return"Portal";case cp:return"Profiler";case cg:return"StrictMode";case up:return"Suspense";case dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case i1:return(t.displayName||"Context")+".Consumer";case r1:return(t._context.displayName||"Context")+".Provider";case ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dg:return e=t.displayName||null,e!==null?e:hp(t.type)||"Memo";case Pr:e=t._payload,t=t._init;try{return hp(t(e))}catch{}}return null}function hP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hp(e);case 8:return e===cg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fP(t){var e=o1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=fP(t))}function a1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=o1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fp(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function c_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l1(t,e){e=e.checked,e!=null&&lg(t,"checked",e,!1)}function pp(t,e){l1(t,e);var n=ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mp(t,e.type,n):e.hasOwnProperty("defaultValue")&&mp(t,e.type,ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mp(t,e,n){(e!=="number"||vu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qo=Array.isArray;function Ms(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function d_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Qo(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ei(n)}}function c1(t,e){var n=ei(e.value),r=ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function h_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,d1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ba(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pP=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(t){pP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aa[e]=aa[t]})});function h1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||aa.hasOwnProperty(t)&&aa[t]?(""+e).trim():e+"px"}function f1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=h1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mP=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vp(t,e){if(e){if(mP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function _p(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=null;function hg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ep=null,$s=null,Vs=null;function f_(t){if(t=vl(t)){if(typeof Ep!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Nd(e),Ep(t.stateNode,t.type,e))}}function p1(t){$s?Vs?Vs.push(t):Vs=[t]:$s=t}function m1(){if($s){var t=$s,e=Vs;if(Vs=$s=null,f_(t),e)for(t=0;t<e.length;t++)f_(e[t])}}function g1(t,e){return t(e)}function y1(){}var rf=!1;function v1(t,e,n){if(rf)return t(e,n);rf=!0;try{return g1(t,e,n)}finally{rf=!1,($s!==null||Vs!==null)&&(y1(),m1())}}function Pa(t,e){var n=t.stateNode;if(n===null)return null;var r=Nd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Sp=!1;if(cr)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){Sp=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{Sp=!1}function gP(t,e,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var la=!1,_u=null,wu=!1,Tp=null,yP={onError:function(t){la=!0,_u=t}};function vP(t,e,n,r,i,s,o,l,a){la=!1,_u=null,gP.apply(yP,arguments)}function _P(t,e,n,r,i,s,o,l,a){if(vP.apply(this,arguments),la){if(la){var c=_u;la=!1,_u=null}else throw Error(P(198));wu||(wu=!0,Tp=c)}}function ss(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p_(t){if(ss(t)!==t)throw Error(P(188))}function wP(t){var e=t.alternate;if(!e){if(e=ss(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return p_(i),t;if(s===r)return p_(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function w1(t){return t=wP(t),t!==null?E1(t):null}function E1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E1(t);if(e!==null)return e;t=t.sibling}return null}var S1=Xt.unstable_scheduleCallback,m_=Xt.unstable_cancelCallback,EP=Xt.unstable_shouldYield,SP=Xt.unstable_requestPaint,Oe=Xt.unstable_now,TP=Xt.unstable_getCurrentPriorityLevel,fg=Xt.unstable_ImmediatePriority,T1=Xt.unstable_UserBlockingPriority,Eu=Xt.unstable_NormalPriority,IP=Xt.unstable_LowPriority,I1=Xt.unstable_IdlePriority,bd=null,Fn=null;function CP(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(bd,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:bP,xP=Math.log,RP=Math.LN2;function bP(t){return t>>>=0,t===0?32:31-(xP(t)/RP|0)|0}var rc=64,ic=4194304;function Yo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Su(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Yo(l):(s&=o,s!==0&&(r=Yo(s)))}else o=n&~i,o!==0?r=Yo(o):s!==0&&(r=Yo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tn(e),i=1<<n,r|=t[n],e&=~i;return r}function PP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tn(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=PP(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function C1(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function sf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function kP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function pg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function x1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R1,mg,b1,P1,A1,Cp=!1,sc=[],Ur=null,zr=null,Br=null,Aa=new Map,ka=new Map,kr=[],NP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g_(t,e){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(e.pointerId)}}function $o(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vl(e),e!==null&&mg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OP(t,e,n,r,i){switch(e){case"focusin":return Ur=$o(Ur,t,e,n,r,i),!0;case"dragenter":return zr=$o(zr,t,e,n,r,i),!0;case"mouseover":return Br=$o(Br,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Aa.set(s,$o(Aa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ka.set(s,$o(ka.get(s)||null,t,e,n,r,i)),!0}return!1}function k1(t){var e=Ri(t.target);if(e!==null){var n=ss(e);if(n!==null){if(e=n.tag,e===13){if(e=_1(n),e!==null){t.blockedOn=e,A1(t.priority,function(){b1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wp=r,n.target.dispatchEvent(r),wp=null}else return e=vl(n),e!==null&&mg(e),t.blockedOn=n,!1;e.shift()}return!0}function y_(t,e,n){jc(t)&&n.delete(e)}function DP(){Cp=!1,Ur!==null&&jc(Ur)&&(Ur=null),zr!==null&&jc(zr)&&(zr=null),Br!==null&&jc(Br)&&(Br=null),Aa.forEach(y_),ka.forEach(y_)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,Cp||(Cp=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,DP)))}function Na(t){function e(i){return Vo(i,t)}if(0<sc.length){Vo(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ur!==null&&Vo(Ur,t),zr!==null&&Vo(zr,t),Br!==null&&Vo(Br,t),Aa.forEach(e),ka.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)k1(n),n.blockedOn===null&&kr.shift()}var Fs=yr.ReactCurrentBatchConfig,Tu=!0;function jP(t,e,n,r){var i=pe,s=Fs.transition;Fs.transition=null;try{pe=1,gg(t,e,n,r)}finally{pe=i,Fs.transition=s}}function LP(t,e,n,r){var i=pe,s=Fs.transition;Fs.transition=null;try{pe=4,gg(t,e,n,r)}finally{pe=i,Fs.transition=s}}function gg(t,e,n,r){if(Tu){var i=xp(t,e,n,r);if(i===null)mf(t,e,r,Iu,n),g_(t,r);else if(OP(i,t,e,n,r))r.stopPropagation();else if(g_(t,r),e&4&&-1<NP.indexOf(t)){for(;i!==null;){var s=vl(i);if(s!==null&&R1(s),s=xp(t,e,n,r),s===null&&mf(t,e,r,Iu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mf(t,e,r,null,n)}}var Iu=null;function xp(t,e,n,r){if(Iu=null,t=hg(r),t=Ri(t),t!==null)if(e=ss(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Iu=t,null}function N1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TP()){case fg:return 1;case T1:return 4;case Eu:case IP:return 16;case I1:return 536870912;default:return 16}default:return 16}}var Mr=null,yg=null,Lc=null;function O1(){if(Lc)return Lc;var t,e=yg,n=e.length,r,i="value"in Mr?Mr.value:Mr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Lc=i.slice(t,1<r?1-r:void 0)}function Mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function v_(){return!1}function nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:v_,this.isPropagationStopped=v_,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vg=nn(_o),yl=be({},_o,{view:0,detail:0}),MP=nn(yl),of,af,Fo,Pd=be({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(of=t.screenX-Fo.screenX,af=t.screenY-Fo.screenY):af=of=0,Fo=t),of)},movementY:function(t){return"movementY"in t?t.movementY:af}}),__=nn(Pd),$P=be({},Pd,{dataTransfer:0}),VP=nn($P),FP=be({},yl,{relatedTarget:0}),lf=nn(FP),UP=be({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),zP=nn(UP),BP=be({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HP=nn(BP),WP=be({},_o,{data:0}),w_=nn(WP),qP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GP[t])?!!e[t]:!1}function _g(){return QP}var YP=be({},yl,{key:function(t){if(t.key){var e=qP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(t){return t.type==="keypress"?Mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XP=nn(YP),JP=be({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E_=nn(JP),ZP=be({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),eA=nn(ZP),tA=be({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),nA=nn(tA),rA=be({},Pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iA=nn(rA),sA=[9,13,27,32],wg=cr&&"CompositionEvent"in window,ca=null;cr&&"documentMode"in document&&(ca=document.documentMode);var oA=cr&&"TextEvent"in window&&!ca,D1=cr&&(!wg||ca&&8<ca&&11>=ca),S_=" ",T_=!1;function j1(t,e){switch(t){case"keyup":return sA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function aA(t,e){switch(t){case"compositionend":return L1(e);case"keypress":return e.which!==32?null:(T_=!0,S_);case"textInput":return t=e.data,t===S_&&T_?null:t;default:return null}}function lA(t,e){if(Is)return t==="compositionend"||!wg&&j1(t,e)?(t=O1(),Lc=yg=Mr=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D1&&e.locale!=="ko"?null:e.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cA[t.type]:e==="textarea"}function M1(t,e,n,r){p1(r),e=Cu(e,"onChange"),0<e.length&&(n=new vg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ua=null,Oa=null;function uA(t){G1(t,0)}function Ad(t){var e=Rs(t);if(a1(e))return t}function dA(t,e){if(t==="change")return e}var $1=!1;if(cr){var cf;if(cr){var uf="oninput"in document;if(!uf){var C_=document.createElement("div");C_.setAttribute("oninput","return;"),uf=typeof C_.oninput=="function"}cf=uf}else cf=!1;$1=cf&&(!document.documentMode||9<document.documentMode)}function x_(){ua&&(ua.detachEvent("onpropertychange",V1),Oa=ua=null)}function V1(t){if(t.propertyName==="value"&&Ad(Oa)){var e=[];M1(e,Oa,t,hg(t)),v1(uA,e)}}function hA(t,e,n){t==="focusin"?(x_(),ua=e,Oa=n,ua.attachEvent("onpropertychange",V1)):t==="focusout"&&x_()}function fA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ad(Oa)}function pA(t,e){if(t==="click")return Ad(e)}function mA(t,e){if(t==="input"||t==="change")return Ad(e)}function gA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:gA;function Da(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lp.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function R_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b_(t,e){var n=R_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R_(n)}}function F1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U1(){for(var t=window,e=vu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vu(t.document)}return e}function Eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yA(t){var e=U1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&F1(n.ownerDocument.documentElement,n)){if(r!==null&&Eg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=b_(n,s);var o=b_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vA=cr&&"documentMode"in document&&11>=document.documentMode,Cs=null,Rp=null,da=null,bp=!1;function P_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bp||Cs==null||Cs!==vu(r)||(r=Cs,"selectionStart"in r&&Eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),da&&Da(da,r)||(da=r,r=Cu(Rp,"onSelect"),0<r.length&&(e=new vg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cs)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xs={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},df={},z1={};cr&&(z1=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function kd(t){if(df[t])return df[t];if(!xs[t])return t;var e=xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in z1)return df[t]=e[n];return t}var B1=kd("animationend"),H1=kd("animationiteration"),W1=kd("animationstart"),q1=kd("transitionend"),K1=new Map,A_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){K1.set(t,e),is(e,[t])}for(var hf=0;hf<A_.length;hf++){var ff=A_[hf],_A=ff.toLowerCase(),wA=ff[0].toUpperCase()+ff.slice(1);li(_A,"on"+wA)}li(B1,"onAnimationEnd");li(H1,"onAnimationIteration");li(W1,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(q1,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function k_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_P(r,e,void 0,t),t.currentTarget=null}function G1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;k_(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;k_(i,l,c),s=a}}}if(wu)throw t=Tp,wu=!1,Tp=null,t}function _e(t,e){var n=e[Op];n===void 0&&(n=e[Op]=new Set);var r=t+"__bubble";n.has(r)||(Q1(e,t,2,!1),n.add(r))}function pf(t,e,n){var r=0;e&&(r|=4),Q1(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ja(t){if(!t[lc]){t[lc]=!0,n1.forEach(function(n){n!=="selectionchange"&&(EA.has(n)||pf(n,!1,t),pf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,pf("selectionchange",!1,e))}}function Q1(t,e,n,r){switch(N1(e)){case 1:var i=jP;break;case 4:i=LP;break;default:i=gg}n=i.bind(null,e,n,t),i=void 0,!Sp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ri(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}v1(function(){var c=s,u=hg(n),h=[];e:{var f=K1.get(t);if(f!==void 0){var m=vg,v=t;switch(t){case"keypress":if(Mc(n)===0)break e;case"keydown":case"keyup":m=XP;break;case"focusin":v="focus",m=lf;break;case"focusout":v="blur",m=lf;break;case"beforeblur":case"afterblur":m=lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=__;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=VP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=eA;break;case B1:case H1:case W1:m=zP;break;case q1:m=nA;break;case"scroll":m=MP;break;case"wheel":m=iA;break;case"copy":case"cut":case"paste":m=HP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=E_}var E=(e&4)!==0,S=!E&&t==="scroll",y=E?f!==null?f+"Capture":null:f;E=[];for(var p=c,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=Pa(p,y),w!=null&&E.push(La(p,w,g)))),S)break;p=p.return}0<E.length&&(f=new m(f,v,null,n,u),h.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==wp&&(v=n.relatedTarget||n.fromElement)&&(Ri(v)||v[ur]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Ri(v):null,v!==null&&(S=ss(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(E=__,w="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(E=E_,w="onPointerLeave",y="onPointerEnter",p="pointer"),S=m==null?f:Rs(m),g=v==null?f:Rs(v),f=new E(w,p+"leave",m,n,u),f.target=S,f.relatedTarget=g,w=null,Ri(u)===c&&(E=new E(y,p+"enter",v,n,u),E.target=g,E.relatedTarget=S,w=E),S=w,m&&v)t:{for(E=m,y=v,p=0,g=E;g;g=gs(g))p++;for(g=0,w=y;w;w=gs(w))g++;for(;0<p-g;)E=gs(E),p--;for(;0<g-p;)y=gs(y),g--;for(;p--;){if(E===y||y!==null&&E===y.alternate)break t;E=gs(E),y=gs(y)}E=null}else E=null;m!==null&&N_(h,f,m,E,!1),v!==null&&S!==null&&N_(h,S,v,E,!0)}}e:{if(f=c?Rs(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=dA;else if(I_(f))if($1)T=mA;else{T=fA;var I=hA}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=pA);if(T&&(T=T(t,c))){M1(h,T,n,u);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&mp(f,"number",f.value)}switch(I=c?Rs(c):window,t){case"focusin":(I_(I)||I.contentEditable==="true")&&(Cs=I,Rp=c,da=null);break;case"focusout":da=Rp=Cs=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,P_(h,n,u);break;case"selectionchange":if(vA)break;case"keydown":case"keyup":P_(h,n,u)}var C;if(wg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Is?j1(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(D1&&n.locale!=="ko"&&(Is||x!=="onCompositionStart"?x==="onCompositionEnd"&&Is&&(C=O1()):(Mr=u,yg="value"in Mr?Mr.value:Mr.textContent,Is=!0)),I=Cu(c,x),0<I.length&&(x=new w_(x,t,null,n,u),h.push({event:x,listeners:I}),C?x.data=C:(C=L1(n),C!==null&&(x.data=C)))),(C=oA?aA(t,n):lA(t,n))&&(c=Cu(c,"onBeforeInput"),0<c.length&&(u=new w_("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=C))}G1(h,e)})}function La(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pa(t,n),s!=null&&r.unshift(La(t,s,i)),s=Pa(t,e),s!=null&&r.push(La(t,s,i))),t=t.return}return r}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function N_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Pa(n,s),a!=null&&o.unshift(La(n,a,l))):i||(a=Pa(n,s),a!=null&&o.push(La(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function O_(t){return(typeof t=="string"?t:""+t).replace(SA,`
`).replace(TA,"")}function cc(t,e,n){if(e=O_(e),O_(t)!==e&&n)throw Error(P(425))}function xu(){}var Pp=null,Ap=null;function kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,IA=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(xA)}:Np;function xA(t){setTimeout(function(){throw t})}function gf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Na(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Na(e)}function Hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Ln="__reactFiber$"+wo,Ma="__reactProps$"+wo,ur="__reactContainer$"+wo,Op="__reactEvents$"+wo,RA="__reactListeners$"+wo,bA="__reactHandles$"+wo;function Ri(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ur]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j_(t);t!==null;){if(n=t[Ln])return n;t=j_(t)}return e}t=n,n=t.parentNode}return null}function vl(t){return t=t[Ln]||t[ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Nd(t){return t[Ma]||null}var Dp=[],bs=-1;function ci(t){return{current:t}}function Te(t){0>bs||(t.current=Dp[bs],Dp[bs]=null,bs--)}function ye(t,e){bs++,Dp[bs]=t.current,t.current=e}var ti={},Tt=ci(ti),Vt=ci(!1),zi=ti;function Qs(t,e){var n=t.type.contextTypes;if(!n)return ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function Ru(){Te(Vt),Te(Tt)}function L_(t,e,n){if(Tt.current!==ti)throw Error(P(168));ye(Tt,e),ye(Vt,n)}function Y1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,hP(t)||"Unknown",i));return be({},n,r)}function bu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ti,zi=Tt.current,ye(Tt,t),ye(Vt,Vt.current),!0}function M_(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=Y1(t,e,zi),r.__reactInternalMemoizedMergedChildContext=t,Te(Vt),Te(Tt),ye(Tt,t)):Te(Vt),ye(Vt,n)}var tr=null,Od=!1,yf=!1;function X1(t){tr===null?tr=[t]:tr.push(t)}function PA(t){Od=!0,X1(t)}function ui(){if(!yf&&tr!==null){yf=!0;var t=0,e=pe;try{var n=tr;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tr=null,Od=!1}catch(i){throw tr!==null&&(tr=tr.slice(t+1)),S1(fg,ui),i}finally{pe=e,yf=!1}}return null}var Ps=[],As=0,Pu=null,Au=0,on=[],an=0,Bi=null,nr=1,rr="";function Ei(t,e){Ps[As++]=Au,Ps[As++]=Pu,Pu=t,Au=e}function J1(t,e,n){on[an++]=nr,on[an++]=rr,on[an++]=Bi,Bi=t;var r=nr;t=rr;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var s=32-Tn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,nr=1<<32-Tn(e)+i|n<<i|r,rr=s+t}else nr=1<<s|n<<i|r,rr=t}function Sg(t){t.return!==null&&(Ei(t,1),J1(t,1,0))}function Tg(t){for(;t===Pu;)Pu=Ps[--As],Ps[As]=null,Au=Ps[--As],Ps[As]=null;for(;t===Bi;)Bi=on[--an],on[an]=null,rr=on[--an],on[an]=null,nr=on[--an],on[an]=null}var Yt=null,qt=null,Ce=!1,En=null;function Z1(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,qt=Hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bi!==null?{id:nr,overflow:rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,qt=null,!0):!1;default:return!1}}function jp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lp(t){if(Ce){var e=qt;if(e){var n=e;if(!$_(t,e)){if(jp(t))throw Error(P(418));e=Hr(n.nextSibling);var r=Yt;e&&$_(t,e)?Z1(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Yt=t)}}else{if(jp(t))throw Error(P(418));t.flags=t.flags&-4097|2,Ce=!1,Yt=t}}}function V_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function uc(t){if(t!==Yt)return!1;if(!Ce)return V_(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kp(t.type,t.memoizedProps)),e&&(e=qt)){if(jp(t))throw eS(),Error(P(418));for(;e;)Z1(t,e),e=Hr(e.nextSibling)}if(V_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Yt?Hr(t.stateNode.nextSibling):null;return!0}function eS(){for(var t=qt;t;)t=Hr(t.nextSibling)}function Ys(){qt=Yt=null,Ce=!1}function Ig(t){En===null?En=[t]:En.push(t)}var AA=yr.ReactCurrentBatchConfig;function _n(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ku=ci(null),Nu=null,ks=null,Cg=null;function xg(){Cg=ks=Nu=null}function Rg(t){var e=ku.current;Te(ku),t._currentValue=e}function Mp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Us(t,e){Nu=t,Cg=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Cg!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(Nu===null)throw Error(P(308));ks=t,Nu.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var bi=null;function bg(t){bi===null?bi=[t]:bi.push(t)}function tS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bg(e)):(n.next=i.next,i.next=n),e.interleaved=n,dr(t,r)}function dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ar=!1;function Pg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,dr(t,n)}return i=r.interleaved,i===null?(e.next=e,bg(r)):(e.next=i.next,i.next=e),r.interleaved=e,dr(t,n)}function $c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pg(t,n)}}function F_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ou(t,e,n,r){var i=t.updateQueue;Ar=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,u=c=a=null,l=s;do{var f=l.lane,m=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,E=l;switch(f=e,m=n,E.tag){case 1:if(v=E.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=be({},h,f);break e;case 2:Ar=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=m,a=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(a=h),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wi|=o,t.lanes=o,t.memoizedState=h}}function U_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var rS=new t1.Component().refs;function $p(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dd={isMounted:function(t){return(t=t._reactInternals)?ss(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Kr(t),s=ar(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wr(t,s,i),e!==null&&(In(e,t,i,r),$c(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Kr(t),s=ar(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wr(t,s,i),e!==null&&(In(e,t,i,r),$c(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Kr(t),i=ar(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wr(t,i,r),e!==null&&(In(e,t,r,n),$c(e,t,r))}};function z_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Da(n,r)||!Da(i,s):!0}function iS(t,e,n){var r=!1,i=ti,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=Ft(e)?zi:Tt.current,r=e.contextTypes,s=(r=r!=null)?Qs(t,i):ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function B_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dd.enqueueReplaceState(e,e.state,null)}function Vp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=rS,Pg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=Ft(e)?zi:Tt.current,i.context=Qs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($p(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dd.enqueueReplaceState(i,i.state,null),Ou(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===rS&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function dc(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function H_(t){var e=t._init;return e(t._payload)}function sS(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Gr(y,p),y.index=0,y.sibling=null,y}function s(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,p,g,w){return p===null||p.tag!==6?(p=If(g,y.mode,w),p.return=y,p):(p=i(p,g),p.return=y,p)}function a(y,p,g,w){var T=g.type;return T===Ts?u(y,p,g.props.children,w,g.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Pr&&H_(T)===p.type)?(w=i(p,g.props),w.ref=Uo(y,p,g),w.return=y,w):(w=Hc(g.type,g.key,g.props,null,y.mode,w),w.ref=Uo(y,p,g),w.return=y,w)}function c(y,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Cf(g,y.mode,w),p.return=y,p):(p=i(p,g.children||[]),p.return=y,p)}function u(y,p,g,w,T){return p===null||p.tag!==7?(p=Li(g,y.mode,w,T),p.return=y,p):(p=i(p,g),p.return=y,p)}function h(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=If(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ec:return g=Hc(p.type,p.key,p.props,null,y.mode,g),g.ref=Uo(y,null,p),g.return=y,g;case Ss:return p=Cf(p,y.mode,g),p.return=y,p;case Pr:var w=p._init;return h(y,w(p._payload),g)}if(Qo(p)||Lo(p))return p=Li(p,y.mode,g,null),p.return=y,p;dc(y,p)}return null}function f(y,p,g,w){var T=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:l(y,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ec:return g.key===T?a(y,p,g,w):null;case Ss:return g.key===T?c(y,p,g,w):null;case Pr:return T=g._init,f(y,p,T(g._payload),w)}if(Qo(g)||Lo(g))return T!==null?null:u(y,p,g,w,null);dc(y,g)}return null}function m(y,p,g,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,l(p,y,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ec:return y=y.get(w.key===null?g:w.key)||null,a(p,y,w,T);case Ss:return y=y.get(w.key===null?g:w.key)||null,c(p,y,w,T);case Pr:var I=w._init;return m(y,p,g,I(w._payload),T)}if(Qo(w)||Lo(w))return y=y.get(g)||null,u(p,y,w,T,null);dc(p,w)}return null}function v(y,p,g,w){for(var T=null,I=null,C=p,x=p=0,$=null;C!==null&&x<g.length;x++){C.index>x?($=C,C=null):$=C.sibling;var M=f(y,C,g[x],w);if(M===null){C===null&&(C=$);break}t&&C&&M.alternate===null&&e(y,C),p=s(M,p,x),I===null?T=M:I.sibling=M,I=M,C=$}if(x===g.length)return n(y,C),Ce&&Ei(y,x),T;if(C===null){for(;x<g.length;x++)C=h(y,g[x],w),C!==null&&(p=s(C,p,x),I===null?T=C:I.sibling=C,I=C);return Ce&&Ei(y,x),T}for(C=r(y,C);x<g.length;x++)$=m(C,y,x,g[x],w),$!==null&&(t&&$.alternate!==null&&C.delete($.key===null?x:$.key),p=s($,p,x),I===null?T=$:I.sibling=$,I=$);return t&&C.forEach(function(he){return e(y,he)}),Ce&&Ei(y,x),T}function E(y,p,g,w){var T=Lo(g);if(typeof T!="function")throw Error(P(150));if(g=T.call(g),g==null)throw Error(P(151));for(var I=T=null,C=p,x=p=0,$=null,M=g.next();C!==null&&!M.done;x++,M=g.next()){C.index>x?($=C,C=null):$=C.sibling;var he=f(y,C,M.value,w);if(he===null){C===null&&(C=$);break}t&&C&&he.alternate===null&&e(y,C),p=s(he,p,x),I===null?T=he:I.sibling=he,I=he,C=$}if(M.done)return n(y,C),Ce&&Ei(y,x),T;if(C===null){for(;!M.done;x++,M=g.next())M=h(y,M.value,w),M!==null&&(p=s(M,p,x),I===null?T=M:I.sibling=M,I=M);return Ce&&Ei(y,x),T}for(C=r(y,C);!M.done;x++,M=g.next())M=m(C,y,x,M.value,w),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?x:M.key),p=s(M,p,x),I===null?T=M:I.sibling=M,I=M);return t&&C.forEach(function(Ue){return e(y,Ue)}),Ce&&Ei(y,x),T}function S(y,p,g,w){if(typeof g=="object"&&g!==null&&g.type===Ts&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ec:e:{for(var T=g.key,I=p;I!==null;){if(I.key===T){if(T=g.type,T===Ts){if(I.tag===7){n(y,I.sibling),p=i(I,g.props.children),p.return=y,y=p;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Pr&&H_(T)===I.type){n(y,I.sibling),p=i(I,g.props),p.ref=Uo(y,I,g),p.return=y,y=p;break e}n(y,I);break}else e(y,I);I=I.sibling}g.type===Ts?(p=Li(g.props.children,y.mode,w,g.key),p.return=y,y=p):(w=Hc(g.type,g.key,g.props,null,y.mode,w),w.ref=Uo(y,p,g),w.return=y,y=w)}return o(y);case Ss:e:{for(I=g.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=i(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=Cf(g,y.mode,w),p.return=y,y=p}return o(y);case Pr:return I=g._init,S(y,p,I(g._payload),w)}if(Qo(g))return v(y,p,g,w);if(Lo(g))return E(y,p,g,w);dc(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,g),p.return=y,y=p):(n(y,p),p=If(g,y.mode,w),p.return=y,y=p),o(y)):n(y,p)}return S}var Xs=sS(!0),oS=sS(!1),_l={},Un=ci(_l),$a=ci(_l),Va=ci(_l);function Pi(t){if(t===_l)throw Error(P(174));return t}function Ag(t,e){switch(ye(Va,e),ye($a,t),ye(Un,_l),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yp(e,t)}Te(Un),ye(Un,e)}function Js(){Te(Un),Te($a),Te(Va)}function aS(t){Pi(Va.current);var e=Pi(Un.current),n=yp(e,t.type);e!==n&&(ye($a,t),ye(Un,n))}function kg(t){$a.current===t&&(Te(Un),Te($a))}var xe=ci(0);function Du(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vf=[];function Ng(){for(var t=0;t<vf.length;t++)vf[t]._workInProgressVersionPrimary=null;vf.length=0}var Vc=yr.ReactCurrentDispatcher,_f=yr.ReactCurrentBatchConfig,Hi=0,Re=null,He=null,Ge=null,ju=!1,ha=!1,Fa=0,kA=0;function pt(){throw Error(P(321))}function Og(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function Dg(t,e,n,r,i,s){if(Hi=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vc.current=t===null||t.memoizedState===null?jA:LA,t=n(r,i),ha){s=0;do{if(ha=!1,Fa=0,25<=s)throw Error(P(301));s+=1,Ge=He=null,e.updateQueue=null,Vc.current=MA,t=n(r,i)}while(ha)}if(Vc.current=Lu,e=He!==null&&He.next!==null,Hi=0,Ge=He=Re=null,ju=!1,e)throw Error(P(300));return t}function jg(){var t=Fa!==0;return Fa=0,t}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Re.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function hn(){if(He===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ge===null?Re.memoizedState:Ge.next;if(e!==null)Ge=e,He=t;else{if(t===null)throw Error(P(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ge===null?Re.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Ua(t,e){return typeof e=="function"?e(t):e}function wf(t){var e=hn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var u=c.lane;if((Hi&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,Re.lanes|=u,Wi|=u}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,Rn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,Wi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ef(t){var e=hn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rn(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function lS(){}function cS(t,e){var n=Re,r=hn(),i=e(),s=!Rn(r.memoizedState,i);if(s&&(r.memoizedState=i,$t=!0),r=r.queue,Lg(hS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,za(9,dS.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(P(349));Hi&30||uS(n,e,i)}return i}function uS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dS(t,e,n,r){e.value=n,e.getSnapshot=r,fS(e)&&pS(t)}function hS(t,e,n){return n(function(){fS(e)&&pS(t)})}function fS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function pS(t){var e=dr(t,1);e!==null&&In(e,t,1,-1)}function W_(t){var e=Dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:t},e.queue=t,t=t.dispatch=DA.bind(null,Re,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mS(){return hn().memoizedState}function Fc(t,e,n,r){var i=Dn();Re.flags|=t,i.memoizedState=za(1|e,n,void 0,r===void 0?null:r)}function jd(t,e,n,r){var i=hn();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&Og(r,o.deps)){i.memoizedState=za(e,n,s,r);return}}Re.flags|=t,i.memoizedState=za(1|e,n,s,r)}function q_(t,e){return Fc(8390656,8,t,e)}function Lg(t,e){return jd(2048,8,t,e)}function gS(t,e){return jd(4,2,t,e)}function yS(t,e){return jd(4,4,t,e)}function vS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _S(t,e,n){return n=n!=null?n.concat([t]):null,jd(4,4,vS.bind(null,e,t),n)}function Mg(){}function wS(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Og(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ES(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Og(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SS(t,e,n){return Hi&21?(Rn(n,e)||(n=C1(),Re.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function NA(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=_f.transition;_f.transition={};try{t(!1),e()}finally{pe=n,_f.transition=r}}function TS(){return hn().memoizedState}function OA(t,e,n){var r=Kr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IS(t))CS(e,n);else if(n=tS(t,e,n,r),n!==null){var i=Pt();In(n,t,r,i),xS(n,e,r)}}function DA(t,e,n){var r=Kr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IS(t))CS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Rn(l,o)){var a=e.interleaved;a===null?(i.next=i,bg(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=tS(t,e,i,r),n!==null&&(i=Pt(),In(n,t,r,i),xS(n,e,r))}}function IS(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function CS(t,e){ha=ju=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pg(t,n)}}var Lu={readContext:dn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},jA={readContext:dn,useCallback:function(t,e){return Dn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:q_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,vS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=Dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OA.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=Dn();return t={current:t},e.memoizedState=t},useState:W_,useDebugValue:Mg,useDeferredValue:function(t){return Dn().memoizedState=t},useTransition:function(){var t=W_(!1),e=t[0];return t=NA.bind(null,t[1]),Dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=Dn();if(Ce){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ye===null)throw Error(P(349));Hi&30||uS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,q_(hS.bind(null,r,s,t),[t]),r.flags|=2048,za(9,dS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Dn(),e=Ye.identifierPrefix;if(Ce){var n=rr,r=nr;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LA={readContext:dn,useCallback:wS,useContext:dn,useEffect:Lg,useImperativeHandle:_S,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:ES,useReducer:wf,useRef:mS,useState:function(){return wf(Ua)},useDebugValue:Mg,useDeferredValue:function(t){var e=hn();return SS(e,He.memoizedState,t)},useTransition:function(){var t=wf(Ua)[0],e=hn().memoizedState;return[t,e]},useMutableSource:lS,useSyncExternalStore:cS,useId:TS,unstable_isNewReconciler:!1},MA={readContext:dn,useCallback:wS,useContext:dn,useEffect:Lg,useImperativeHandle:_S,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:ES,useReducer:Ef,useRef:mS,useState:function(){return Ef(Ua)},useDebugValue:Mg,useDeferredValue:function(t){var e=hn();return He===null?e.memoizedState=t:SS(e,He.memoizedState,t)},useTransition:function(){var t=Ef(Ua)[0],e=hn().memoizedState;return[t,e]},useMutableSource:lS,useSyncExternalStore:cS,useId:TS,unstable_isNewReconciler:!1};function Zs(t,e){try{var n="",r=e;do n+=dP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Sf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $A=typeof WeakMap=="function"?WeakMap:Map;function RS(t,e,n){n=ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$u||($u=!0,Yp=r),Fp(t,e)},n}function bS(t,e,n){n=ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fp(t,e),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function K_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $A;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JA.bind(null,t,e,n),e.then(t,t))}function G_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ar(-1,1),e.tag=2,Wr(n,e,1))),n.lanes|=1),t)}var VA=yr.ReactCurrentOwner,$t=!1;function Rt(t,e,n,r){e.child=t===null?oS(e,null,n,r):Xs(e,t.child,n,r)}function Y_(t,e,n,r,i){n=n.render;var s=e.ref;return Us(e,i),r=Dg(t,e,n,r,s,i),n=jg(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hr(t,e,i)):(Ce&&n&&Sg(e),e.flags|=1,Rt(t,e,r,i),e.child)}function X_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,PS(t,e,s,r,i)):(t=Hc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(o,r)&&t.ref===e.ref)return hr(t,e,i)}return e.flags|=1,t=Gr(s,r),t.ref=e.ref,t.return=e,e.child=t}function PS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Da(s,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,hr(t,e,i)}return Up(t,e,n,r,i)}function AS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Os,Wt),Wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Os,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(Os,Wt),Wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ye(Os,Wt),Wt|=r;return Rt(t,e,i,n),e.child}function kS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Up(t,e,n,r,i){var s=Ft(n)?zi:Tt.current;return s=Qs(e,s),Us(e,i),n=Dg(t,e,n,r,s,i),r=jg(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hr(t,e,i)):(Ce&&r&&Sg(e),e.flags|=1,Rt(t,e,n,i),e.child)}function J_(t,e,n,r,i){if(Ft(n)){var s=!0;bu(e)}else s=!1;if(Us(e,i),e.stateNode===null)Uc(t,e),iS(e,n,r),Vp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=Ft(n)?zi:Tt.current,c=Qs(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&B_(e,o,r,c),Ar=!1;var f=e.memoizedState;o.state=f,Ou(e,r,o,i),a=e.memoizedState,l!==r||f!==a||Vt.current||Ar?(typeof u=="function"&&($p(e,n,u,r),a=e.memoizedState),(l=Ar||z_(e,n,l,r,f,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nS(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:_n(e.type,l),o.props=c,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=dn(a):(a=Ft(n)?zi:Tt.current,a=Qs(e,a));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&B_(e,o,r,a),Ar=!1,f=e.memoizedState,o.state=f,Ou(e,r,o,i);var v=e.memoizedState;l!==h||f!==v||Vt.current||Ar?(typeof m=="function"&&($p(e,n,m,r),v=e.memoizedState),(c=Ar||z_(e,n,c,r,f,v,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return zp(t,e,n,r,s,i)}function zp(t,e,n,r,i,s){kS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&M_(e,n,!1),hr(t,e,s);r=e.stateNode,VA.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xs(e,t.child,null,s),e.child=Xs(e,null,l,s)):Rt(t,e,l,s),e.memoizedState=r.state,i&&M_(e,n,!0),e.child}function NS(t){var e=t.stateNode;e.pendingContext?L_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L_(t,e.context,!1),Ag(t,e.containerInfo)}function Z_(t,e,n,r,i){return Ys(),Ig(i),e.flags|=256,Rt(t,e,n,r),e.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function OS(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(xe,i&1),t===null)return Lp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$d(o,r,0,null),t=Li(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hp(n),e.memoizedState=Bp,t):$g(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return FA(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Gr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Gr(l,s):(s=Li(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Bp,r}return s=t.child,t=s.sibling,r=Gr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $g(t,e){return e=$d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hc(t,e,n,r){return r!==null&&Ig(r),Xs(e,t.child,null,n),t=$g(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Sf(Error(P(422))),hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=$d({mode:"visible",children:r.children},i,0,null),s=Li(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xs(e,t.child,null,o),e.child.memoizedState=Hp(o),e.memoizedState=Bp,s);if(!(e.mode&1))return hc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=Sf(s,r,void 0),hc(t,e,o,r)}if(l=(o&t.childLanes)!==0,$t||l){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,dr(t,i),In(r,t,i,-1))}return Hg(),r=Sf(Error(P(421))),hc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=Hr(i.nextSibling),Yt=e,Ce=!0,En=null,t!==null&&(on[an++]=nr,on[an++]=rr,on[an++]=Bi,nr=t.id,rr=t.overflow,Bi=e),e=$g(e,r.children),e.flags|=4096,e)}function ew(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mp(t.return,e,n)}function Tf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function DS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Rt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ew(t,n,e);else if(t.tag===19)ew(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Du(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Du(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tf(e,!0,n,null,s);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UA(t,e,n){switch(e.tag){case 3:NS(e),Ys();break;case 5:aS(e);break;case 1:Ft(e.type)&&bu(e);break;case 4:Ag(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(ku,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?OS(t,e,n):(ye(xe,xe.current&1),t=hr(t,e,n),t!==null?t.sibling:null);ye(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,AS(t,e,n)}return hr(t,e,n)}var jS,Wp,LS,MS;jS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wp=function(){};LS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pi(Un.current);var s=null;switch(n){case"input":i=fp(t,i),r=fp(t,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=gp(t,i),r=gp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xu)}vp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ra.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ra.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&_e("scroll",t),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};MS=function(t,e,n,r){n!==r&&(e.flags|=4)};function zo(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zA(t,e,n){var r=e.pendingProps;switch(Tg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Ft(e.type)&&Ru(),mt(e),null;case 3:return r=e.stateNode,Js(),Te(Vt),Te(Tt),Ng(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Zp(En),En=null))),Wp(t,e),mt(e),null;case 5:kg(e);var i=Pi(Va.current);if(n=e.type,t!==null&&e.stateNode!=null)LS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return mt(e),null}if(t=Pi(Un.current),uc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[Ma]=s,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(i=0;i<Xo.length;i++)_e(Xo[i],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":c_(r,s),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_e("invalid",r);break;case"textarea":d_(r,s),_e("invalid",r)}vp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&cc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&cc(r.textContent,l,t),i=["children",""+l]):Ra.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":tc(r),u_(r,s,!0);break;case"textarea":tc(r),h_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[Ma]=r,jS(t,e,!1,!1),e.stateNode=t;e:{switch(o=_p(n,r),n){case"dialog":_e("cancel",t),_e("close",t),i=r;break;case"iframe":case"object":case"embed":_e("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xo.length;i++)_e(Xo[i],t);i=r;break;case"source":_e("error",t),i=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),i=r;break;case"details":_e("toggle",t),i=r;break;case"input":c_(t,r),i=fp(t,r),_e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),_e("invalid",t);break;case"textarea":d_(t,r),i=gp(t,r),_e("invalid",t);break;default:i=r}vp(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?f1(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&d1(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ba(t,a):typeof a=="number"&&ba(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ra.hasOwnProperty(s)?a!=null&&s==="onScroll"&&_e("scroll",t):a!=null&&lg(t,s,a,o))}switch(n){case"input":tc(t),u_(t,r,!1);break;case"textarea":tc(t),h_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ei(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ms(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ms(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)MS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Pi(Va.current),Pi(Un.current),uc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:cc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return mt(e),null;case 13:if(Te(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&qt!==null&&e.mode&1&&!(e.flags&128))eS(),Ys(),e.flags|=98560,s=!1;else if(s=uc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Ln]=e}else Ys(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else En!==null&&(Zp(En),En=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?We===0&&(We=3):Hg())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Js(),Wp(t,e),t===null&&ja(e.stateNode.containerInfo),mt(e),null;case 10:return Rg(e.type._context),mt(e),null;case 17:return Ft(e.type)&&Ru(),mt(e),null;case 19:if(Te(xe),s=e.memoizedState,s===null)return mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)zo(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Du(t),o!==null){for(e.flags|=128,zo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>eo&&(e.flags|=128,r=!0,zo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Du(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return mt(e),null}else 2*Oe()-s.renderingStartTime>eo&&n!==1073741824&&(e.flags|=128,r=!0,zo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,n=xe.current,ye(xe,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Bg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function BA(t,e){switch(Tg(e),e.tag){case 1:return Ft(e.type)&&Ru(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Js(),Te(Vt),Te(Tt),Ng(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kg(e),null;case 13:if(Te(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Ys()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(xe),null;case 4:return Js(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Bg(),null;case 24:return null;default:return null}}var fc=!1,vt=!1,HA=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ns(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function qp(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var tw=!1;function WA(t,e){if(Pp=Tu,t=U1(),Eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(l=o),f===s&&++u===r&&(a=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ap={focusedElem:t,selectionRange:n},Tu=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,S=v.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:_n(e.type,E),S);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){Ae(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return v=tw,tw=!1,v}function fa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qp(e,n,s)}i=i.next}while(i!==r)}}function Ld(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $S(t){var e=t.alternate;e!==null&&(t.alternate=null,$S(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[Ma],delete e[Op],delete e[RA],delete e[bA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VS(t){return t.tag===5||t.tag===3||t.tag===4}function nw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xu));else if(r!==4&&(t=t.child,t!==null))for(Gp(t,e,n),t=t.sibling;t!==null;)Gp(t,e,n),t=t.sibling}function Qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qp(t,e,n),t=t.sibling;t!==null;)Qp(t,e,n),t=t.sibling}var nt=null,wn=!1;function xr(t,e,n){for(n=n.child;n!==null;)FS(t,e,n),n=n.sibling}function FS(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(bd,n)}catch{}switch(n.tag){case 5:vt||Ns(n,e);case 6:var r=nt,i=wn;nt=null,xr(t,e,n),nt=r,wn=i,nt!==null&&(wn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(wn?(t=nt,n=n.stateNode,t.nodeType===8?gf(t.parentNode,n):t.nodeType===1&&gf(t,n),Na(t)):gf(nt,n.stateNode));break;case 4:r=nt,i=wn,nt=n.stateNode.containerInfo,wn=!0,xr(t,e,n),nt=r,wn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qp(n,e,o),i=i.next}while(i!==r)}xr(t,e,n);break;case 1:if(!vt&&(Ns(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ae(n,e,l)}xr(t,e,n);break;case 21:xr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,xr(t,e,n),vt=r):xr(t,e,n);break;default:xr(t,e,n)}}function rw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HA),e.forEach(function(r){var i=ek.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:nt=l.stateNode,wn=!1;break e;case 3:nt=l.stateNode.containerInfo,wn=!0;break e;case 4:nt=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(nt===null)throw Error(P(160));FS(s,o,i),nt=null,wn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){Ae(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)US(e,t),e=e.sibling}function US(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),On(t),r&4){try{fa(3,t,t.return),Ld(3,t)}catch(E){Ae(t,t.return,E)}try{fa(5,t,t.return)}catch(E){Ae(t,t.return,E)}}break;case 1:yn(e,t),On(t),r&512&&n!==null&&Ns(n,n.return);break;case 5:if(yn(e,t),On(t),r&512&&n!==null&&Ns(n,n.return),t.flags&32){var i=t.stateNode;try{ba(i,"")}catch(E){Ae(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&l1(i,s),_p(l,o);var c=_p(l,s);for(o=0;o<a.length;o+=2){var u=a[o],h=a[o+1];u==="style"?f1(i,h):u==="dangerouslySetInnerHTML"?d1(i,h):u==="children"?ba(i,h):lg(i,u,h,c)}switch(l){case"input":pp(i,s);break;case"textarea":c1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ms(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ms(i,!!s.multiple,s.defaultValue,!0):Ms(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ma]=s}catch(E){Ae(t,t.return,E)}}break;case 6:if(yn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Ae(t,t.return,E)}}break;case 3:if(yn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(e.containerInfo)}catch(E){Ae(t,t.return,E)}break;case 4:yn(e,t),On(t);break;case 13:yn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ug=Oe())),r&4&&rw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||u,yn(e,t),vt=c):yn(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(h=L=u;L!==null;){switch(f=L,m=f.child,f.tag){case 0:case 11:case 14:case 15:fa(4,f,f.return);break;case 1:Ns(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(E){Ae(r,n,E)}}break;case 5:Ns(f,f.return);break;case 22:if(f.memoizedState!==null){sw(h);continue}}m!==null?(m.return=f,L=m):sw(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=h1("display",o))}catch(E){Ae(t,t.return,E)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(E){Ae(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(e,t),On(t),r&4&&rw(t);break;case 21:break;default:yn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VS(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ba(i,""),r.flags&=-33);var s=nw(t);Qp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=nw(t);Gp(t,l,o);break;default:throw Error(P(161))}}catch(a){Ae(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qA(t,e,n){L=t,zS(t)}function zS(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fc;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||vt;l=fc;var c=vt;if(fc=o,(vt=a)&&!c)for(L=i;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?ow(i):a!==null?(a.return=o,L=a):ow(i);for(;s!==null;)L=s,zS(s),s=s.sibling;L=i,fc=l,vt=c}iw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):iw(t)}}function iw(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Ld(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U_(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Na(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}vt||e.flags&512&&Kp(e)}catch(f){Ae(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function sw(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function ow(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ld(4,e)}catch(a){Ae(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ae(e,i,a)}}var s=e.return;try{Kp(e)}catch(a){Ae(e,s,a)}break;case 5:var o=e.return;try{Kp(e)}catch(a){Ae(e,o,a)}}}catch(a){Ae(e,e.return,a)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var KA=Math.ceil,Mu=yr.ReactCurrentDispatcher,Vg=yr.ReactCurrentOwner,un=yr.ReactCurrentBatchConfig,le=0,Ye=null,Me=null,at=0,Wt=0,Os=ci(0),We=0,Ba=null,Wi=0,Md=0,Fg=0,pa=null,Lt=null,Ug=0,eo=1/0,Zn=null,$u=!1,Yp=null,qr=null,pc=!1,$r=null,Vu=0,ma=0,Xp=null,zc=-1,Bc=0;function Pt(){return le&6?Oe():zc!==-1?zc:zc=Oe()}function Kr(t){return t.mode&1?le&2&&at!==0?at&-at:AA.transition!==null?(Bc===0&&(Bc=C1()),Bc):(t=pe,t!==0||(t=window.event,t=t===void 0?16:N1(t.type)),t):1}function In(t,e,n,r){if(50<ma)throw ma=0,Xp=null,Error(P(185));gl(t,n,r),(!(le&2)||t!==Ye)&&(t===Ye&&(!(le&2)&&(Md|=n),We===4&&Nr(t,at)),Ut(t,r),n===1&&le===0&&!(e.mode&1)&&(eo=Oe()+500,Od&&ui()))}function Ut(t,e){var n=t.callbackNode;AP(t,e);var r=Su(t,t===Ye?at:0);if(r===0)n!==null&&m_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m_(n),e===1)t.tag===0?PA(aw.bind(null,t)):X1(aw.bind(null,t)),CA(function(){!(le&6)&&ui()}),n=null;else{switch(x1(r)){case 1:n=fg;break;case 4:n=T1;break;case 16:n=Eu;break;case 536870912:n=I1;break;default:n=Eu}n=YS(n,BS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function BS(t,e){if(zc=-1,Bc=0,le&6)throw Error(P(327));var n=t.callbackNode;if(zs()&&t.callbackNode!==n)return null;var r=Su(t,t===Ye?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fu(t,r);else{e=r;var i=le;le|=2;var s=WS();(Ye!==t||at!==e)&&(Zn=null,eo=Oe()+500,ji(t,e));do try{YA();break}catch(l){HS(t,l)}while(!0);xg(),Mu.current=s,le=i,Me!==null?e=0:(Ye=null,at=0,e=We)}if(e!==0){if(e===2&&(i=Ip(t),i!==0&&(r=i,e=Jp(t,i))),e===1)throw n=Ba,ji(t,0),Nr(t,r),Ut(t,Oe()),n;if(e===6)Nr(t,r);else{if(i=t.current.alternate,!(r&30)&&!GA(i)&&(e=Fu(t,r),e===2&&(s=Ip(t),s!==0&&(r=s,e=Jp(t,s))),e===1))throw n=Ba,ji(t,0),Nr(t,r),Ut(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Si(t,Lt,Zn);break;case 3:if(Nr(t,r),(r&130023424)===r&&(e=Ug+500-Oe(),10<e)){if(Su(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Np(Si.bind(null,t,Lt,Zn),e);break}Si(t,Lt,Zn);break;case 4:if(Nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Tn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KA(r/1960))-r,10<r){t.timeoutHandle=Np(Si.bind(null,t,Lt,Zn),r);break}Si(t,Lt,Zn);break;case 5:Si(t,Lt,Zn);break;default:throw Error(P(329))}}}return Ut(t,Oe()),t.callbackNode===n?BS.bind(null,t):null}function Jp(t,e){var n=pa;return t.current.memoizedState.isDehydrated&&(ji(t,e).flags|=256),t=Fu(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&Zp(e)),t}function Zp(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function GA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e){for(e&=~Fg,e&=~Md,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),r=1<<n;t[n]=-1,e&=~r}}function aw(t){if(le&6)throw Error(P(327));zs();var e=Su(t,0);if(!(e&1))return Ut(t,Oe()),null;var n=Fu(t,e);if(t.tag!==0&&n===2){var r=Ip(t);r!==0&&(e=r,n=Jp(t,r))}if(n===1)throw n=Ba,ji(t,0),Nr(t,e),Ut(t,Oe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,Lt,Zn),Ut(t,Oe()),null}function zg(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(eo=Oe()+500,Od&&ui())}}function qi(t){$r!==null&&$r.tag===0&&!(le&6)&&zs();var e=le;le|=1;var n=un.transition,r=pe;try{if(un.transition=null,pe=1,t)return t()}finally{pe=r,un.transition=n,le=e,!(le&6)&&ui()}}function Bg(){Wt=Os.current,Te(Os)}function ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IA(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Tg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ru();break;case 3:Js(),Te(Vt),Te(Tt),Ng();break;case 5:kg(r);break;case 4:Js();break;case 13:Te(xe);break;case 19:Te(xe);break;case 10:Rg(r.type._context);break;case 22:case 23:Bg()}n=n.return}if(Ye=t,Me=t=Gr(t.current,null),at=Wt=e,We=0,Ba=null,Fg=Md=Wi=0,Lt=pa=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bi=null}return t}function HS(t,e){do{var n=Me;try{if(xg(),Vc.current=Lu,ju){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ju=!1}if(Hi=0,Ge=He=Re=null,ha=!1,Fa=0,Vg.current=null,n===null||n.return===null){We=1,Ba=e,Me=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=at,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=G_(o);if(m!==null){m.flags&=-257,Q_(m,o,l,s,e),m.mode&1&&K_(s,c,e),e=m,a=c;var v=e.updateQueue;if(v===null){var E=new Set;E.add(a),e.updateQueue=E}else v.add(a);break e}else{if(!(e&1)){K_(s,c,e),Hg();break e}a=Error(P(426))}}else if(Ce&&l.mode&1){var S=G_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Q_(S,o,l,s,e),Ig(Zs(a,l));break e}}s=a=Zs(a,l),We!==4&&(We=2),pa===null?pa=[s]:pa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=RS(s,a,e);F_(s,y);break e;case 1:l=a;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qr===null||!qr.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=bS(s,l,e);F_(s,w);break e}}s=s.return}while(s!==null)}KS(n)}catch(T){e=T,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function WS(){var t=Mu.current;return Mu.current=Lu,t===null?Lu:t}function Hg(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(Wi&268435455)&&!(Md&268435455)||Nr(Ye,at)}function Fu(t,e){var n=le;le|=2;var r=WS();(Ye!==t||at!==e)&&(Zn=null,ji(t,e));do try{QA();break}catch(i){HS(t,i)}while(!0);if(xg(),le=n,Mu.current=r,Me!==null)throw Error(P(261));return Ye=null,at=0,We}function QA(){for(;Me!==null;)qS(Me)}function YA(){for(;Me!==null&&!EP();)qS(Me)}function qS(t){var e=QS(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?KS(t):Me=e,Vg.current=null}function KS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BA(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Me=null;return}}else if(n=zA(n,e,Wt),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);We===0&&(We=5)}function Si(t,e,n){var r=pe,i=un.transition;try{un.transition=null,pe=1,XA(t,e,n,r)}finally{un.transition=i,pe=r}return null}function XA(t,e,n,r){do zs();while($r!==null);if(le&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kP(t,s),t===Ye&&(Me=Ye=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,YS(Eu,function(){return zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=pe;pe=1;var l=le;le|=4,Vg.current=null,WA(t,n),US(n,t),yA(Ap),Tu=!!Pp,Ap=Pp=null,t.current=n,qA(n),SP(),le=l,pe=o,un.transition=s}else t.current=n;if(pc&&(pc=!1,$r=t,Vu=i),s=t.pendingLanes,s===0&&(qr=null),CP(n.stateNode),Ut(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($u)throw $u=!1,t=Yp,Yp=null,t;return Vu&1&&t.tag!==0&&zs(),s=t.pendingLanes,s&1?t===Xp?ma++:(ma=0,Xp=t):ma=0,ui(),null}function zs(){if($r!==null){var t=x1(Vu),e=un.transition,n=pe;try{if(un.transition=null,pe=16>t?16:t,$r===null)var r=!1;else{if(t=$r,$r=null,Vu=0,le&6)throw Error(P(331));var i=le;for(le|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:fa(8,u,s)}var h=u.child;if(h!==null)h.return=u,L=h;else for(;L!==null;){u=L;var f=u.sibling,m=u.return;if($S(u),u===c){L=null;break}if(f!==null){f.return=m,L=f;break}L=m}}}var v=s.alternate;if(v!==null){var E=v.child;if(E!==null){v.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fa(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,L=y;break e}L=s.return}}var p=t.current;for(L=p;L!==null;){o=L;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,L=g;else e:for(o=p;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ld(9,l)}}catch(T){Ae(l,l.return,T)}if(l===o){L=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,L=w;break e}L=l.return}}if(le=i,ui(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(bd,t)}catch{}r=!0}return r}finally{pe=n,un.transition=e}}return!1}function lw(t,e,n){e=Zs(n,e),e=RS(t,e,1),t=Wr(t,e,1),e=Pt(),t!==null&&(gl(t,1,e),Ut(t,e))}function Ae(t,e,n){if(t.tag===3)lw(t,t,n);else for(;e!==null;){if(e.tag===3){lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){t=Zs(n,t),t=bS(e,t,1),e=Wr(e,t,1),t=Pt(),e!==null&&(gl(e,1,t),Ut(e,t));break}}e=e.return}}function JA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(at&n)===n&&(We===4||We===3&&(at&130023424)===at&&500>Oe()-Ug?ji(t,0):Fg|=n),Ut(t,e)}function GS(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=Pt();t=dr(t,e),t!==null&&(gl(t,e,n),Ut(t,n))}function ZA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GS(t,n)}function ek(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),GS(t,n)}var QS;QS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,UA(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Ce&&e.flags&1048576&&J1(e,Au,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uc(t,e),t=e.pendingProps;var i=Qs(e,Tt.current);Us(e,n),i=Dg(null,e,r,t,i,n);var s=jg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,bu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pg(e),i.updater=Dd,e.stateNode=i,i._reactInternals=e,Vp(e,r,t,n),e=zp(null,e,r,!0,s,n)):(e.tag=0,Ce&&s&&Sg(e),Rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nk(r),t=_n(r,t),i){case 0:e=Up(null,e,r,t,n);break e;case 1:e=J_(null,e,r,t,n);break e;case 11:e=Y_(null,e,r,t,n);break e;case 14:e=X_(null,e,r,_n(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Up(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),J_(t,e,r,i,n);case 3:e:{if(NS(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nS(t,e),Ou(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zs(Error(P(423)),e),e=Z_(t,e,r,n,i);break e}else if(r!==i){i=Zs(Error(P(424)),e),e=Z_(t,e,r,n,i);break e}else for(qt=Hr(e.stateNode.containerInfo.firstChild),Yt=e,Ce=!0,En=null,n=oS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===i){e=hr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return aS(e),t===null&&Lp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kp(r,i)?o=null:s!==null&&kp(r,s)&&(e.flags|=32),kS(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&Lp(e),null;case 13:return OS(t,e,n);case 4:return Ag(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xs(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Y_(t,e,r,i,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ye(ku,r._currentValue),r._currentValue=o,s!==null)if(Rn(s.value,o)){if(s.children===i.children&&!Vt.current){e=hr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=ar(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Mp(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Us(e,n),i=dn(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),X_(t,e,r,i,n);case 15:return PS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Uc(t,e),e.tag=1,Ft(r)?(t=!0,bu(e)):t=!1,Us(e,n),iS(e,r,i),Vp(e,r,i,n),zp(null,e,r,!0,t,n);case 19:return DS(t,e,n);case 22:return AS(t,e,n)}throw Error(P(156,e.tag))};function YS(t,e){return S1(t,e)}function tk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new tk(t,e,n,r)}function Wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nk(t){if(typeof t=="function")return Wg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ug)return 11;if(t===dg)return 14}return 2}function Gr(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ts:return Li(n.children,i,s,e);case cg:o=8,i|=8;break;case cp:return t=cn(12,n,e,i|2),t.elementType=cp,t.lanes=s,t;case up:return t=cn(13,n,e,i),t.elementType=up,t.lanes=s,t;case dp:return t=cn(19,n,e,i),t.elementType=dp,t.lanes=s,t;case s1:return $d(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r1:o=10;break e;case i1:o=9;break e;case ug:o=11;break e;case dg:o=14;break e;case Pr:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Li(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function $d(t,e,n,r){return t=cn(22,t,r,e),t.elementType=s1,t.lanes=n,t.stateNode={isHidden:!1},t}function If(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Cf(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sf(0),this.expirationTimes=sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qg(t,e,n,r,i,s,o,l,a){return t=new rk(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pg(s),t}function ik(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ss,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XS(t){if(!t)return ti;t=t._reactInternals;e:{if(ss(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ft(n))return Y1(t,n,e)}return e}function JS(t,e,n,r,i,s,o,l,a){return t=qg(n,r,!0,t,i,s,o,l,a),t.context=XS(null),n=t.current,r=Pt(),i=Kr(n),s=ar(r,i),s.callback=e??null,Wr(n,s,i),t.current.lanes=i,gl(t,i,r),Ut(t,r),t}function Vd(t,e,n,r){var i=e.current,s=Pt(),o=Kr(i);return n=XS(n),e.context===null?e.context=n:e.pendingContext=n,e=ar(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wr(i,e,o),t!==null&&(In(t,i,o,s),$c(t,i,o)),o}function Uu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kg(t,e){cw(t,e),(t=t.alternate)&&cw(t,e)}function sk(){return null}var ZS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gg(t){this._internalRoot=t}Fd.prototype.render=Gg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Vd(t,e,null,null)};Fd.prototype.unmount=Gg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qi(function(){Vd(null,t,null,null)}),e[ur]=null}};function Fd(t){this._internalRoot=t}Fd.prototype.unstable_scheduleHydration=function(t){if(t){var e=P1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&k1(t)}};function Qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uw(){}function ok(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Uu(o);s.call(c)}}var o=JS(e,r,t,0,null,!1,!1,"",uw);return t._reactRootContainer=o,t[ur]=o.current,ja(t.nodeType===8?t.parentNode:t),qi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Uu(a);l.call(c)}}var a=qg(t,0,!1,null,null,!1,!1,"",uw);return t._reactRootContainer=a,t[ur]=a.current,ja(t.nodeType===8?t.parentNode:t),qi(function(){Vd(e,a,n,r)}),a}function zd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Uu(o);l.call(a)}}Vd(e,o,t,i)}else o=ok(n,e,t,i,r);return Uu(o)}R1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yo(e.pendingLanes);n!==0&&(pg(e,n|1),Ut(e,Oe()),!(le&6)&&(eo=Oe()+500,ui()))}break;case 13:qi(function(){var r=dr(t,1);if(r!==null){var i=Pt();In(r,t,1,i)}}),Kg(t,1)}};mg=function(t){if(t.tag===13){var e=dr(t,134217728);if(e!==null){var n=Pt();In(e,t,134217728,n)}Kg(t,134217728)}};b1=function(t){if(t.tag===13){var e=Kr(t),n=dr(t,e);if(n!==null){var r=Pt();In(n,t,e,r)}Kg(t,e)}};P1=function(){return pe};A1=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Ep=function(t,e,n){switch(e){case"input":if(pp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nd(r);if(!i)throw Error(P(90));a1(r),pp(r,i)}}}break;case"textarea":c1(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};g1=zg;y1=qi;var ak={usingClientEntryPoint:!1,Events:[vl,Rs,Nd,p1,m1,zg]},Bo={findFiberByHostInstance:Ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lk={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=w1(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||sk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{bd=mc.inject(lk),Fn=mc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ak;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qg(e))throw Error(P(200));return ik(t,e,null,n)};tn.createRoot=function(t,e){if(!Qg(t))throw Error(P(299));var n=!1,r="",i=ZS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qg(t,1,!1,null,null,n,!1,r,i),t[ur]=e.current,ja(t.nodeType===8?t.parentNode:t),new Gg(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=w1(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return qi(t)};tn.hydrate=function(t,e,n){if(!Ud(e))throw Error(P(200));return zd(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!Qg(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ZS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JS(e,null,t,1,n??null,i,!1,s,o),t[ur]=e.current,ja(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fd(e)};tn.render=function(t,e,n){if(!Ud(e))throw Error(P(200));return zd(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!Ud(t))throw Error(P(40));return t._reactRootContainer?(qi(function(){zd(null,null,t,!1,function(){t._reactRootContainer=null,t[ur]=null})}),!0):!1};tn.unstable_batchedUpdates=zg;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ud(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return zd(t,e,n,!1,r)};tn.version="18.2.0-next-9e3b772b8-20220608";function eT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eT)}catch(t){console.error(t)}}eT(),JE.exports=tn;var ck=JE.exports,tT,dw=ck;tT=dw.createRoot,dw.hydrateRoot;var nT={exports:{}},rT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=_;function uk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dk=typeof Object.is=="function"?Object.is:uk,hk=wl.useSyncExternalStore,fk=wl.useRef,pk=wl.useEffect,mk=wl.useMemo,gk=wl.useDebugValue;rT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=fk(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=mk(function(){function a(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return h=v}return h=m}if(v=h,dk(u,m))return v;var E=r(m);return i!==void 0&&i(v,E)?v:(u=m,h=E)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return a(e())},f===null?void 0:function(){return a(f())}]},[e,n,r,i]);var l=hk(t,s[0],s[1]);return pk(function(){o.hasValue=!0,o.value=l},[l]),gk(l),l};nT.exports=rT;var yk=nT.exports,Kt="default"in ap?H:ap,hw=Symbol.for("react-redux-context"),fw=typeof globalThis<"u"?globalThis:{};function vk(){if(!Kt.createContext)return{};const t=fw[hw]??(fw[hw]=new Map);let e=t.get(Kt.createContext);return e||(e=Kt.createContext(null),t.set(Kt.createContext,e)),e}var ni=vk(),_k=()=>{throw new Error("uSES not initialized!")};function Yg(t=ni){return function(){return Kt.useContext(t)}}var iT=Yg(),sT=_k,wk=t=>{sT=t},Ek=(t,e)=>t===e;function Sk(t=ni){const e=t===ni?iT:Yg(t),n=(r,i={})=>{const{equalityFn:s=Ek,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:a,getServerState:c,stabilityCheck:u,identityFunctionCheck:h}=e();Kt.useRef(!0);const f=Kt.useCallback({[r.name](v){return r(v)}}[r.name],[r,u,o.stabilityCheck]),m=sT(a.addNestedSub,l.getState,c||l.getState,f,s);return Kt.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var ge=Sk();function Tk(t){t()}function Ik(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Tk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var pw={notify(){},get:()=>[]};function Ck(t,e){let n,r=pw,i=0,s=!1;function o(E){u();const S=r.subscribe(E);let y=!1;return()=>{y||(y=!0,S(),h())}}function l(){r.notify()}function a(){v.onStateChange&&v.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(a):t.subscribe(a),r=Ik())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=pw)}function f(){s||(s=!0,u())}function m(){s&&(s=!1,h())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return v}var xk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rk=xk?Kt.useLayoutEffect:Kt.useEffect;function bk({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Kt.useMemo(()=>{const c=Ck(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=Kt.useMemo(()=>t.getState(),[t]);Rk(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const a=e||ni;return Kt.createElement(a.Provider,{value:o},n)}var Pk=bk;function oT(t=ni){const e=t===ni?iT:Yg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var Ak=oT();function kk(t=ni){const e=t===ni?Ak:oT(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Xg=kk();wk(yk.useSyncExternalStoreWithSelector);function Wc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wc=function(n){return typeof n}:Wc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wc(t)}function Nk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ok(t,e,n){return e&&mw(t.prototype,e),n&&mw(t,n),t}function Dk(t,e){return e&&(Wc(e)==="object"||typeof e=="function")?e:qc(t)}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function qc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tm(t,e)}function tm(t,e){return tm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},tm(t,e)}function Kc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aT=function(t){jk(e,t);function e(){var n,r;Nk(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Dk(this,(n=em(e)).call.apply(n,[this].concat(s))),Kc(qc(r),"state",{bootstrapped:!1}),Kc(qc(r),"_unsubscribe",void 0),Kc(qc(r),"handlePersistorState",function(){var l=r.props.persistor,a=l.getState(),c=a.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return Ok(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(_.PureComponent);Kc(aT,"defaultProps",{children:null,loading:null});function tt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Lk=typeof Symbol=="function"&&Symbol.observable||"@@observable",gw=Lk,xf=()=>Math.random().toString(36).substring(7).split("").join("."),Mk={INIT:`@@redux/INIT${xf()}`,REPLACE:`@@redux/REPLACE${xf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xf()}`},zu=Mk;function Jg(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Zg(t,e,n){if(typeof t!="function")throw new Error(tt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tt(1));return n(Zg)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,a=!1;function c(){o===s&&(o=new Map,s.forEach((S,y)=>{o.set(y,S)}))}function u(){if(a)throw new Error(tt(3));return i}function h(S){if(typeof S!="function")throw new Error(tt(4));if(a)throw new Error(tt(5));let y=!0;c();const p=l++;return o.set(p,S),function(){if(y){if(a)throw new Error(tt(6));y=!1,c(),o.delete(p),s=null}}}function f(S){if(!Jg(S))throw new Error(tt(7));if(typeof S.type>"u")throw new Error(tt(8));if(typeof S.type!="string")throw new Error(tt(17));if(a)throw new Error(tt(9));try{a=!0,i=r(i,S)}finally{a=!1}return(s=o).forEach(p=>{p()}),S}function m(S){if(typeof S!="function")throw new Error(tt(10));r=S,f({type:zu.REPLACE})}function v(){const S=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(tt(11));function p(){const w=y;w.next&&w.next(u())}return p(),{unsubscribe:S(p)}},[gw](){return this}}}return f({type:zu.INIT}),{dispatch:f,subscribe:h,getState:u,replaceReducer:m,[gw]:v}}function $k(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zu.INIT})>"u")throw new Error(tt(12));if(typeof n(void 0,{type:zu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tt(13))})}function Vk(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{$k(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let a=!1;const c={};for(let u=0;u<r.length;u++){const h=r[u],f=n[h],m=o[h],v=f(m,l);if(typeof v>"u")throw l&&l.type,new Error(tt(14));c[h]=v,a=a||v!==m}return a=a||r.length!==Object.keys(o).length,a?c:o}}function Bu(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Fk(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(tt(15))};const o={getState:i.getState,dispatch:(a,...c)=>s(a,...c)},l=t.map(a=>a(o));return s=Bu(...l)(i.dispatch),{...i,dispatch:s}}}function Uk(t){return Jg(t)&&"type"in t&&typeof t.type=="string"}var lT=Symbol.for("immer-nothing"),yw=Symbol.for("immer-draftable"),Jt=Symbol.for("immer-state");function Sn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var to=Object.getPrototypeOf;function ri(t){return!!t&&!!t[Jt]}function fr(t){var e;return t?cT(t)||Array.isArray(t)||!!t[yw]||!!((e=t.constructor)!=null&&e[yw])||Hd(t)||Wd(t):!1}var zk=Object.prototype.constructor.toString();function cT(t){if(!t||typeof t!="object")return!1;const e=to(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===zk}function Ha(t,e){Bd(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Bd(t){const e=t[Jt];return e?e.type_:Array.isArray(t)?1:Hd(t)?2:Wd(t)?3:0}function nm(t,e){return Bd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function uT(t,e,n){const r=Bd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Bk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Hd(t){return t instanceof Map}function Wd(t){return t instanceof Set}function Ti(t){return t.copy_||t.base_}function rm(t,e){if(Hd(t))return new Map(t);if(Wd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&cT(t))return to(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Jt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(to(t),n)}function ey(t,e=!1){return qd(t)||ri(t)||!fr(t)||(Bd(t)>1&&(t.set=t.add=t.clear=t.delete=Hk),Object.freeze(t),e&&Ha(t,(n,r)=>ey(r,!0))),t}function Hk(){Sn(2)}function qd(t){return Object.isFrozen(t)}var Wk={};function Ki(t){const e=Wk[t];return e||Sn(0,t),e}var Wa;function dT(){return Wa}function qk(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vw(t,e){e&&(Ki("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function im(t){sm(t),t.drafts_.forEach(Kk),t.drafts_=null}function sm(t){t===Wa&&(Wa=t.parent_)}function _w(t){return Wa=qk(Wa,t)}function Kk(t){const e=t[Jt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ww(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Jt].modified_&&(im(e),Sn(4)),fr(t)&&(t=Hu(e,t),e.parent_||Wu(e,t)),e.patches_&&Ki("Patches").generateReplacementPatches_(n[Jt].base_,t,e.patches_,e.inversePatches_)):t=Hu(e,n,[]),im(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==lT?t:void 0}function Hu(t,e,n){if(qd(e))return e;const r=e[Jt];if(!r)return Ha(e,(i,s)=>Ew(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Wu(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Ha(s,(l,a)=>Ew(t,r,i,l,a,n,o)),Wu(t,i,!1),n&&t.patches_&&Ki("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Ew(t,e,n,r,i,s,o){if(ri(i)){const l=s&&e&&e.type_!==3&&!nm(e.assigned_,r)?s.concat(r):void 0,a=Hu(t,i,l);if(uT(n,r,a),ri(a))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(fr(i)&&!qd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Hu(t,i),(!e||!e.scope_.parent_)&&Wu(t,i)}}function Wu(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ey(e,n)}function Gk(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:dT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=ty;n&&(i=[r],s=qa);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var ty={get(t,e){if(e===Jt)return t;const n=Ti(t);if(!nm(n,e))return Qk(t,n,e);const r=n[e];return t.finalized_||!fr(r)?r:r===Rf(t.base_,e)?(bf(t),t.copy_[e]=am(r,t)):r},has(t,e){return e in Ti(t)},ownKeys(t){return Reflect.ownKeys(Ti(t))},set(t,e,n){const r=hT(Ti(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Rf(Ti(t),e),s=i==null?void 0:i[Jt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Bk(n,i)&&(n!==void 0||nm(t.base_,e)))return!0;bf(t),om(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Rf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,bf(t),om(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ti(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Sn(11)},getPrototypeOf(t){return to(t.base_)},setPrototypeOf(){Sn(12)}},qa={};Ha(ty,(t,e)=>{qa[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});qa.deleteProperty=function(t,e){return qa.set.call(this,t,e,void 0)};qa.set=function(t,e,n){return ty.set.call(this,t[0],e,n,t[0])};function Rf(t,e){const n=t[Jt];return(n?Ti(n):t)[e]}function Qk(t,e,n){var i;const r=hT(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function hT(t,e){if(!(e in t))return;let n=to(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=to(n)}}function om(t){t.modified_||(t.modified_=!0,t.parent_&&om(t.parent_))}function bf(t){t.copy_||(t.copy_=rm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Yk=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(a=s,...c){return o.produce(a,u=>n.call(this,u,...c))}}typeof n!="function"&&Sn(6),r!==void 0&&typeof r!="function"&&Sn(7);let i;if(fr(e)){const s=_w(this),o=am(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?im(s):sm(s)}return vw(s,r),ww(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===lT&&(i=void 0),this.autoFreeze_&&ey(i,!0),r){const s=[],o=[];Ki("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Sn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,a=>e(a,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){fr(t)||Sn(8),ri(t)&&(t=fT(t));const e=_w(this),n=am(t,void 0);return n[Jt].isManual_=!0,sm(e),n}finishDraft(t,e){const n=t&&t[Jt];(!n||!n.isManual_)&&Sn(9);const{scope_:r}=n;return vw(r,e),ww(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ki("Patches").applyPatches_;return ri(t)?r(t,e):this.produce(t,i=>r(i,e))}};function am(t,e){const n=Hd(t)?Ki("MapSet").proxyMap_(t,e):Wd(t)?Ki("MapSet").proxySet_(t,e):Gk(t,e);return(e?e.scope_:dT()).drafts_.push(n),n}function fT(t){return ri(t)||Sn(10,t),pT(t)}function pT(t){if(!fr(t)||qd(t))return t;const e=t[Jt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=rm(t,e.scope_.immer_.useStrictShallowCopy_)}else n=rm(t,!0);return Ha(n,(r,i)=>{uT(n,r,pT(i))}),e&&(e.finalized_=!1),n}var Zt=new Yk,mT=Zt.produce;Zt.produceWithPatches.bind(Zt);Zt.setAutoFreeze.bind(Zt);Zt.setUseStrictShallowCopy.bind(Zt);Zt.applyPatches.bind(Zt);Zt.createDraft.bind(Zt);Zt.finishDraft.bind(Zt);function Xk(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Jk(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Zk(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Sw=t=>Array.isArray(t)?t:[t];function eN(t){const e=Array.isArray(t[0])?t[0]:t;return Zk(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function tN(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var nN=class{constructor(t){this.value=t}deref(){return this.value}},rN=typeof WeakRef<"u"?WeakRef:nN,iN=0,Tw=1;function gc(){return{s:iN,v:void 0,o:null,p:null}}function ny(t,e={}){let n=gc();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var h;let l=n;const{length:a}=arguments;for(let f=0,m=a;f<m;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let E=l.o;E===null&&(l.o=E=new WeakMap);const S=E.get(v);S===void 0?(l=gc(),E.set(v,l)):l=S}else{let E=l.p;E===null&&(l.p=E=new Map);const S=E.get(v);S===void 0?(l=gc(),E.set(v,l)):l=S}}const c=l;let u;if(l.s===Tw?u=l.v:(u=t.apply(null,arguments),s++),c.s=Tw,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new rN(u):u}return c.v=u,u}return o.clearCache=()=>{n=gc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function gT(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,l,a={},c=i.pop();typeof c=="object"&&(a=c,c=i.pop()),Xk(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...a},{memoize:h,memoizeOptions:f=[],argsMemoize:m=ny,argsMemoizeOptions:v=[],devModeChecks:E={}}=u,S=Sw(f),y=Sw(v),p=eN(i),g=h(function(){return s++,c.apply(null,arguments)},...S),w=m(function(){o++;const I=tN(p,arguments);return l=g.apply(null,I),l},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:g,dependencies:p,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var sN=gT(ny),oN=Object.assign((t,e=sN)=>{Jk(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,l,a)=>(o[n[a]]=l,o),{}))},{withTypes:()=>oN});function yT(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var aN=yT(),lN=yT,cN=(...t)=>{const e=gT(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...l)=>i(ri(o)?fT(o):o,...l);return Object.assign(s,i),s},{withTypes:()=>n});return n};cN(ny);var uN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bu:Bu.apply(null,arguments)},dN=t=>t&&typeof t.match=="function";function lr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(zt(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Uk(r)&&r.type===t,n}var vT=class Jo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jo.prototype)}static get[Symbol.species](){return Jo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Jo(...e[0].concat(this)):new Jo(...e.concat(this))}};function Iw(t){return fr(t)?mT(t,()=>{}):t}function Cw(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(zt(10));const r=n.insert(e,t);return t.set(e,r),r}function hN(t){return typeof t=="boolean"}var fN=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new vT;return n&&(hN(n)?o.push(aN):o.push(lN(n.extraArgument))),o},pN="RTK_autoBatch",_T=t=>e=>{setTimeout(e,t)},mN=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_T(10),gN=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,a=t.type==="tick"?queueMicrotask:t.type==="raf"?mN:t.type==="callback"?t.queueNotification:_T(t.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const h=()=>i&&u(),f=r.subscribe(h);return l.add(u),()=>{f(),l.delete(u)}},dispatch(u){var h;try{return i=!((h=u==null?void 0:u.meta)!=null&&h[pN]),s=!i,s&&(o||(o=!0,a(c))),r.dispatch(u)}finally{i=!0}}})},yN=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new vT(t);return r&&i.push(gN(typeof r=="object"?r:void 0)),i},vN=!0;function _N(t){const e=fN(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Jg(n))l=Vk(n);else throw new Error(zt(1));let a;typeof r=="function"?a=r(e):a=e();let c=Bu;i&&(c=uN({trace:!vN,...typeof i=="object"&&i}));const u=Fk(...a),h=yN(u);let f=typeof o=="function"?o(h):h();const m=c(...f);return Zg(l,s,m)}function wT(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(zt(28));if(l in e)throw new Error(zt(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function wN(t){return typeof t=="function"}function EN(t,e){let[n,r,i]=wT(e),s;if(wN(t))s=()=>Iw(t());else{const l=Iw(t);s=()=>l}function o(l=s(),a){let c=[n[a.type],...r.filter(({matcher:u})=>u(a)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,h)=>{if(h)if(ri(u)){const m=h(u,a);return m===void 0?u:m}else{if(fr(u))return mT(u,f=>h(f,a));{const f=h(u,a);if(f===void 0){if(u===null)return u;throw new Error(zt(9))}return f}}return u},l)}return o.getInitialState=s,o}var SN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ET=(t=21)=>{let e="",n=t;for(;n--;)e+=SN[Math.random()*64|0];return e},TN=(t,e)=>dN(t)?t.match(e):t(e);function IN(...t){return e=>t.some(n=>TN(n,e))}var CN=["name","message","stack","code"],Pf=class{constructor(t,e){Jh(this,"_type");this.payload=t,this.meta=e}},xw=class{constructor(t,e){Jh(this,"_type");this.payload=t,this.meta=e}},xN=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of CN)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},di=(()=>{function t(e,n,r){const i=lr(e+"/fulfilled",(a,c,u,h)=>({payload:a,meta:{...h||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=lr(e+"/pending",(a,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:a,requestStatus:"pending"}})),o=lr(e+"/rejected",(a,c,u,h,f)=>({payload:h,error:(r&&r.serializeError||xN)(a||"Rejected"),meta:{...f||{},arg:u,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(c,u,h)=>{const f=r!=null&&r.idGenerator?r.idGenerator(a):ET(),m=new AbortController;let v,E;function S(p){E=p,m.abort()}const y=async function(){var w,T;let p;try{let I=(w=r==null?void 0:r.condition)==null?void 0:w.call(r,a,{getState:u,extra:h});if(bN(I)&&(I=await I),I===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((x,$)=>{v=()=>{$({name:"AbortError",message:E||"Aborted"})},m.signal.addEventListener("abort",v)});c(s(f,a,(T=r==null?void 0:r.getPendingMeta)==null?void 0:T.call(r,{requestId:f,arg:a},{getState:u,extra:h}))),p=await Promise.race([C,Promise.resolve(n(a,{dispatch:c,getState:u,extra:h,requestId:f,signal:m.signal,abort:S,rejectWithValue:(x,$)=>new Pf(x,$),fulfillWithValue:(x,$)=>new xw(x,$)})).then(x=>{if(x instanceof Pf)throw x;return x instanceof xw?i(x.payload,f,a,x.meta):i(x,f,a)})])}catch(I){p=I instanceof Pf?o(null,f,a,I.payload,I.meta):o(I,f,a)}finally{v&&m.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&o.match(p)&&p.meta.condition||c(p),p}();return Object.assign(y,{abort:S,requestId:f,arg:a,unwrap(){return y.then(RN)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,settled:IN(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function RN(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function bN(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var PN=Symbol.for("rtk-slice-createasyncthunk");function AN(t,e){return`${t}/${e}`}function kN({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[PN];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(zt(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(ON()):i.reducers)||{},a=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(g,w){const T=typeof g=="string"?g:g.type;if(!T)throw new Error(zt(12));if(T in c.sliceCaseReducersByType)throw new Error(zt(13));return c.sliceCaseReducersByType[T]=w,u},addMatcher(g,w){return c.sliceMatchers.push({matcher:g,reducer:w}),u},exposeAction(g,w){return c.actionCreators[g]=w,u},exposeCaseReducer(g,w){return c.sliceCaseReducersByName[g]=w,u}};a.forEach(g=>{const w=l[g],T={reducerName:g,type:AN(s,g),createNotation:typeof i.reducers=="function"};jN(w)?MN(T,w,u,e):DN(T,w,u)});function h(){const[g={},w=[],T=void 0]=typeof i.extraReducers=="function"?wT(i.extraReducers):[i.extraReducers],I={...g,...c.sliceCaseReducersByType};return EN(i.initialState,C=>{for(let x in I)C.addCase(x,I[x]);for(let x of c.sliceMatchers)C.addMatcher(x.matcher,x.reducer);for(let x of w)C.addMatcher(x.matcher,x.reducer);T&&C.addDefaultCase(T)})}const f=g=>g,m=new Map;let v;function E(g,w){return v||(v=h()),v(g,w)}function S(){return v||(v=h()),v.getInitialState()}function y(g,w=!1){function T(C){let x=C[g];return typeof x>"u"&&w&&(x=S()),x}function I(C=f){const x=Cw(m,w,{insert:()=>new WeakMap});return Cw(x,C,{insert:()=>{const $={};for(const[M,he]of Object.entries(i.selectors??{}))$[M]=NN(he,C,S,w);return $}})}return{reducerPath:g,getSelectors:I,get selectors(){return I(T)},selectSlice:T}}const p={name:s,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...y(o),injectInto(g,{reducerPath:w,...T}={}){const I=w??o;return g.inject({reducerPath:I,reducer:E},T),{...p,...y(I,!0)}}};return p}}function NN(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var vr=kN();function ON(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function DN({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!LN(r))throw new Error(zt(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?lr(t,o):lr(t))}function jN(t){return t._reducerDefinitionType==="asyncThunk"}function LN(t){return t._reducerDefinitionType==="reducerWithPrepare"}function MN({type:t,reducerName:e},n,r,i){if(!i)throw new Error(zt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:a,settled:c,options:u}=n,h=i(t,s,u);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),l&&r.addCase(h.pending,l),a&&r.addCase(h.rejected,a),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:o||yc,pending:l||yc,rejected:a||yc,settled:c||yc})}function yc(){}var $N=(t,e)=>{if(typeof t!="function")throw new Error(zt(32))},ry="listenerMiddleware",VN=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=lr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(zt(21));return $N(s),{predicate:i,type:e,effect:s}},FN=Object.assign(t=>{const{type:e,predicate:n,effect:r}=VN(t);return{id:ET(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(zt(22))}}},{withTypes:()=>FN}),UN=Object.assign(lr(`${ry}/add`),{withTypes:()=>UN});lr(`${ry}/removeAll`);var zN=Object.assign(lr(`${ry}/remove`),{withTypes:()=>zN});function zt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var iy="persist:",sy="persist/FLUSH",Kd="persist/REHYDRATE",oy="persist/PAUSE",ay="persist/PERSIST",ly="persist/PURGE",cy="persist/REGISTER",BN=-1;function Gc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gc=function(n){return typeof n}:Gc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gc(t)}function Rw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rw(n,!0).forEach(function(r){WN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qN(t,e,n,r){r.debug;var i=HN({},n);return t&&Gc(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function KN(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:iy).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(T){return T}:typeof t.serialize=="function"?l=t.serialize:l=GN;var a=t.writeFailHandler||null,c={},u={},h=[],f=null,m=null,v=function(T){Object.keys(T).forEach(function(I){y(I)&&c[I]!==T[I]&&h.indexOf(I)===-1&&h.push(I)}),Object.keys(c).forEach(function(I){T[I]===void 0&&y(I)&&h.indexOf(I)===-1&&c[I]!==void 0&&h.push(I)}),f===null&&(f=setInterval(E,i)),c=T};function E(){if(h.length===0){f&&clearInterval(f),f=null;return}var w=h.shift(),T=r.reduce(function(I,C){return C.in(I,w,c)},c[w]);if(T!==void 0)try{u[w]=l(T)}catch(I){console.error("redux-persist/createPersistoid: error serializing state",I)}else delete u[w];h.length===0&&S()}function S(){Object.keys(u).forEach(function(w){c[w]===void 0&&delete u[w]}),m=o.setItem(s,l(u)).catch(p)}function y(w){return!(n&&n.indexOf(w)===-1&&w!=="_persist"||e&&e.indexOf(w)!==-1)}function p(w){a&&a(w)}var g=function(){for(;h.length!==0;)E();return m||Promise.resolve()};return{update:v,flush:g}}function GN(t){return JSON.stringify(t)}function QN(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:iy).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=YN,r.getItem(n).then(function(s){if(s)try{var o={},l=i(s);return Object.keys(l).forEach(function(a){o[a]=e.reduceRight(function(c,u){return u.out(c,a,l)},i(l[a]))}),o}catch(a){throw a}else return})}function YN(t){return JSON.parse(t)}function XN(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:iy).concat(t.key);return e.removeItem(n,JN)}function JN(t){}function bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bw(n,!0).forEach(function(r){ZN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eO(t,e){if(t==null)return{};var n=tO(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nO=5e3;function _r(t,e){var n=t.version!==void 0?t.version:BN;t.debug;var r=t.stateReconciler===void 0?qN:t.stateReconciler,i=t.getStoredState||QN,s=t.timeout!==void 0?t.timeout:nO,o=null,l=!1,a=!0,c=function(h){return h._persist.rehydrated&&o&&!a&&o.update(h),h};return function(u,h){var f=u||{},m=f._persist,v=eO(f,["_persist"]),E=v;if(h.type===ay){var S=!1,y=function(x,$){S||(h.rehydrate(t.key,x,$),S=!0)};if(s&&setTimeout(function(){!S&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),a=!1,o||(o=KN(t)),m)return Jn({},e(E,h),{_persist:m});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(C){var x=t.migrate||function($,M){return Promise.resolve($)};x(C,n).then(function($){y($)},function($){y(void 0,$)})},function(C){y(void 0,C)}),Jn({},e(E,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===ly)return l=!0,h.result(XN(t)),Jn({},e(E,h),{_persist:m});if(h.type===sy)return h.result(o&&o.flush()),Jn({},e(E,h),{_persist:m});if(h.type===oy)a=!0;else if(h.type===Kd){if(l)return Jn({},E,{_persist:Jn({},m,{rehydrated:!0})});if(h.key===t.key){var p=e(E,h),g=h.payload,w=r!==!1&&g!==void 0?r(g,u,p,t):p,T=Jn({},w,{_persist:Jn({},m,{rehydrated:!0})});return c(T)}}}if(!m)return e(u,h);var I=e(E,h);return I===E?u:c(Jn({},I,{_persist:m}))}}function Pw(t){return sO(t)||iO(t)||rO()}function rO(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function iO(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function sO(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Aw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aw(n,!0).forEach(function(r){oO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ST={registry:[],bootstrapped:!1},aO=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ST,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case cy:return lm({},e,{registry:[].concat(Pw(e.registry),[n.key])});case Kd:var r=e.registry.indexOf(n.key),i=Pw(e.registry);return i.splice(r,1),lm({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function lO(t,e,n){var r=n||!1,i=Zg(aO,ST,e&&e.enhancer?e.enhancer:void 0),s=function(c){i.dispatch({type:cy,key:c})},o=function(c,u,h){var f={type:Kd,payload:u,err:h,key:c};t.dispatch(f),i.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=lm({},i,{purge:function(){var c=[];return t.dispatch({type:ly,result:function(h){c.push(h)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:sy,result:function(h){c.push(h)}}),Promise.all(c)},pause:function(){t.dispatch({type:oy})},persist:function(){t.dispatch({type:ay,register:s,rehydrate:o})}});return e&&e.manualPersist||l.persist(),l}var uy={},dy={};dy.__esModule=!0;dy.default=dO;function Qc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qc=function(n){return typeof n}:Qc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qc(t)}function Af(){}var cO={getItem:Af,setItem:Af,removeItem:Af};function uO(t){if((typeof self>"u"?"undefined":Qc(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function dO(t){var e="".concat(t,"Storage");return uO(e)?self[e]:cO}uy.__esModule=!0;uy.default=pO;var hO=fO(dy);function fO(t){return t&&t.__esModule?t:{default:t}}function pO(t){var e=(0,hO.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var TT=void 0,mO=gO(uy);function gO(t){return t&&t.__esModule?t:{default:t}}var yO=(0,mO.default)("local");TT=yO;var kw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=s>>2,h=(s&3)<<4|l>>4;let f=(l&15)<<2|c>>6,m=c&63;a||(m=64,o||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||h==null)throw new _O;const f=s<<2|l>>4;if(r.push(f),c!==64){const m=l<<4&240|c>>2;if(r.push(m),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wO=function(t){const e=IT(t);return CT.encodeByteArray(e,!0)},qu=function(t){return wO(t).replace(/\./g,"")},xT=function(t){try{return CT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=()=>EO().__FIREBASE_DEFAULTS__,TO=()=>{if(typeof process>"u"||typeof kw>"u")return;const t=kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xT(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return SO()||TO()||IO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RT=t=>{var e,n;return(n=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bT=t=>{const e=RT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PT=()=>{var t;return(t=Gd())===null||t===void 0?void 0:t.config},AT=t=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qu(JSON.stringify(n)),qu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function RO(){var t;const e=(t=Gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AO(){const t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kO(){return!RO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NT(){try{return typeof indexedDB=="object"}catch{return!1}}function NO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="FirebaseError";class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OO,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DO(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Xn(i,l,r)}}function DO(t,e){return t.replace(jO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jO=/\{\$([^}]+)}/g;function LO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ku(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Nw(s)&&Nw(o)){if(!Ku(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ea(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MO(t,e){const n=new $O(t,e);return n.subscribe.bind(n)}class $O{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kf),i.error===void 0&&(i.error=kf),i.complete===void 0&&(i.complete=kf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zO(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UO(t){return t===Ii?void 0:t}function zO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const HO={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},WO=se.INFO,qO={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},KO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hy{constructor(e){this.name=e,this._logLevel=WO,this._logHandler=KO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const GO=(t,e)=>e.some(n=>t instanceof n);let Ow,Dw;function QO(){return Ow||(Ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YO(){return Dw||(Dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OT=new WeakMap,cm=new WeakMap,DT=new WeakMap,Nf=new WeakMap,fy=new WeakMap;function XO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OT.set(n,t)}).catch(()=>{}),fy.set(e,t),e}function JO(t){if(cm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cm.set(t,e)}let um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZO(t){um=t(um)}function eD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Of(this),e,...n);return DT.set(r,e.sort?e.sort():[e]),Qr(r)}:YO().includes(t)?function(...e){return t.apply(Of(this),e),Qr(OT.get(this))}:function(...e){return Qr(t.apply(Of(this),e))}}function tD(t){return typeof t=="function"?eD(t):(t instanceof IDBTransaction&&JO(t),GO(t,QO())?new Proxy(t,um):t)}function Qr(t){if(t instanceof IDBRequest)return XO(t);if(Nf.has(t))return Nf.get(t);const e=tD(t);return e!==t&&(Nf.set(t,e),fy.set(e,t)),e}const Of=t=>fy.get(t);function nD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Qr(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Qr(o.result),a.oldVersion,a.newVersion,Qr(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const rD=["get","getKey","getAll","getAllKeys","count"],iD=["put","add","delete","clear"],Df=new Map;function jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rD.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return Df.set(e,s),s}ZO(t=>({...t,get:(e,n,r)=>jw(e,n)||t.get(e,n,r),has:(e,n)=>!!jw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dm="@firebase/app",Lw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new hy("@firebase/app"),aD="@firebase/app-compat",lD="@firebase/analytics-compat",cD="@firebase/analytics",uD="@firebase/app-check-compat",dD="@firebase/app-check",hD="@firebase/auth",fD="@firebase/auth-compat",pD="@firebase/database",mD="@firebase/database-compat",gD="@firebase/functions",yD="@firebase/functions-compat",vD="@firebase/installations",_D="@firebase/installations-compat",wD="@firebase/messaging",ED="@firebase/messaging-compat",SD="@firebase/performance",TD="@firebase/performance-compat",ID="@firebase/remote-config",CD="@firebase/remote-config-compat",xD="@firebase/storage",RD="@firebase/storage-compat",bD="@firebase/firestore",PD="@firebase/firestore-compat",AD="firebase",kD="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",ND={[dm]:"fire-core",[aD]:"fire-core-compat",[cD]:"fire-analytics",[lD]:"fire-analytics-compat",[dD]:"fire-app-check",[uD]:"fire-app-check-compat",[hD]:"fire-auth",[fD]:"fire-auth-compat",[pD]:"fire-rtdb",[mD]:"fire-rtdb-compat",[gD]:"fire-fn",[yD]:"fire-fn-compat",[vD]:"fire-iid",[_D]:"fire-iid-compat",[wD]:"fire-fcm",[ED]:"fire-fcm-compat",[SD]:"fire-perf",[TD]:"fire-perf-compat",[ID]:"fire-rc",[CD]:"fire-rc-compat",[xD]:"fire-gcs",[RD]:"fire-gcs-compat",[bD]:"fire-fst",[PD]:"fire-fst-compat","fire-js":"fire-js",[AD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,fm=new Map;function OD(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qi(t){const e=t.name;if(fm.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,t);for(const n of Gu.values())OD(n,t);return!0}function Qd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yr=new El("app","Firebase",DD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=kD;function jT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(n||(n=PT()),!n)throw Yr.create("no-options");const s=Gu.get(i);if(s){if(Ku(n,s.options)&&Ku(r,s.config))return s;throw Yr.create("duplicate-app",{appName:i})}const o=new BO(i);for(const a of fm.values())o.addComponent(a);const l=new jD(n,r,o);return Gu.set(i,l),l}function py(t=hm){const e=Gu.get(t);if(!e&&t===hm&&PT())return jT();if(!e)throw Yr.create("no-app",{appName:t});return e}function zn(t,e,n){var r;let i=(r=ND[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(l.join(" "));return}Qi(new ii(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="firebase-heartbeat-database",MD=1,Ka="firebase-heartbeat-store";let jf=null;function LT(){return jf||(jf=nD(LD,MD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),jf}async function $D(t){try{const n=(await LT()).transaction(Ka),r=await n.objectStore(Ka).get(MT(t));return await n.done,r}catch(e){if(e instanceof Xn)Gi.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function Mw(t,e){try{const r=(await LT()).transaction(Ka,"readwrite");await r.objectStore(Ka).put(e,MT(t)),await r.done}catch(n){if(n instanceof Xn)Gi.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(r.message)}}}function MT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=1024,FD=30*24*60*60*1e3;class UD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$w();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=FD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$w(),{heartbeatsToSend:r,unsentEntries:i}=zD(this._heartbeatsCache.heartbeats),s=qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function $w(){return new Date().toISOString().substring(0,10)}function zD(t,e=VD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NT()?NO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $D(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vw(t){return qu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){Qi(new ii("platform-logger",e=>new sD(e),"PRIVATE")),Qi(new ii("heartbeat",e=>new UD(e),"PRIVATE")),zn(dm,Lw,t),zn(dm,Lw,"esm2017"),zn("fire-js","")}HD("");var WD="firebase",qD="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(WD,qD,"app");function my(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KD=$T,VT=new El("auth","Firebase",$T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new hy("@firebase/auth");function GD(t,...e){Qu.logLevel<=se.WARN&&Qu.warn(`Auth (${os}): ${t}`,...e)}function Yc(t,...e){Qu.logLevel<=se.ERROR&&Qu.error(`Auth (${os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw gy(t,...e)}function Bn(t,...e){return gy(t,...e)}function QD(t,e,n){const r=Object.assign(Object.assign({},KD()),{[e]:n});return new El("auth","Firebase",r).create(e,{appName:t.name})}function gy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VT.create(t,...e)}function U(t,e,...n){if(!t)throw gy(e,...n)}function ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yc(e),new Error(e)}function pr(t,e){t||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YD(){return Fw()==="http:"||Fw()==="https:"}function Fw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YD()||bO()||"connection"in navigator)?navigator.onLine:!0}function JD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=xO()||PO()}get(){return XD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Tl(3e4,6e4);function wr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Er(t,e,n,r,i={}){return UT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Sl(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),FT.fetch()(zT(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function UT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZD),e);try{const i=new n2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,c]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw vc(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw vc(t,"user-disabled",o);const u=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QD(t,u,c);bn(t,u)}}catch(i){if(i instanceof Xn)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function Il(t,e,n,r,i={}){const s=await Er(t,e,n,r,i);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function zT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yy(t.config,i):`${t.config.apiScheme}://${i}`}function t2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class n2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),e2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bn(t,e,r);return i.customData._tokenResponse=n,i}function Uw(t){return t!==void 0&&t.enterprise!==void 0}class r2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return t2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function i2(t,e){return Er(t,"GET","/v2/recaptchaConfig",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,e){return Er(t,"POST","/v1/accounts:delete",e)}async function o2(t,e){return Er(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a2(t,e=!1){const n=Fe(t),r=await n.getIdToken(e),i=vy(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ga(Lf(i.auth_time)),issuedAtTime:ga(Lf(i.iat)),expirationTime:ga(Lf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lf(t){return Number(t)*1e3}function vy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const i=xT(n);return i?JSON.parse(i):(Yc("Failed to decode base64 JWT payload"),null)}catch(i){return Yc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function l2(t){const e=vy(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xn&&c2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ga(this.lastLoginAt),this.creationTime=ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ga(t,o2(n,{idToken:r}));U(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?f2(s.providerUserInfo):[],l=h2(t.providerData,o),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),u=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new BT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function d2(t){const e=Fe(t);await Yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function f2(t){return t.map(e=>{var{providerId:n}=e,r=my(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e){const n=await UT(t,{},async()=>{const r=Sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=zT(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",FT.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m2(t,e){return Er(t,"POST","/v2/accounts:revokeToken",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return U(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await p2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qa;return r&&(U(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(U(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){U(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=my(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new BT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a2(this,e)}reload(){return d2(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ga(this,s2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,a,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,S=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,p=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:w,isAnonymous:T,providerData:I,stsTokenManager:C}=n;U(g&&C,e,"internal-error");const x=Qa.fromJSON(this.name,C);U(typeof g=="string",e,"internal-error"),Rr(h,e.name),Rr(f,e.name),U(typeof w=="boolean",e,"internal-error"),U(typeof T=="boolean",e,"internal-error"),Rr(m,e.name),Rr(v,e.name),Rr(E,e.name),Rr(S,e.name),Rr(y,e.name),Rr(p,e.name);const $=new Mi({uid:g,auth:e,email:f,emailVerified:w,displayName:h,isAnonymous:T,photoURL:v,phoneNumber:m,tenantId:E,stsTokenManager:x,createdAt:y,lastLoginAt:p});return I&&Array.isArray(I)&&($.providerData=I.map(M=>Object.assign({},M))),S&&($._redirectEventId=S),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qa;i.updateFromServerResponse(n);const s=new Mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;function sr(t){pr(t instanceof Function,"Expected a class definition");let e=zw.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HT.type="NONE";const Bw=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(sr(Bw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||sr(Bw);const o=Xc(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Mi._fromJSON(e,u);c!==s&&(l=h),s=c;break}}catch{}const a=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new Bs(s,e,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if(YT(e))return"Webos";if(_y(e))return"Safari";if((e.includes("chrome/")||qT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WT(t=Ve()){return/firefox\//i.test(t)}function _y(t=Ve()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qT(t=Ve()){return/crios\//i.test(t)}function KT(t=Ve()){return/iemobile/i.test(t)}function GT(t=Ve()){return/android/i.test(t)}function QT(t=Ve()){return/blackberry/i.test(t)}function YT(t=Ve()){return/webos/i.test(t)}function Yd(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g2(t=Ve()){var e;return Yd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function y2(){return AO()&&document.documentMode===10}function XT(t=Ve()){return Yd(t)||GT(t)||YT(t)||QT(t)||/windows phone/i.test(t)||KT(t)}function v2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t,e=[]){let n;switch(t){case"Browser":n=Hw(Ve());break;case"Worker":n=`${Hw(Ve())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(t,e={}){return Er(t,"GET","/v2/passwordPolicy",wr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=6;class S2{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:E2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ww(this),this.idTokenSubscription=new Ww(this),this.beforeStateQueue=new _2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Fe(e):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w2(this),n=new S2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,i);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hi(t){return Fe(t)}class Ww{constructor(e){this.auth=e,this.observer=null,this.addObserver=MO(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I2(t){Xd=t}function ZT(t){return Xd.loadJS(t)}function C2(){return Xd.recaptchaEnterpriseScript}function x2(){return Xd.gapiScript}function R2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const b2="recaptcha-enterprise",P2="NO_RECAPTCHA";class A2{constructor(e){this.type=b2,this.auth=hi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{i2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new r2(a);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;Uw(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(P2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&Uw(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=C2();a.length!==0&&(a+=l),ZT(a).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function qw(t,e,n,r=!1){const i=new A2(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Xu(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await qw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await qw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e){const n=Qd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ku(s,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function N2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O2(t,e,n){const r=hi(t);U(r._canInitEmulator,r,"emulator-config-failed"),U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=eI(e),{host:o,port:l}=D2(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||j2()}function eI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D2(t){const e=eI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Kw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Kw(o)}}}function Kw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function L2(t,e){return Er(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){return Il(t,"POST","/v1/accounts:signInWithPassword",wr(t,e))}async function tI(t,e){return Er(t,"POST","/v1/accounts:sendOobCode",wr(t,e))}async function $2(t,e){return tI(t,e)}async function V2(t,e){return tI(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e){return Il(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))}async function U2(t,e){return Il(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends wy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ya(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ya(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xu(e,n,"signInWithPassword",M2);case"emailLink":return F2(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xu(e,r,"signUpPassword",L2);case"emailLink":return U2(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e){return Il(t,"POST","/v1/accounts:signInWithIdp",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="http://localhost";class Yi extends wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=my(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Yi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:z2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(t){const e=Zo(ea(t)).link,n=e?Zo(ea(e)).deep_link_id:null,r=Zo(ea(t)).deep_link_id;return(r?Zo(ea(r)).link:null)||r||n||e||t}class Ey{constructor(e){var n,r,i,s,o,l;const a=Zo(ea(e)),c=(n=a.apiKey)!==null&&n!==void 0?n:null,u=(r=a.oobCode)!==null&&r!==void 0?r:null,h=B2((i=a.mode)!==null&&i!==void 0?i:null);U(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=H2(e);try{return new Ey(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return Ya._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ey.parseLink(n);return U(r,"argument-error"),Ya._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends nI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Cl{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Cl{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Cl{constructor(){super("twitter.com")}static credential(e,n){return Yi._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t,e){return Il(t,"POST","/v1/accounts:signUp",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Mi._fromIdTokenResponse(e,r,i),o=Gw(r);return new Xi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Gw(r);return new Xi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Xn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ju(e,n,r,i)}}function rI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ju._fromErrorAndOperation(t,s,e,r):s})}async function q2(t,e,n=!1){const r=await Ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ga(t,rI(r,i,e,t),n);U(s.idToken,r,"internal-error");const o=vy(s.idToken);U(o,r,"internal-error");const{sub:l}=o;return U(t.uid===l,r,"user-mismatch"),Xi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(t,e,n=!1){const r="signIn",i=await rI(t,r,e),s=await Xi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function G2(t,e){return iI(hi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e,n){var r;U(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),U(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(U(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(U(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(t){const e=hi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Q2(t,e,n){const r=hi(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&sI(r,i,n),await Xu(r,i,"getOobCode",V2)}async function Y2(t,e,n){const r=hi(t),o=await Xu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W2).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&oI(t),a}),l=await Xi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function X2(t,e,n){return G2(Fe(t),Eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oI(t),r})}async function J2(t,e){const n=Fe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&sI(n.auth,i,e);const{email:s}=await $2(n.auth,i);s!==t.email&&await t.reload()}function Z2(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function ej(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}const Zu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){const t=Ve();return _y(t)||Yd(t)}const nj=1e3,rj=10;class lI extends aI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=tj()&&v2(),this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);y2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lI.type="LOCAL";const ij=lI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends aI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cI.type="SESSION";const uI=cI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),a=await sj(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const c=Sy("",20);i.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(u),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function aj(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function lj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uj(){return dI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebaseLocalStorageDb",dj=1,ed="firebaseLocalStorage",fI="fbase_key";class xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function hj(){const t=indexedDB.deleteDatabase(hI);return new xl(t).toPromise()}function mm(){const t=indexedDB.open(hI,dj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ed,{keyPath:fI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ed)?e(r):(r.close(),await hj(),e(await mm()))})})}async function Qw(t,e,n){const r=Zd(t,!0).put({[fI]:e,value:n});return new xl(r).toPromise()}async function fj(t,e){const n=Zd(t,!1).get(e),r=await new xl(n).toPromise();return r===void 0?null:r.value}function Yw(t,e){const n=Zd(t,!0).delete(e);return new xl(n).toPromise()}const pj=800,mj=3;class pI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(uj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lj(),!this.activeServiceWorker)return;this.sender=new oj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await Qw(e,Zu,"1"),await Yw(e,Zu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zd(i,!1).getAll();return new xl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pI.type="LOCAL";const gj=pI;new Tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e){return e?sr(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vj(t){return iI(t.auth,new Ty(t),t.bypassAuthState)}function _j(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),K2(n,new Ty(t),t.bypassAuthState)}async function wj(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),q2(n,new Ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vj;case"linkViaPopup":case"linkViaRedirect":return wj;case"reauthViaPopup":case"reauthViaRedirect":return _j;default:bn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Tl(2e3,1e4);class Ds extends mI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return U(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ej.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="pendingRedirect",Jc=new Map;class Tj extends mI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const r=await Ij(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ij(t,e){const n=Rj(e),r=xj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Cj(t,e){Jc.set(t._key(),e)}function xj(t){return sr(t._redirectPersistence)}function Rj(t){return Xc(Sj,t.config.apiKey,t.name)}async function bj(t,e,n=!1){const r=hi(t),i=yj(r,e),o=await new Tj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=10*60*1e3;class Aj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xw(e))}saveEventToCache(e){this.cachedEventUids.add(Xw(e)),this.lastProcessedEventTime=Date.now()}}function Xw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e={}){return Er(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dj=/^https?/;async function jj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nj(t);for(const n of e)try{if(Lj(n))return}catch{}bn(t,"unauthorized-domain")}function Lj(t){const e=pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Dj.test(n))return!1;if(Oj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new Tl(3e4,6e4);function Jw(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $j(t){return new Promise((e,n)=>{var r,i,s;function o(){Jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jw(),n(Bn(t,"network-request-failed"))},timeout:Mj.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hn().gapi)===null||s===void 0)&&s.load)o();else{const l=R2("iframefcb");return Hn()[l]=()=>{gapi.load?o():n(Bn(t,"network-request-failed"))},ZT(`${x2()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function Vj(t){return Zc=Zc||$j(t),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Tl(5e3,15e3),Uj="__/auth/iframe",zj="emulator/auth/iframe",Bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wj(t){const e=t.config;U(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yy(e,zj):`https://${t.config.authDomain}/${Uj}`,r={apiKey:e.apiKey,appName:t.name,v:os},i=Hj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Sl(r).slice(1)}`}async function qj(t){const e=await Vj(t),n=Hn().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:Wj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Bn(t,"network-request-failed"),l=Hn().setTimeout(()=>{s(o)},Fj.get());function a(){Hn().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gj=500,Qj=600,Yj="_blank",Xj="http://localhost";class Zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jj(t,e,n,r=Gj,i=Qj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},Kj),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ve().toLowerCase();n&&(l=qT(c)?Yj:n),WT(c)&&(e=e||Xj,a.scrollbars="yes");const u=Object.entries(a).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(g2(c)&&l!=="_self")return Zj(e||"",l),new Zw(null);const h=window.open(e||"",l,u);U(h,t,"popup-blocked");try{h.focus()}catch{}return new Zw(h)}function Zj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="__/auth/handler",tL="emulator/auth/handler",nL=encodeURIComponent("fac");async function e0(t,e,n,r,i,s){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:os,eventId:i};if(e instanceof nI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof Cl){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const a=await t._getAppCheckToken(),c=a?`#${nL}=${encodeURIComponent(a)}`:"";return`${rL(t)}?${Sl(l).slice(1)}${c}`}function rL({config:t}){return t.emulator?yy(t,tL):`https://${t.authDomain}/${eL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="webStorageSupport";class iL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uI,this._completeRedirectFn=bj,this._overrideRedirectResult=Cj}async _openPopup(e,n,r,i){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await e0(e,n,r,pm(),i);return Jj(e,o,Sy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await e0(e,n,r,pm(),i);return aj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qj(e),r=new Aj(e);return n.register("authEvent",i=>(U(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mf,{type:Mf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mf];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XT()||_y()||Yd()}}const sL=iL;var t0="@firebase/auth",n0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lL(t){Qi(new ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;U(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JT(t)},c=new T2(r,i,s,a);return N2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new ii("auth-internal",e=>{const n=hi(e.getProvider("auth").getImmediate());return(r=>new oL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(t0,n0,aL(t)),zn(t0,n0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=5*60,uL=AT("authIdTokenMaxAge")||cL;let r0=null;const dL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uL)return;const i=n==null?void 0:n.token;r0!==i&&(r0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hL(t=py()){const e=Qd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k2(t,{popupRedirectResolver:sL,persistence:[gj,ij,uI]}),r=AT("authTokenSyncURL");if(r){const s=dL(r);ej(n,s,()=>s(n.currentUser)),Z2(n,o=>s(o))}const i=RT("auth");return i&&O2(n,`http://${i}`),n}function fL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}I2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Bn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="firebasestorage.googleapis.com",vI="storageBucket",pL=2*60*1e3,mL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends Xn{constructor(e,n,r=0){super($f(e),`Firebase Storage: ${n} (${$f(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $f(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function $f(t){return"storage/"+t}function _I(){const t="An unknown error occurred, please check the error payload for server response.";return new Ze(Xe.UNKNOWN,t)}function gL(t){return new Ze(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yL(t){return new Ze(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Xe.UNAUTHENTICATED,t)}function _L(){return new Ze(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wL(t){return new Ze(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function EL(){return new Ze(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SL(){return new Ze(Xe.CANCELED,"User canceled the upload/download.")}function TL(t){return new Ze(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function IL(t){return new Ze(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CL(){return new Ze(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vI+"' property when initializing the app?")}function xL(){return new Ze(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gm(t){return new Ze(Xe.INVALID_ARGUMENT,t)}function wI(){return new Ze(Xe.APP_DELETED,"The Firebase app was deleted.")}function RL(t){return new Ze(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ho(t){throw new Ze(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gt.makeFromUrl(e,n)}catch{return new Gt(e,"")}if(r.path==="")return r;throw IL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${u}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},E=n===yI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",y=new RegExp(`^https?://${E}/${i}/${S}`,"i"),g=[{regex:l,indices:a,postModify:s},{regex:m,indices:v,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<g.length;w++){const T=g[w],I=T.regex.exec(e);if(I){const C=I[T.indices.bucket];let x=I[T.indices.path];x||(x=""),r=new Gt(C,x),T.postModify(r);break}}if(r==null)throw TL(e);return r}}class bL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function a(){return l===2}let c=!1;function u(...S){c||(c=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(m,a())},S)}function f(){s&&clearTimeout(s)}function m(S,...y){if(c){f();return}if(S){f(),u.call(null,S,...y);return}if(a()||o){f(),u.call(null,S,...y);return}r<64&&(r*=2);let g;l===1?(l=2,g=0):g=(r+Math.random())*1e3,h(g)}let v=!1;function E(S){v||(v=!0,f(),!c&&(i!==null?(S||(l=2),clearTimeout(i),h(0)):S||(l=1)))}return h(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function AL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){return t!==void 0}function NL(t){return typeof t=="object"&&!Array.isArray(t)}function EI(t){return typeof t=="string"||t instanceof String}function i0(t,e,n,r){if(r<e)throw gm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function TI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($i||($i={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i,s,o,l,a,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _c(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const a=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===$i.NO_ERROR,a=s.getStatus();if(!l||OL(a,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===$i.ABORT;r(!1,new _c(!1,null,u));return}const c=this.successCodes_.indexOf(a)!==-1;r(!0,new _c(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());kL(a)?s(a):s()}catch(a){o(a)}else if(l!==null){const a=_I();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(i.canceled){const a=this.appDelete_?wI():SL();o(a)}else{const a=EL();o(a)}};this.canceled_?n(!1,new _c(!1,null,!0)):this.backoffId_=PL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&AL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _c{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ML(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $L(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VL(t,e,n,r,i,s,o=!0){const l=TI(t.urlParams),a=t.url+l,c=Object.assign({},t.headers);return ML(c,e),jL(c,n),LL(c,s),$L(c,r),new DL(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){let e;try{e=JSON.parse(t)}catch{return null}return NL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function CI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e){return e}class xt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||zL}}let wc=null;function BL(t){return!EI(t)||t.length<2?t:CI(t)}function HL(){if(wc)return wc;const t=[];t.push(new xt("bucket")),t.push(new xt("generation")),t.push(new xt("metageneration")),t.push(new xt("name","fullPath",!0));function e(s,o){return BL(o)}const n=new xt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new xt("size");return i.xform=r,t.push(i),t.push(new xt("timeCreated")),t.push(new xt("updated")),t.push(new xt("md5Hash",null,!0)),t.push(new xt("cacheControl",null,!0)),t.push(new xt("contentDisposition",null,!0)),t.push(new xt("contentEncoding",null,!0)),t.push(new xt("contentLanguage",null,!0)),t.push(new xt("contentType",null,!0)),t.push(new xt("metadata","customMetadata",!0)),wc=t,wc}function WL(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Gt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function qL(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return WL(r,t),r}function KL(t,e,n){const r=II(e);return r===null?null:qL(t,r,n)}function GL(t,e,n,r){const i=II(e);if(i===null||!EI(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),m=SI(f,n,r),v=TI({alt:"media",token:c});return m+v})[0]}class QL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){if(!t)throw _I()}function XL(t,e){function n(r,i){const s=KL(t,i,e);return YL(s!==null),GL(s,i,t.host,t._protocol)}return n}function JL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_L():i=vL():n.getStatus()===402?i=yL(t.bucket):n.getStatus()===403?i=wL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function ZL(t){const e=JL(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=gL(t.path)),s.serverResponse=i.serverResponse,s}return n}function e4(t,e,n){const r=e.fullServerUrl(),i=SI(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new QL(i,s,XL(t,n),o);return l.errorHandler=ZL(e),l}class t4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$i.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$i.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$i.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ho("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ho("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ho("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ho("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ho("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class n4 extends t4{initXhr(){this.xhr_.responseType="text"}}function r4(){return new n4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this._service=e,n instanceof Gt?this._location=n:this._location=Gt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ji(e,n)}get root(){const e=new Gt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CI(this._location.path)}get storage(){return this._service}get parent(){const e=FL(this._location.path);if(e===null)return null;const n=new Gt(this._location.bucket,e);return new Ji(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RL(e)}}function i4(t){t._throwIfRoot("getDownloadURL");const e=e4(t.storage,t._location,HL());return t.storage.makeRequestWithTokens(e,r4).then(n=>{if(n===null)throw xL();return n})}function s4(t,e){const n=UL(t._location.path,e),r=new Gt(t._location.bucket,n);return new Ji(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){return/^[A-Za-z]+:\/\//.test(t)}function a4(t,e){return new Ji(t,e)}function xI(t,e){if(t instanceof Iy){const n=t;if(n._bucket==null)throw CL();const r=new Ji(n,n._bucket);return e!=null?xI(r,e):r}else return e!==void 0?s4(t,e):t}function l4(t,e){if(e&&o4(e)){if(t instanceof Iy)return a4(t,e);throw gm("To use ref(service, url), the first argument must be a Storage instance.")}else return xI(t,e)}function s0(t,e){const n=e==null?void 0:e[vI];return n==null?null:Gt.makeFromBucketSpec(n,t)}function c4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:kT(i,t.app.options.projectId))}class Iy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=yI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pL,this._maxUploadRetryTime=mL,this._requests=new Set,i!=null?this._bucket=Gt.makeFromBucketSpec(i,this._host):this._bucket=s0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gt.makeFromBucketSpec(this._url,e):this._bucket=s0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){i0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){i0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ji(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new bL(wI());{const o=VL(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const o0="@firebase/storage",a0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="storage";function Rl(t){return t=Fe(t),i4(t)}function bl(t,e){return t=Fe(t),l4(t,e)}function u4(t=py(),e){t=Fe(t);const r=Qd(t,RI).getImmediate({identifier:e}),i=bT("storage");return i&&d4(r,...i),r}function d4(t,e,n,r={}){c4(t,e,n,r)}function h4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Iy(n,r,i,e,os)}function f4(){Qi(new ii(RI,h4,"PUBLIC").setMultipleInstances(!0)),zn(o0,a0,""),zn(o0,a0,"esm2017")}f4();var p4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,Cy=Cy||{},Q=p4||self;function eh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function m4(t){return Object.prototype.hasOwnProperty.call(t,Vf)&&t[Vf]||(t[Vf]=++g4)}var Vf="closure_uid_"+(1e9*Math.random()>>>0),g4=0;function y4(t,e,n){return t.call.apply(t.bind,arguments)}function v4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Et(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Et=y4:Et=v4,Et.apply(null,arguments)}function Ec(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function fi(){this.s=this.s,this.o=this.o}var _4=0;fi.prototype.s=!1;fi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),_4!=0)&&m4(this)};fi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function l0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(eh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function St(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var w4=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Xa(t){return/^[\s\xa0]*$/.test(t)}function th(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Mn(t){return th().indexOf(t)!=-1}function Ry(t){return Ry[" "](t),t}Ry[" "]=function(){};function E4(t,e){var n=fM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var S4=Mn("Opera"),no=Mn("Trident")||Mn("MSIE"),PI=Mn("Edge"),ym=PI||no,AI=Mn("Gecko")&&!(th().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge"))&&!(Mn("Trident")||Mn("MSIE"))&&!Mn("Edge"),T4=th().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge");function kI(){var t=Q.document;return t?t.documentMode:void 0}var vm;e:{var Ff="",Uf=function(){var t=th();if(AI)return/rv:([^\);]+)(\)|;)/.exec(t);if(PI)return/Edge\/([\d\.]+)/.exec(t);if(no)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(T4)return/WebKit\/(\S+)/.exec(t);if(S4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Uf&&(Ff=Uf?Uf[1]:""),no){var zf=kI();if(zf!=null&&zf>parseFloat(Ff)){vm=String(zf);break e}}vm=Ff}var _m;if(Q.document&&no){var c0=kI();_m=c0||parseInt(vm,10)||void 0}else _m=void 0;var I4=_m;function Ja(t,e){if(St.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(AI){e:{try{Ry(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:C4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ja.$.h.call(this)}}et(Ja,St);var C4={2:"touch",3:"pen",4:"mouse"};Ja.prototype.h=function(){Ja.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Al="closure_listenable_"+(1e6*Math.random()|0),x4=0;function R4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++x4,this.fa=this.ia=!1}function nh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function by(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function b4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function NI(t){const e={};for(const n in t)e[n]=t[n];return e}const u0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<u0.length;s++)n=u0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rh(t){this.src=t,this.g={},this.h=0}rh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Em(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new R4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function wm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=bI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(nh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Em(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Py="closure_lm_"+(1e6*Math.random()|0),Bf={};function DI(t,e,n,r,i){if(r&&r.once)return LI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)DI(t,e[s],n,r,i);return null}return n=Ny(n),t&&t[Al]?t.O(e,n,Pl(r)?!!r.capture:!!r,i):jI(t,e,n,!1,r,i)}function jI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Pl(i)?!!i.capture:!!i,l=ky(t);if(l||(t[Py]=l=new rh(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=P4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)w4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($I(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function P4(){function t(n){return e.call(t.src,t.listener,n)}const e=A4;return t}function LI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)LI(t,e[s],n,r,i);return null}return n=Ny(n),t&&t[Al]?t.P(e,n,Pl(r)?!!r.capture:!!r,i):jI(t,e,n,!0,r,i)}function MI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)MI(t,e[s],n,r,i);else r=Pl(r)?!!r.capture:!!r,n=Ny(n),t&&t[Al]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Em(s,n,r,i),-1<n&&(nh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ky(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Em(e,n,r,i)),(n=-1<t?e[t]:null)&&Ay(n))}function Ay(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Al])wm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($I(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ky(e))?(wm(n,t),n.h==0&&(n.src=null,e[Py]=null)):nh(t)}}}function $I(t){return t in Bf?Bf[t]:Bf[t]="on"+t}function A4(t,e){if(t.fa)t=!0;else{e=new Ja(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ay(t),t=n.call(r,e)}return t}function ky(t){return t=t[Py],t instanceof rh?t:null}var Hf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ny(t){return typeof t=="function"?t:(t[Hf]||(t[Hf]=function(e){return t.handleEvent(e)}),t[Hf])}function Je(){fi.call(this),this.i=new rh(this),this.S=this,this.J=null}et(Je,fi);Je.prototype[Al]=!0;Je.prototype.removeEventListener=function(t,e,n,r){MI(this,t,e,n,r)};function lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new St(e,t);else if(e instanceof St)e.target=e.target||t;else{var i=e;e=new St(r,t),OI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Sc(o,r,!0,e)&&i}if(o=e.g=t,i=Sc(o,r,!0,e)&&i,i=Sc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Sc(o,r,!1,e)&&i}Je.prototype.N=function(){if(Je.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nh(n[r]);delete t.g[e],t.h--}}this.J=null};Je.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Je.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Sc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,a=o.la||o.src;o.ia&&wm(t.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Oy=Q.JSON.stringify;class k4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function N4(){var t=Dy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class O4{constructor(){this.h=this.g=null}add(e,n){const r=VI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var VI=new k4(()=>new D4,t=>t.reset());class D4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function j4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function L4(t){Q.setTimeout(()=>{throw t},0)}let Za,el=!1,Dy=new O4,FI=()=>{const t=Q.Promise.resolve(void 0);Za=()=>{t.then(M4)}};var M4=()=>{for(var t;t=N4();){try{t.h.call(t.g)}catch(n){L4(n)}var e=VI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}el=!1};function ih(t,e){Je.call(this),this.h=t||1,this.g=e||Q,this.j=Et(this.qb,this),this.l=Date.now()}et(ih,Je);N=ih.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(jy(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){ih.$.N.call(this),jy(this),delete this.g};function Ly(t,e,n){if(typeof t=="function")n&&(t=Et(t,n));else if(t&&typeof t.handleEvent=="function")t=Et(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function UI(t){t.g=Ly(()=>{t.g=null,t.i&&(t.i=!1,UI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class $4 extends fi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UI(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(t){fi.call(this),this.h=t,this.g={}}et(tl,fi);var d0=[];function zI(t,e,n,r){Array.isArray(n)||(n&&(d0[0]=n.toString()),n=d0);for(var i=0;i<n.length;i++){var s=DI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function BI(t){by(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ay(e)},t),t.g={}}tl.prototype.N=function(){tl.$.N.call(this),BI(this)};tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sh(){this.g=!0}sh.prototype.Ea=function(){this.g=!1};function V4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var c=l[a].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function F4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function js(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+z4(t,n)+(r?" "+r:"")})}function U4(t,e){t.info(function(){return"TIMEOUT: "+e})}sh.prototype.info=function(){};function z4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Oy(n)}catch{return e}}var as={},h0=null;function oh(){return h0=h0||new Je}as.Ta="serverreachability";function HI(t){St.call(this,as.Ta,t)}et(HI,St);function nl(t){const e=oh();lt(e,new HI(e))}as.STAT_EVENT="statevent";function WI(t,e){St.call(this,as.STAT_EVENT,t),this.stat=e}et(WI,St);function bt(t){const e=oh();lt(e,new WI(e,t))}as.Ua="timingevent";function qI(t,e){St.call(this,as.Ua,t),this.size=e}et(qI,St);function kl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var ah={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function My(){}My.prototype.h=null;function f0(t){return t.h||(t.h=t.i())}function GI(){}var Nl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $y(){St.call(this,"d")}et($y,St);function Vy(){St.call(this,"c")}et(Vy,St);var Sm;function lh(){}et(lh,My);lh.prototype.g=function(){return new XMLHttpRequest};lh.prototype.i=function(){return{}};Sm=new lh;function Ol(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new tl(this),this.P=B4,t=ym?125:void 0,this.V=new ih(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QI}function QI(){this.i=null,this.g="",this.h=!1}var B4=45e3,YI={},Tm={};N=Ol.prototype;N.setTimeout=function(t){this.P=t};function Im(t,e,n){t.L=1,t.A=uh(mr(e)),t.u=n,t.S=!0,XI(t,null)}function XI(t,e){t.G=Date.now(),Dl(t),t.B=mr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),sC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new QI,t.g=xC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new $4(Et(t.Pa,t,t.g),t.O)),zI(t.U,t.g,"readystatechange",t.nb),e=t.I?NI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),nl(),V4(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;const e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const u=$n(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||ym||this.g&&(this.h.h||this.g.ja()||y0(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?nl(3):nl(2)),ch(this);var n=this.g.da();this.ca=n;t:if(JI(this)){var r=y0(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),ya(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,F4(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xa(l)){var c=l;break t}}c=null}if(n=c)js(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cm(this,n);else{this.i=!1,this.s=3,bt(12),Ai(this),ya(this);break e}}this.S?(ZI(this,u,o),ym&&this.i&&u==3&&(zI(this.U,this.V,"tick",this.mb),this.V.start())):(js(this.j,this.m,o,null),Cm(this,o)),u==4&&Ai(this),this.i&&!this.J&&(u==4?SC(this.l,this):(this.i=!1,Dl(this)))}else uM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Ai(this),ya(this)}}}catch{}finally{}};function JI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ZI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=H4(t,n),i==Tm){e==4&&(t.s=4,bt(14),r=!1),js(t.j,t.m,null,"[Incomplete Response]");break}else if(i==YI){t.s=4,bt(15),js(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else js(t.j,t.m,i,null),Cm(t,i);JI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,bt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wy(e),e.M=!0,bt(11))):(js(t.j,t.m,n,"[Invalid Chunked Response]"),Ai(t),ya(t))}N.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.o<e.length&&(ch(this),ZI(this,t,e),this.i&&t!=4&&Dl(this))}};function H4(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Tm:(n=Number(e.substring(n,r)),isNaN(n)?YI:(r+=1,r+n>e.length?Tm:(e=e.slice(r,r+n),t.o=r+n,e)))}N.cancel=function(){this.J=!0,Ai(this)};function Dl(t){t.Y=Date.now()+t.P,eC(t,t.P)}function eC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=kl(Et(t.lb,t),e)}function ch(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(U4(this.j,this.B),this.L!=2&&(nl(),bt(17)),Ai(this),this.s=2,ya(this)):eC(this,this.Y-t)};function ya(t){t.l.H==0||t.J||SC(t.l,t)}function Ai(t){ch(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,jy(t.V),BI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||xm(n.i,t))){if(!t.K&&xm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rd(n),ph(n);else break e;Hy(n),bt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=kl(Et(n.ib,n),6e3));if(1>=lC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ki(n,11)}else if((t.K||n.g==t)&&rd(n),!Xa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Fy(s,s.h),s.h=null))}if(r.F){const E=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Ee(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=CC(r,r.J?r.pa:null,r.Y),o.K){cC(r.i,o);var l=o,a=r.L;a&&l.setTimeout(a),l.C&&(ch(l),Dl(l)),r.g=o}else wC(r);0<n.j.length&&mh(n)}else c[0]!="stop"&&c[0]!="close"||ki(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ki(n,7):By(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}nl(4)}catch{}}function W4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(eh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function q4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(eh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function tC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(eh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=q4(t),r=W4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var nC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vi){this.h=t.h,td(this,t.j),this.s=t.s,this.g=t.g,nd(this,t.m),this.l=t.l;var e=t.i,n=new rl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),p0(this,n),this.o=t.o}else t&&(e=String(t).match(nC))?(this.h=!1,td(this,e[1]||"",!0),this.s=ta(e[2]||""),this.g=ta(e[3]||"",!0),nd(this,e[4]),this.l=ta(e[5]||"",!0),p0(this,e[6]||"",!0),this.o=ta(e[7]||"")):(this.h=!1,this.i=new rl(null,this.h))}Vi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(na(e,m0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(na(e,m0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(na(n,n.charAt(0)=="/"?Y4:Q4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",na(n,J4)),t.join("")};function mr(t){return new Vi(t)}function td(t,e,n){t.j=n?ta(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function p0(t,e,n){e instanceof rl?(t.i=e,Z4(t.i,t.h)):(n||(e=na(e,X4)),t.i=new rl(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function uh(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ta(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function na(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,G4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function G4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var m0=/[#\/\?@]/g,Q4=/[#\?:]/g,Y4=/[#\?]/g,X4=/[#\?@]/g,J4=/#/g;function rl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pi(t){t.g||(t.g=new Map,t.h=0,t.i&&K4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=rl.prototype;N.add=function(t,e){pi(this),this.i=null,t=So(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rC(t,e){pi(t),e=So(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iC(t,e){return pi(t),e=So(t,e),t.g.has(e)}N.forEach=function(t,e){pi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};N.ta=function(){pi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};N.Z=function(t){pi(this);let e=[];if(typeof t=="string")iC(this,t)&&(e=e.concat(this.g.get(So(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return pi(this),this.i=null,t=So(this,t),iC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sC(t,e,n){rC(t,e),0<n.length&&(t.i=null,t.g.set(So(t,e),xy(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function So(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Z4(t,e){e&&!t.j&&(pi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rC(this,r),sC(this,i,n))},t)),t.j=e}var eM=class{constructor(t,e){this.g=t,this.map=e}};function oC(t){this.l=t||tM,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tM=10;function aC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lC(t){return t.h?1:t.g?t.g.size:0}function xm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Fy(t,e){t.g?t.g.add(e):t.h=e}function cC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oC.prototype.cancel=function(){if(this.i=uC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xy(t.i)}var nM=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function rM(){this.g=new nM}function iM(t,e,n){const r=n||"";try{tC(t,function(i,s){let o=i;Pl(i)&&(o=Oy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function sM(t,e){const n=new sh;if(Q.Image){const r=new Image;r.onload=Ec(Tc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ec(Tc,n,r,"TestLoadImage: error",!1,e),r.onabort=Ec(Tc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ec(Tc,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Tc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function dh(t){this.l=t.ec||null,this.j=t.ob||!1}et(dh,My);dh.prototype.g=function(){return new hh(this.l,this.j)};dh.prototype.i=function(t){return function(){return t}}({});function hh(t,e){Je.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Uy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(hh,Je);var Uy=0;N=hh.prototype;N.open=function(t,e){if(this.readyState!=Uy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,il(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jl(this)),this.readyState=Uy};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function dC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jl(this):il(this),this.readyState==3&&dC(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,jl(this))};N.Ya=function(t){this.g&&(this.response=t,jl(this))};N.ka=function(){this.g&&jl(this)};function jl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,il(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function il(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(hh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var oM=Q.JSON.parse;function Ne(t){Je.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hC,this.L=this.M=!1}et(Ne,Je);var hC="",aM=/^https?$/i,lM=["POST","PUT"];N=Ne.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sm.g(),this.C=this.u?f0(this.u):f0(Sm),this.g.onreadystatechange=Et(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){g0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=bI(lM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mC(this),0<this.B&&((this.L=cM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.ua,this)):this.A=Ly(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){g0(this,s)}};function cM(t){return no&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof Cy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function g0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fC(t),fh(t)}function fC(t){t.F||(t.F=!0,lt(t,"complete"),lt(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lt(this,"complete"),lt(this,"abort"),fh(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fh(this,!0)),Ne.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?pC(this):this.kb())};N.kb=function(){pC(this)};function pC(t){if(t.h&&typeof Cy<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)Ly(t.La,0,t);else if(lt(t,"readystatechange"),$n(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(nC)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!aM.test(i?i.toLowerCase():"")}n=r}if(n)lt(t,"complete"),lt(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",fC(t)}}finally{fh(t)}}}}function fh(t,e){if(t.g){mC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function mC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),oM(e)}};function y0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case hC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function uM(t){const e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Xa(t[r]))continue;var n=j4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}b4(e,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function gC(t){let e="";return by(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function zy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ee(t,e,n))}function Wo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yC(t){this.Ga=0,this.j=[],this.l=new sh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wo("baseRetryDelayMs",5e3,t),this.hb=Wo("retryDelaySeedMs",1e4,t),this.eb=Wo("forwardChannelMaxRetries",2,t),this.xa=Wo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new oC(t&&t.concurrentRequestLimit),this.Ja=new rM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=yC.prototype;N.ra=8;N.H=1;function By(t){if(vC(t),t.H==3){var e=t.W++,n=mr(t.I);if(Ee(n,"SID",t.K),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),Ll(t,n),e=new Ol(t,t.l,e),e.L=2,e.A=uh(mr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=xC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Dl(e)}IC(t)}function ph(t){t.g&&(Wy(t),t.g.cancel(),t.g=null)}function vC(t){ph(t),t.u&&(Q.clearTimeout(t.u),t.u=null),rd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function mh(t){if(!aC(t.i)&&!t.m){t.m=!0;var e=t.Na;Za||FI(),el||(Za(),el=!0),Dy.add(e,t),t.C=0}}function dM(t,e){return lC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=kl(Et(t.Na,t,e),TC(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ol(this,this.l,t);let s=this.s;if(this.U&&(s?(s=NI(s),OI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_C(this,i,e),n=mr(this.I),Ee(n,"RID",t),Ee(n,"CVER",22),this.F&&Ee(n,"X-HTTP-Session-Id",this.F),Ll(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(gC(s)))+"&"+e:this.o&&zy(n,this.o,s)),Fy(this.i,i),this.bb&&Ee(n,"TYPE","init"),this.P?(Ee(n,"$req",e),Ee(n,"SID","null"),i.aa=!0,Im(i,n,null)):Im(i,n,e),this.H=2}}else this.H==3&&(t?v0(this,t):this.j.length==0||aC(this.i)||v0(this))};function v0(t,e){var n;e?n=e.m:n=t.W++;const r=mr(t.I);Ee(r,"SID",t.K),Ee(r,"RID",n),Ee(r,"AID",t.V),Ll(t,r),t.o&&t.s&&zy(r,t.o,t.s),n=new Ol(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=_C(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Fy(t.i,n),Im(n,r,e)}function Ll(t,e){t.na&&by(t.na,function(n,r){Ee(e,r,n)}),t.h&&tC({},function(n,r){Ee(e,r,n)})}function _C(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Et(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let c=i[a].g;const u=i[a].map;if(c-=s,0>c)s=Math.max(0,i[a].g-100),l=!1;else try{iM(u,o,"req"+c+"_")}catch{r&&r(u)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function wC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Za||FI(),el||(Za(),el=!0),Dy.add(e,t),t.A=0}}function Hy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=kl(Et(t.Ma,t),TC(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,EC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=kl(Et(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bt(10),ph(this),EC(this))};function Wy(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function EC(t){t.g=new Ol(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=mr(t.wa);Ee(e,"RID","rpc"),Ee(e,"SID",t.K),Ee(e,"AID",t.V),Ee(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ee(e,"TO",t.qa),Ee(e,"TYPE","xmlhttp"),Ll(t,e),t.o&&t.s&&zy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=uh(mr(e)),n.u=null,n.S=!0,XI(n,t)}N.ib=function(){this.v!=null&&(this.v=null,ph(this),Hy(this),bt(19))};function rd(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function SC(t,e){var n=null;if(t.g==e){rd(t),Wy(t),t.g=null;var r=2}else if(xm(t.i,e))n=e.F,cC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=oh(),lt(r,new qI(r,n)),mh(t)}else wC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&dM(t,e)||r==2&&Hy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ki(t,5);break;case 4:ki(t,10);break;case 3:ki(t,6);break;default:ki(t,2)}}}function TC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ki(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Et(t.pb,t);n||(n=new Vi("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||td(n,"https"),uh(n)),sM(n.toString(),r)}else bt(2);t.H=0,t.h&&t.h.za(e),IC(t),vC(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bt(2)):(this.l.info("Failed to ping google.com"),bt(1))};function IC(t){if(t.H=0,t.ma=[],t.h){const e=uC(t.i);(e.length!=0||t.j.length!=0)&&(l0(t.ma,e),l0(t.ma,t.j),t.i.i.length=0,xy(t.j),t.j.length=0),t.h.ya()}}function CC(t,e,n){var r=n instanceof Vi?mr(n):new Vi(n);if(r.g!="")e&&(r.g=e+"."+r.g),nd(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Vi(null);r&&td(s,r),e&&(s.g=e),i&&nd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ee(r,n,e),Ee(r,"VER",t.ra),Ll(t,r),r}function xC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ne(new dh({ob:n})):new Ne(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function RC(){}N=RC.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function id(){if(no&&!(10<=Number(I4)))throw Error("Environmental error: no available transport.")}id.prototype.g=function(t,e){return new en(t,e)};function en(t,e){Je.call(this),this.g=new yC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new To(this)}et(en,Je);en.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=CC(t,null,t.Y),mh(t)};en.prototype.close=function(){By(this.g)};en.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Oy(t),t=n);e.j.push(new eM(e.fb++,t)),e.H==3&&mh(e)};en.prototype.N=function(){this.g.h=null,delete this.j,By(this.g),delete this.g,en.$.N.call(this)};function bC(t){$y.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}et(bC,$y);function PC(){Vy.call(this),this.status=1}et(PC,Vy);function To(t){this.g=t}et(To,RC);To.prototype.Ba=function(){lt(this.g,"a")};To.prototype.Aa=function(t){lt(this.g,new bC(t))};To.prototype.za=function(t){lt(this.g,new PC)};To.prototype.ya=function(){lt(this.g,"b")};function hM(){this.blockSize=-1}function Pn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}et(Pn,hM);Pn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Wf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Pn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Wf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Wf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Wf(this,r),i=0;break}}this.h=i,this.i+=e};Pn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var fM={};function qy(t){return-128<=t&&128>t?E4(t,function(e){return new me([e|0],0>e?-1:0)}):new me([t|0],0>t?-1:0)}function Vn(t){if(isNaN(t)||!isFinite(t))return Ws;if(0>t)return it(Vn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Rm;return new me(e,0)}function AC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return it(AC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Vn(Math.pow(e,8)),r=Ws,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Vn(Math.pow(e,s)),r=r.R(s).add(Vn(o))):(r=r.R(n),r=r.add(Vn(o)))}return r}var Rm=4294967296,Ws=qy(0),bm=qy(1),_0=qy(16777216);N=me.prototype;N.ea=function(){if(ln(this))return-it(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Rm+r)*e,e*=Rm}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(or(this))return"0";if(ln(this))return"-"+it(this).toString(t);for(var e=Vn(Math.pow(t,6)),n=this,r="";;){var i=od(n,e).g;n=sd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,or(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function or(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ln(t){return t.h==-1}N.X=function(t){return t=sd(this,t),ln(t)?-1:or(t)?0:1};function it(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new me(n,~t.h).add(bm)}N.abs=function(){return ln(this)?it(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new me(n,n[n.length-1]&-2147483648?-1:0)};function sd(t,e){return t.add(it(e))}N.R=function(t){if(or(this)||or(t))return Ws;if(ln(this))return ln(t)?it(this).R(it(t)):it(it(this).R(t));if(ln(t))return it(this.R(it(t)));if(0>this.X(_0)&&0>t.X(_0))return Vn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,a=t.D(i)&65535;n[2*r+2*i]+=o*a,Ic(n,2*r+2*i),n[2*r+2*i+1]+=s*a,Ic(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Ic(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Ic(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new me(n,0)};function Ic(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function qo(t,e){this.g=t,this.h=e}function od(t,e){if(or(e))throw Error("division by zero");if(or(t))return new qo(Ws,Ws);if(ln(t))return e=od(it(t),e),new qo(it(e.g),it(e.h));if(ln(e))return e=od(t,it(e)),new qo(it(e.g),e.h);if(30<t.g.length){if(ln(t)||ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=bm,r=e;0>=r.X(t);)n=w0(n),r=w0(r);var i=ys(n,1),s=ys(r,1);for(r=ys(r,2),n=ys(n,2);!or(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ys(r,1),n=ys(n,1)}return e=sd(t,i.R(e)),new qo(i,e)}for(i=Ws;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Vn(n),o=s.R(e);ln(o)||0<o.X(t);)n-=r,s=Vn(n),o=s.R(e);or(s)&&(s=bm),i=i.add(s),t=sd(t,o)}return new qo(i,t)}N.gb=function(t){return od(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new me(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new me(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new me(n,this.h^t.h)};function w0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new me(n,t.h)}function ys(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new me(i,t.h)}id.prototype.createWebChannel=id.prototype.g;en.prototype.send=en.prototype.u;en.prototype.open=en.prototype.m;en.prototype.close=en.prototype.close;ah.NO_ERROR=0;ah.TIMEOUT=8;ah.HTTP_ERROR=6;KI.COMPLETE="complete";GI.EventType=Nl;Nl.OPEN="a";Nl.CLOSE="b";Nl.ERROR="c";Nl.MESSAGE="d";Je.prototype.listen=Je.prototype.O;Ne.prototype.listenOnce=Ne.prototype.P;Ne.prototype.getLastError=Ne.prototype.Sa;Ne.prototype.getLastErrorCode=Ne.prototype.Ia;Ne.prototype.getStatus=Ne.prototype.da;Ne.prototype.getResponseJson=Ne.prototype.Wa;Ne.prototype.getResponseText=Ne.prototype.ja;Ne.prototype.send=Ne.prototype.ha;Ne.prototype.setWithCredentials=Ne.prototype.Oa;Pn.prototype.digest=Pn.prototype.l;Pn.prototype.reset=Pn.prototype.reset;Pn.prototype.update=Pn.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=Vn;me.fromString=AC;var pM=function(){return new id},mM=function(){return oh()},qf=ah,gM=KI,yM=as,E0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cc=GI,vM=Ne,_M=Pn,qs=me;const S0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new hy("@firebase/firestore");function Ko(){return Zi.logLevel}function k(t,...e){if(Zi.logLevel<=se.DEBUG){const n=e.map(Ky);Zi.debug(`Firestore (${Io}): ${t}`,...n)}}function Gn(t,...e){if(Zi.logLevel<=se.ERROR){const n=e.map(Ky);Zi.error(`Firestore (${Io}): ${t}`,...n)}}function ro(t,...e){if(Zi.logLevel<=se.WARN){const n=e.map(Ky);Zi.warn(`Firestore (${Io}): ${t}`,...n)}}function Ky(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+t;throw Gn(e),new Error(e)}function ve(t,e){t||G()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class EM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SM{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new kC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new yt(e)}}class TM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new CM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=RM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function io(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ie(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Ie(0,0))}static max(){return new Y(new Ie(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends sl{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends sl{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new D(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new D(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new D(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new D(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(Se.fromString(e))}static fromName(e){return new F(Se.fromString(e).popFirst(5))}static empty(){return new F(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new Se(e.slice()))}}function PM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new si(i,F.empty(),e)}function AM(t){return new si(t.readTime,t.key,-1)}class si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new si(Y.min(),F.empty(),-1)}static max(){return new si(Y.max(),F.empty(),-1)}}function kM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==NM)throw t;k("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let a=0;a<s;a++){const c=a;n(e[c]).next(u=>{o[c]=u,++l,l===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new b((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new va(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Qy(r.target.error);this.V.reject(new va(e,i))}}static open(e,n,r,i){try{return new Gy(n,e.transaction(i,r))}catch(s){throw new va(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(k("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new jM(n)}}class Ni{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ni.S(Ve())===12.2&&Gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return k("SimpleDb","Removing database:",e),xi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!NT())return!1;if(Ni.C())return!0;const e=Ve(),n=Ni.S(e),r=0<n&&n<10,i=Ni.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(k("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new va(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new D(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new D(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new va(e,o))},i.onupgradeneeded=s=>{k("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{k("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=Gy.open(this.db,e,s?"readonly":"readwrite",r),a=i(l).next(c=>(l.g(),c)).catch(c=>(l.abort(c),b.reject(c))).toPromise();return a.catch(()=>{}),await l.m,a}catch(l){const a=l,c=a.name!=="FirebaseError"&&o<3;if(k("SimpleDb","Transaction failed with error:",a.message,"Retrying:",c),this.close(),!c)return Promise.reject(a)}}}close(){this.db&&this.db.close(),this.db=void 0}}class DM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return xi(this.k.delete())}}class va extends D{constructor(e,n){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function $l(t){return t.name==="IndexedDbTransactionError"}class jM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(k("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xi(r)}add(e){return k("SimpleDb","ADD",this.store.name,e,e),xi(this.store.add(e))}get(e){return xi(this.store.get(e)).next(n=>(n===void 0&&(n=null),k("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return k("SimpleDb","DELETE",this.store.name,e),xi(this.store.delete(e))}count(){return k("SimpleDb","COUNT",this.store.name),xi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new b((o,l)=>{s.onerror=a=>{l(a.target.error)},s.onsuccess=a=>{o(a.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(l,a)=>{o.push(a)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new b((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){k("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new b((r,i)=>{n.onerror=s=>{const o=Qy(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new b((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const a=new DM(l),c=n(l.primaryKey,l.value,a);if(c instanceof b){const u=c.catch(h=>(a.done(),b.reject(h)));r.push(u)}a.isDone?i():a.$===null?l.continue():l.continue(a.$)}}).next(()=>b.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function xi(t){return new b((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Qy(r.target.error);n(i)}})}let T0=!1;function Qy(t){const e=Ni.S(Ve());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new D("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return T0||(T0=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Yy._e=-1;function gh(t){return t==null}function ad(t){return t===0&&1/t==-1/0}function LM(t){return typeof t=="number"&&Number.isInteger(t)&&!ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rt.RED,this.left=i??rt.EMPTY,this.right=s??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new ct(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new DC("Invalid base64 string: "+s):s}}(e);return new It(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const MM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(t){if(ve(!!t),typeof t=="string"){let e=0;const n=MM.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function es(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jy(t){const e=t.mapValue.fields.__previous_value__;return Xy(e)?Jy(e):e}function ol(t){const e=oi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,r,i,s,o,l,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=c}}class al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xy(t)?4:VM(t)?9007199254740991:10:G()}function Qn(t,e){if(t===e)return!0;const n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ol(t).isEqual(ol(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=oi(i.timestampValue),l=oi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return es(i.bytesValue).isEqual(es(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=je(i.doubleValue),l=je(s.doubleValue);return o===l?ad(o)===ad(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return io(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(I0(o)!==I0(l))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(l[a]===void 0||!Qn(o[a],l[a])))return!1;return!0}(t,e);default:return G()}}function ll(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function so(t,e){if(t===e)return 0;const n=ts(t),r=ts(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=je(s.integerValue||s.doubleValue),a=je(o.integerValue||o.doubleValue);return l<a?-1:l>a?1:l===a?0:isNaN(l)?isNaN(a)?0:-1:1}(t,e);case 3:return x0(t.timestampValue,e.timestampValue);case 4:return x0(ol(t),ol(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(s,o){const l=es(s),a=es(o);return l.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),a=o.split("/");for(let c=0;c<l.length&&c<a.length;c++){const u=de(l[c],a[c]);if(u!==0)return u}return de(l.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=de(je(s.latitude),je(o.latitude));return l!==0?l:de(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],a=o.values||[];for(let c=0;c<l.length&&c<a.length;++c){const u=so(l[c],a[c]);if(u)return u}return de(l.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Rc.mapValue&&o===Rc.mapValue)return 0;if(s===Rc.mapValue)return 1;if(o===Rc.mapValue)return-1;const l=s.fields||{},a=Object.keys(l),c=o.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let h=0;h<a.length&&h<u.length;++h){const f=de(a[h],u[h]);if(f!==0)return f;const m=so(l[a[h]],c[u[h]]);if(m!==0)return m}return de(a.length,u.length)}(t.mapValue,e.mapValue);default:throw G()}}function x0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=oi(t),r=oi(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function oo(t){return Pm(t)}function Pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return F.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Pm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Pm(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function R0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Am(t){return!!t&&"integerValue"in t}function Zy(t){return!!t&&"arrayValue"in t}function b0(t){return!!t&&"nullValue"in t}function P0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eu(t){return!!t&&"mapValue"in t}function _a(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_a(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_a(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=_a(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mt(_a(this.value))}}function jC(t){const e=[];return ls(t.fields,(n,r)=>{const i=new ot([n]);if(eu(r)){const s=jC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new _t(e,0,Y.min(),Y.min(),Y.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,i){return new _t(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new _t(e,2,n,Y.min(),Y.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,Y.min(),Y.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.position=e,this.inclusive=n}}function A0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=F.comparator(F.fromName(o.referenceValue),n.key):r=so(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function k0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function FM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{}class $e extends LC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zM(e,n,r):n==="array-contains"?new WM(e,r):n==="in"?new qM(e,r):n==="not-in"?new KM(e,r):n==="array-contains-any"?new GM(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BM(e,r):new HM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(so(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends LC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new An(e,n)}matches(e){return MC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function MC(t){return t.op==="and"}function $C(t){return UM(t)&&MC(t)}function UM(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function km(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+oo(t.value);if($C(t))return t.filters.map(e=>km(e)).join(",");{const e=t.filters.map(n=>km(n)).join(",");return`${t.op}(${e})`}}function VC(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)}(t,e):t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&VC(o,i.filters[l]),!0):!1}(t,e):void G()}function FC(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(FC).join(" ,")+"}"}(t):"Filter"}class zM extends $e{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.matchesComparison(n)}}class BM extends $e{constructor(e,n){super(e,"in",n),this.keys=UC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HM extends $e{constructor(e,n){super(e,"not-in",n),this.keys=UC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class WM extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zy(n)&&ll(n.arrayValue,this.value)}}class qM extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ll(this.value.arrayValue,n)}}class KM extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ll(this.value.arrayValue,n)}}class GM extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ce=null}}function N0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QM(t,e,n,r,i,s,o)}function ev(t){const e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>km(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oo(r)).join(",")),e.ce=n}return e.ce}function tv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k0(t.startAt,e.startAt)&&k0(t.endAt,e.endAt)}function Nm(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function YM(t,e,n,r,i,s,o,l){return new Vl(t,e,n,r,i,s,o,l)}function nv(t){return new Vl(t)}function O0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zC(t){return t.collectionGroup!==null}function wa(t){const e=X(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ct(ot.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new cd(s,r))}),n.has(ot.keyField().canonicalString())||e.le.push(new cd(ot.keyField(),r))}return e.le}function qn(t){const e=X(t);return e.he||(e.he=XM(e,wa(t))),e.he}function XM(t,e){if(t.limitType==="F")return N0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new cd(i.field,s)});const n=t.endAt?new ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ld(t.startAt.position,t.startAt.inclusive):null;return N0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Om(t,e){const n=t.filters.concat([e]);return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dm(t,e,n){return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return tv(qn(t),qn(e))&&t.limitType===e.limitType}function BC(t){return`${ev(qn(t))}|lt:${t.limitType}`}function _s(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FC(i)).join(", ")}]`),gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oo(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function vh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):F.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,a){const c=A0(o,l,a);return o.inclusive?c<=0:c<0}(r.startAt,wa(r),i)||r.endAt&&!function(o,l,a){const c=A0(o,l,a);return o.inclusive?c>=0:c>0}(r.endAt,wa(r),i))}(t,e)}function JM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HC(t){return(e,n)=>{let r=!1;for(const i of wa(t)){const s=ZM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ZM(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(s,o,l){const a=o.data.field(s),c=l.data.field(s);return a!==null&&c!==null?so(a,c):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=new Pe(F.comparator);function gr(){return e$}const WC=new Pe(F.comparator);function ra(...t){let e=WC;for(const n of t)e=e.insert(n.key,n);return e}function qC(t){let e=WC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return Ea()}function KC(){return Ea()}function Ea(){return new Co(t=>t.toString(),(t,e)=>t.isEqual(e))}const t$=new Pe(F.comparator),n$=new ct(F.comparator);function re(...t){let e=n$;for(const n of t)e=e.add(n);return e}const r$=new ct(de);function i$(){return r$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function QC(t){return{integerValue:""+t}}function s$(t,e){return LM(e)?QC(e):GC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function o$(t,e,n){return t instanceof ud?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xy(s)&&(s=Jy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof cl?XC(t,e):t instanceof ul?JC(t,e):function(i,s){const o=YC(i,s),l=D0(o)+D0(i.Ie);return Am(o)&&Am(i.Ie)?QC(l):GC(i.serializer,l)}(t,e)}function a$(t,e,n){return t instanceof cl?XC(t,e):t instanceof ul?JC(t,e):n}function YC(t,e){return t instanceof dd?function(r){return Am(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ud extends _h{}class cl extends _h{constructor(e){super(),this.elements=e}}function XC(t,e){const n=ZC(e);for(const r of t.elements)n.some(i=>Qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ul extends _h{constructor(e){super(),this.elements=e}}function JC(t,e){let n=ZC(e);for(const r of t.elements)n=n.filter(i=>!Qn(i,r));return{arrayValue:{values:n}}}class dd extends _h{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function D0(t){return je(t.integerValue||t.doubleValue)}function ZC(t){return Zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function l$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cl&&i instanceof cl||r instanceof ul&&i instanceof ul?io(r.elements,i.elements,Qn):r instanceof dd&&i instanceof dd?Qn(r.Ie,i.Ie):r instanceof ud&&i instanceof ud}(t.transform,e.transform)}class c${constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wh{}function ex(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nx(t.key,Cn.none()):new Fl(t.key,t.data,Cn.none());{const n=t.data,r=Mt.empty();let i=new ct(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new mi(t.key,r,new Qt(i.toArray()),Cn.none())}}function u$(t,e,n){t instanceof Fl?function(i,s,o){const l=i.value.clone(),a=L0(i.fieldTransforms,s,o.transformResults);l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof mi?function(i,s,o){if(!tu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=L0(i.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(tx(i)),a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sa(t,e,n,r){return t instanceof Fl?function(s,o,l,a){if(!tu(s.precondition,o))return l;const c=s.value.clone(),u=M0(s.fieldTransforms,a,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof mi?function(s,o,l,a){if(!tu(s.precondition,o))return l;const c=M0(s.fieldTransforms,a,o),u=o.data;return u.setAll(tx(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,l){return tu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function d$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YC(r.transform,i||null);s!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,s))}return n||null}function j0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&io(r,i,(s,o)=>l$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fl extends wh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mi extends wh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function L0(t,e,n){const r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,a$(o,l,n[i]))}return r}function M0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,o$(s,o,e))}return r}class nx extends wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h$ extends wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&u$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const a=ex(o,l);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,r)=>j0(n,r))&&io(this.baseMutations,e.baseMutations,(n,r)=>j0(n,r))}}class rv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return t$}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new rv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,oe;function g$(t){switch(t){default:return G();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function rx(t){if(t===void 0)return Gn("GRPC error has no .code"),R.UNKNOWN;switch(t){case De.OK:return R.OK;case De.CANCELLED:return R.CANCELLED;case De.UNKNOWN:return R.UNKNOWN;case De.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case De.INTERNAL:return R.INTERNAL;case De.UNAVAILABLE:return R.UNAVAILABLE;case De.UNAUTHENTICATED:return R.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case De.NOT_FOUND:return R.NOT_FOUND;case De.ALREADY_EXISTS:return R.ALREADY_EXISTS;case De.PERMISSION_DENIED:return R.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case De.ABORTED:return R.ABORTED;case De.OUT_OF_RANGE:return R.OUT_OF_RANGE;case De.UNIMPLEMENTED:return R.UNIMPLEMENTED;case De.DATA_LOSS:return R.DATA_LOSS;default:return G()}}(oe=De||(De={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=new qs([4294967295,4294967295],0);function $0(t){const e=y$().encode(t),n=new _M;return n.update(e),new Uint8Array(n.digest())}function V0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qs([n,r],0),new qs([i,s],0)]}class iv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ia(`Invalid padding: ${n}`);if(r<0)throw new ia(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ia(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ia(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=qs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(qs.fromNumber(r)));return i.compare(v$)===1&&(i=new qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=$0(e),[r,i]=V0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new iv(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=$0(e),[r,i]=V0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eh(Y.min(),i,new Pe(de),gr(),re())}}class Ul{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ul(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class ix{constructor(e,n){this.targetId=e,this.fe=n}}class sx{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class F0{constructor(){this.ge=0,this.pe=z0(),this.ye=It.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=re(),n=re(),r=re();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Ul(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=z0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ve(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class _${constructor(e){this.Le=e,this.ke=new Map,this.qe=gr(),this.Qe=U0(),this.Ke=new Pe(de)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Nm(s))if(r===0){const o=new F(s.path);this.We(n,o,_t.newNoDocument(o,Y.min()))}else ve(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),a=l?this.et(l,e,o):1;if(a!==0){this.He(n);const c=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=es(r).toUint8Array()}catch(a){if(a instanceof DC)return ro("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{l=new iv(o,i,s)}catch(a){return ro(a instanceof ia?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&Nm(l.target)){const a=new F(l.target.path);this.qe.get(a)!==null||this.st(o,a)||this.We(o,a,_t.newNoDocument(a,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=re();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(a=>{const c=this.Ye(a);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Eh(e,n,this.Ke,this.qe,r);return this.qe=gr(),this.Qe=U0(),this.Ke=new Pe(de),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new F0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ct(de),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||k("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new F0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function U0(){return new Pe(F.comparator)}function z0(){return new Pe(F.comparator)}const w$={asc:"ASCENDING",desc:"DESCENDING"},E$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S$={and:"AND",or:"OR"};class T${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(t,e){return t.useProto3Json||gh(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ox(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I$(t,e){return hd(t,e.toTimestamp())}function Kn(t){return ve(!!t),Y.fromTimestamp(function(n){const r=oi(n);return new Ie(r.seconds,r.nanos)}(t))}function sv(t,e){return Lm(t,e).canonicalString()}function Lm(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ax(t){const e=Se.fromString(t);return ve(hx(e)),e}function Mm(t,e){return sv(t.databaseId,e.path)}function Kf(t,e){const n=ax(e);if(n.get(1)!==t.databaseId.projectId)throw new D(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(cx(n))}function lx(t,e){return sv(t.databaseId,e)}function C$(t){const e=ax(t);return e.length===4?Se.emptyPath():cx(e)}function $m(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cx(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B0(t,e,n){return{name:Mm(t,e),fields:n.value.mapValue.fields}}function x$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ve(u===void 0||typeof u=="string"),It.fromBase64String(u||"")):(ve(u===void 0||u instanceof Uint8Array),It.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const u=c.code===void 0?R.UNKNOWN:rx(c.code);return new D(u,c.message||"")}(o);n=new sx(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kf(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):Y.min(),l=new Mt({mapValue:{fields:r.document.fields}}),a=_t.newFoundDocument(i,s,o,l),c=r.targetIds||[],u=r.removedTargetIds||[];n=new nu(c,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kf(t,r.document),s=r.readTime?Kn(r.readTime):Y.min(),o=_t.newNoDocument(i,s),l=r.removedTargetIds||[];n=new nu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kf(t,r.document),s=r.removedTargetIds||[];n=new nu([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new m$(i,s),l=r.targetId;n=new ix(l,o)}}return n}function R$(t,e){let n;if(e instanceof Fl)n={update:B0(t,e.key,e.value)};else if(e instanceof nx)n={delete:Mm(t,e.key)};else if(e instanceof mi)n={update:B0(t,e.key,e.data),updateMask:L$(e.fieldMask)};else{if(!(e instanceof h$))return G();n={verify:Mm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dd)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:I$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function b$(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(Y.min())&&(o=Kn(s)),new c$(o,i.transformResults||[])}(n,e))):[]}function P$(t,e){return{documents:[lx(t,e.path)]}}function A$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lx(t,i);const s=function(c){if(c.length!==0)return dx(An.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:ws(f.field),direction:O$(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=jm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function k$(t){let e=C$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const f=ux(h);return f instanceof An&&$C(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new cd(Es(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,gh(f)?null:f}(n.limit));let a=null;n.startAt&&(a=function(h){const f=!!h.before,m=h.values||[];return new ld(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new ld(m,f)}(n.endAt)),YM(e,i,o,s,l,"F",a,c)}function N$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ux(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Es(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Es(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Es(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Es(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Es(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>ux(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function O$(t){return w$[t]}function D$(t){return E$[t]}function j$(t){return S$[t]}function ws(t){return{fieldPath:t.canonicalString()}}function Es(t){return ot.fromServerFormat(t.fieldPath)}function dx(t){return t instanceof $e?function(n){if(n.op==="=="){if(P0(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NAN"}};if(b0(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P0(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NOT_NAN"}};if(b0(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(n.field),op:D$(n.op),value:n.value}}}(t):t instanceof An?function(n){const r=n.getFilters().map(i=>dx(i));return r.length===1?r[0]:{compositeFilter:{op:j$(n.op),filters:r}}}(t):G()}function L$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,s=Y.min(),o=Y.min(),l=It.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.ct=e}}function $$(t){const e=k$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this._n=new F$}addToCollectionParentIndex(e,n){return this._n.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(si.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class F${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ao(0)}static Bn(){return new ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(){this.changes=new Co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sa(r.mutation,i,Qt.empty(),Ie.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ra();return s.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=gr();const o=Ea(),l=function(){return Ea()}();return n.forEach((a,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof mi)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Sa(u.mutation,c,u.mutation.getFieldMask(),Ie.now())):o.set(c.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return l.set(c,new z$(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ea();let i=new Pe((o,l)=>o-l),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const c=n.get(a);if(c===null)return;let u=r.get(a)||Qt.empty();u=l.applyToLocalView(c,u),r.set(a,u);const h=(i.get(l.batchId)||re()).add(a);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),c=a.key,u=a.value,h=KC();u.forEach(f=>{if(!s.has(f)){const m=ex(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return F.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve(Oi());let l=-1,a=s;return o.next(c=>b.forEach(c,(u,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{a=a.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,a,c,re())).next(u=>({batchId:l,changes:qC(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(r=>{let i=ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ra();return this.indexManager.getCollectionParents(e,s).next(l=>b.forEach(l,a=>{const c=function(h,f){return new Vl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((a,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,_t.newInvalidDocument(u)))});let l=ra();return o.forEach((a,c)=>{const u=s.get(a);u!==void 0&&Sa(u.mutation,c,Qt.empty(),Ie.now()),vh(n,c)&&(l=l.insert(a,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:$$(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.overlays=new Pe(F.comparator),this.hr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oi();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=Oi(),s=n.length+1,o=new F(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,c=a.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Oi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const l=Oi(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((c,u)=>l.set(c,u)),!(l.size()>=i)););return b.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new p$(n,r));let s=this.hr.get(n);s===void 0&&(s=re(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.Pr=new ct(Ke.Ir),this.Tr=new ct(Ke.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ke(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new F(new Se([])),r=new Ke(n,e),i=new Ke(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new F(new Se([])),r=new Ke(n,e),i=new Ke(n,e+1);let s=re();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ke(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return F.comparator(e.key,n.key)||de(e.pr,n.pr)}static Er(e,n){return de(e.pr,n.pr)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ct(Ke.Ir)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new f$(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new Ke(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(de);return n.forEach(i=>{const s=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),b.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new Ke(new F(s),0);let l=new ct(de);return this.wr.forEachWhile(a=>{const c=a.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(a.pr)),!0)},o),b.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return b.forEach(n.mutations,i=>{const s=new Ke(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ke(n,0),i=this.wr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e){this.vr=e,this.docs=function(){return new Pe(F.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr();const o=n.path,l=new F(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:c,value:{document:u}}=a.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||kM(AM(u),r)<=0||(i.has(u.key)||vh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Fr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new G$(this)}getSize(e){return b.resolve(this.size)}}class G$ extends U${constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.persistence=e,this.Mr=new Co(n=>ev(n),tv),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ov,this.targetCount=0,this.Br=ao.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),b.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.qn(n),b.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,n){this.Lr={},this.overlays={},this.kr=new Yy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Q$(this),this.indexManager=new V$,this.remoteDocumentCache=function(i){return new K$(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new M$(n),this.$r=new H$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new q$(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){k("MemoryPersistence","Starting transaction:",e);const i=new X$(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return b.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class X$ extends OM{constructor(e){super(),this.currentSequenceNumber=e}}class av{constructor(e){this.persistence=e,this.zr=new ov,this.jr=null}static Hr(e){return new av(e)}get Jr(){if(this.jr)return this.jr;throw G()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,r=>{const i=F.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return kO()?8:Ni.v(Ve())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new J$;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ko()<=se.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",_s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(Ko()<=se.DEBUG&&k("QueryEngine","Query:",_s(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ko()<=se.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",_s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):b.resolve())}ji(e,n){if(O0(n))return b.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dm(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(a=>{const c=this.Zi(n,l);return this.Xi(n,c,o,a.readTime)?this.ji(e,Dm(n,null,"F")):this.es(e,c,n,a)}))})))}Hi(e,n,r,i){return O0(n)||i.isEqual(Y.min())?b.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?b.resolve(null):(Ko()<=se.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_s(n)),this.es(e,o,n,PM(i,-1)).next(l=>l))})}Zi(e,n){let r=new ct(HC(e));return n.forEach((i,s)=>{vh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ko()<=se.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",_s(n)),this.zi.getDocumentsMatchingQuery(e,n,si.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Pe(de),this.rs=new Co(s=>ev(s),tv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B$(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function tV(t,e,n,r){return new eV(t,e,n,r)}async function fx(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let a=re();for(const c of i){o.push(c.batchId);for(const u of c.mutations)a=a.add(u.key)}for(const c of s){l.push(c.batchId);for(const u of c.mutations)a=a.add(u.key)}return n.localDocuments.getDocuments(r,a).next(c=>({us:c,removedBatchIds:o,addedBatchIds:l}))})})}function nV(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,a,c,u){const h=c.batch,f=h.keys();let m=b.resolve();return f.forEach(v=>{m=m.next(()=>u.getEntry(a,v)).next(E=>{const S=c.docVersions.get(v);ve(S!==null),E.version.compareTo(S)<0&&(h.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),u.addEntry(E)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(a,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let a=re();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(a=a.add(l.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function px(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function rV(t,e){const n=X(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(It.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(h,m),function(E,S,y){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,m,u)&&l.push(n.Qr.updateTargetData(s,m))});let a=gr(),c=re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),l.push(iV(s,o,e.documentUpdates).next(u=>{a=u.cs,c=u.ls})),!r.isEqual(Y.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(u)}return b.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,c)).next(()=>a)}).then(s=>(n.ns=i,s))}function iV(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((l,a)=>{const c=s.get(l);a.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(Y.min())?(e.removeEntry(l,a.readTime),o=o.insert(l,a)):!c.isValidDocument()||a.version.compareTo(c.version)>0||a.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(a),o=o.insert(l,a)):k("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",a.version)}),{cs:o,ls:i}})}function sV(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oV(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Vm(t,e,n){const r=X(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$l(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function H0(t,e,n){const r=X(t);let i=Y.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,c,u){const h=X(a),f=h.rs.get(u);return f!==void 0?b.resolve(h.ns.get(f)):h.Qr.getTargetData(c,u)}(r,o,qn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(a=>{s=a})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:re())).next(l=>(aV(r,JM(e),l),{documents:l,hs:s})))}function aV(t,e,n){let r=t.ss.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class W0{constructor(){this.activeTargetIds=i$()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lV{constructor(){this.no=new W0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new W0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function Gf(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class hV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const l=Gf(),a=this.bo(n,r.toUriEncodedString());k("RestConnection",`Sending RPC '${n}' ${l}:`,a,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,a,c,i).then(u=>(k("RestConnection",`Received RPC '${n}' ${l}: `,u),u),u=>{throw ro("RestConnection",`RPC '${n}' ${l} failed with error: `,u,"url: ",a,"request:",i),u})}vo(n,r,i,s,o,l){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=uV[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Gf();return new Promise((o,l)=>{const a=new vM;a.setWithCredentials(!0),a.listenOnce(gM.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case qf.NO_ERROR:const u=a.getResponseJson();k(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case qf.TIMEOUT:k(gt,`RPC '${e}' ${s} timed out`),l(new D(R.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const h=a.getStatus();if(k(gt,`RPC '${e}' ${s} failed with status:`,h,"response text:",a.getResponseText()),h>0){let f=a.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(y)>=0?y:R.UNKNOWN}(m.status);l(new D(v,m.message))}else l(new D(R.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new D(R.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{k(gt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);k(gt,`RPC '${e}' ${s} sending request:`,i),a.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Gf(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pM(),l=mM(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=s.join("");k(gt,`Creating RPC '${e}' stream ${i}: ${u}`,a);const h=o.createWebChannel(u,a);let f=!1,m=!1;const v=new dV({lo:S=>{m?k(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(k(gt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),k(gt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},ho:()=>h.close()}),E=(S,y,p)=>{S.listen(y,g=>{try{p(g)}catch(w){setTimeout(()=>{throw w},0)}})};return E(h,Cc.EventType.OPEN,()=>{m||k(gt,`RPC '${e}' stream ${i} transport opened.`)}),E(h,Cc.EventType.CLOSE,()=>{m||(m=!0,k(gt,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),E(h,Cc.EventType.ERROR,S=>{m||(m=!0,ro(gt,`RPC '${e}' stream ${i} transport errored:`,S),v.Vo(new D(R.UNAVAILABLE,"The operation could not be completed")))}),E(h,Cc.EventType.MESSAGE,S=>{var y;if(!m){const p=S.data[0];ve(!!p);const g=p,w=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(w){k(gt,`RPC '${e}' stream ${i} received error:`,w);const T=w.status;let I=function($){const M=De[$];if(M!==void 0)return rx(M)}(T),C=w.message;I===void 0&&(I=R.INTERNAL,C="Unknown error status: "+T+" with message "+w.message),m=!0,v.Vo(new D(I,C)),h.close()}else k(gt,`RPC '${e}' stream ${i} received:`,p),v.mo(p)}}),E(l,yM.STAT_EVENT,S=>{S.stat===E0.PROXY?k(gt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===E0.NOPROXY&&k(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return new T$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r,i,s,o,l,a){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new mx(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new D(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fV extends gx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=x$(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?Kn(o.readTime):Y.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=$m(this.serializer),n.addTarget=function(s,o){let l;const a=o.target;if(l=Nm(a)?{documents:P$(s,a)}:{query:A$(s,a).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=ox(s,o.resumeToken);const c=jm(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(Y.min())>0){l.readTime=hd(s,o.snapshotVersion.toTimestamp());const c=jm(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=N$(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.t_(n)}}class pV extends gx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=b$(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.T_(r,n)}return ve(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=$m(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>R$(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new D(R.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Lm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(R.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,Lm(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(R.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class gV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Gn(n),this.g_=!1):k("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{cs(this)&&(k("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=X(a);c.v_.add(4),await zl(c),c.x_.set("Unknown"),c.v_.delete(4),await Th(c)}(this))})}),this.x_=new gV(r,i)}}async function Th(t){if(cs(t))for(const e of t.F_)await e(!0)}async function zl(t){for(const e of t.F_)await e(!1)}function yx(t,e){const n=X(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),dv(n)?uv(n):xo(n).Jo()&&cv(n,e))}function vx(t,e){const n=X(t),r=xo(n);n.C_.delete(e),r.Jo()&&_x(n,e),n.C_.size===0&&(r.Jo()?r.Xo():cs(n)&&n.x_.set("Unknown"))}function cv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(t).c_(e)}function _x(t,e){t.O_.Oe(e),xo(t).l_(e)}function uv(t){t.O_=new _$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),xo(t).start(),t.x_.p_()}function dv(t){return cs(t)&&!xo(t).Ho()&&t.C_.size>0}function cs(t){return X(t).v_.size===0}function wx(t){t.O_=void 0}async function vV(t){t.C_.forEach((e,n)=>{cv(t,e)})}async function _V(t,e){wx(t),dv(t)?(t.x_.S_(e),uv(t)):t.x_.set("Unknown")}async function wV(t,e,n){if(t.x_.set("Online"),e instanceof sx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.C_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.C_.delete(l),i.O_.removeTarget(l))}(t,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fd(t,r)}else if(e instanceof nu?t.O_.$e(e):e instanceof ix?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Y.min()))try{const r=await px(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.O_.it(o);return l.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(a.resumeToken,o))}}),l.targetMismatches.forEach((a,c)=>{const u=s.C_.get(a);if(!u)return;s.C_.set(a,u.withResumeToken(It.EMPTY_BYTE_STRING,u.snapshotVersion)),_x(s,a);const h=new Vr(u.target,a,c,u.sequenceNumber);cv(s,h)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){k("RemoteStore","Failed to raise snapshot:",r),await fd(t,r)}}async function fd(t,e,n){if(!$l(e))throw e;t.v_.add(1),await zl(t),t.x_.set("Offline"),n||(n=()=>px(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{k("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Th(t)})}function Ex(t,e){return e().catch(n=>fd(t,n,e))}async function Ih(t){const e=X(t),n=ai(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;EV(e);)try{const i=await sV(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,SV(e,i)}catch(i){await fd(e,i)}Sx(e)&&Tx(e)}function EV(t){return cs(t)&&t.D_.length<10}function SV(t,e){t.D_.push(e);const n=ai(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Sx(t){return cs(t)&&!ai(t).Ho()&&t.D_.length>0}function Tx(t){ai(t).start()}async function TV(t){ai(t).d_()}async function IV(t){const e=ai(t);for(const n of t.D_)e.I_(n.mutations)}async function CV(t,e,n){const r=t.D_.shift(),i=rv.from(r,e,n);await Ex(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ih(t)}async function xV(t,e){e&&ai(t).P_&&await async function(r,i){if(function(o){return g$(o)&&o!==R.ABORTED}(i.code)){const s=r.D_.shift();ai(r).Zo(),await Ex(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ih(r)}}(t,e),Sx(t)&&Tx(t)}async function K0(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const r=cs(n);n.v_.add(3),await zl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Th(n)}async function RV(t,e){const n=X(t);e?(n.v_.delete(2),await Th(n)):e||(n.v_.add(2),await zl(n),n.x_.set("Unknown"))}function xo(t){return t.N_||(t.N_=function(n,r,i){const s=X(n);return s.R_(),new fV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:vV.bind(null,t),To:_V.bind(null,t),u_:wV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),dv(t)?uv(t):t.x_.set("Unknown")):(await t.N_.stop(),wx(t))})),t.N_}function ai(t){return t.B_||(t.B_=function(n,r,i){const s=X(n);return s.R_(),new pV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:TV.bind(null,t),To:xV.bind(null,t),E_:IV.bind(null,t),T_:CV.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Ih(t)):(await t.B_.stop(),t.D_.length>0&&(k("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new hv(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fv(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),$l(t))return new D(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=ra(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new Ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.L_=new Pe(F.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):G():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class lo{constructor(e,n,r,i,s,o,l,a,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new lo(e,n,Ks.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.q_=void 0,this.Q_=[]}}class PV{constructor(){this.queries=new Co(e=>BC(e),yh),this.onlineState="Unknown",this.K_=new Set}}async function Ix(t,e){const n=X(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bV),i)try{s.q_=await n.onListen(r)}catch(o){const l=fv(o,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&pv(n)}async function Cx(t,e){const n=X(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function AV(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Q_)l.W_(i)&&(r=!0);o.q_=i}}r&&pv(n)}function kV(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function pv(t){t.K_.forEach(e=>{e.next()})}class xx{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.key=e}}class bx{constructor(e){this.key=e}}class NV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=re(),this.mutatedKeys=re(),this.ua=HC(e),this.ca=new Ks(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new G0,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),m=vh(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?v!==E&&(r.track({type:3,doc:m}),S=!0):this.Ia(f,m)||(r.track({type:2,doc:m}),S=!0,(a&&this.ua(m,a)>0||c&&this.ua(m,c)<0)&&(l=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(a||c)&&(l=!0)),S&&(m?(o=o.add(m),s=E?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:l,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,h)=>function(m,v){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return E(m)-E(v)}(u.type,h.type)||this.ua(u.doc,h.doc)),this.Ta(r),i=i!=null&&i;const l=n&&!i?this.Ea():[],a=this.aa.size===0&&this.current&&!i?1:0,c=a!==this._a;return this._a=a,o.length!==0||c?{snapshot:new lo(this.query,e.ca,s,o,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new G0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=re(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new bx(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Rx(r))}),n}Ra(e){this.oa=e.hs,this.aa=re();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return lo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class OV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DV{constructor(e){this.key=e,this.ma=!1}}class jV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Co(l=>BC(l),yh),this.pa=new Map,this.ya=new Set,this.wa=new Pe(F.comparator),this.Sa=new Map,this.ba=new ov,this.Da={},this.Ca=new Map,this.va=ao.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function LV(t,e){const n=qV(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await oV(n.localStore,qn(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await MV(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&yx(n.remoteStore,o)}return i}async function MV(t,e,n,r,i){t.Ma=(h,f,m)=>async function(E,S,y,p){let g=S.view.ha(y);g.Xi&&(g=await H0(E.localStore,S.query,!1).then(({documents:C})=>S.view.ha(C,g)));const w=p&&p.targetChanges.get(S.targetId),T=p&&p.targetMismatches.get(S.targetId)!=null,I=S.view.applyChanges(g,E.isPrimaryClient,w,T);return Y0(E,S.targetId,I.da),I.snapshot}(t,h,f,m);const s=await H0(t.localStore,e,!0),o=new NV(e,s.hs),l=o.ha(s.documents),a=Ul.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,a);Y0(t,n,c.da);const u=new OV(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function $V(t,e){const n=X(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!yh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Vm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vx(n.remoteStore,r.targetId),Fm(n,r.targetId)}).catch(Ml)):(Fm(n,r.targetId),await Vm(n.localStore,r.targetId,!0))}async function VV(t,e,n){const r=KV(t);try{const i=await function(o,l){const a=X(o),c=Ie.now(),u=l.reduce((m,v)=>m.add(v.key),re());let h,f;return a.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=gr(),E=re();return a.os.getEntries(m,u).next(S=>{v=S,v.forEach((y,p)=>{p.isValidDocument()||(E=E.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(m,v)).next(S=>{h=S;const y=[];for(const p of l){const g=d$(p,h.get(p.key).overlayedDocument);g!=null&&y.push(new mi(p.key,g,jC(g.value.mapValue),Cn.exists(!0)))}return a.mutationQueue.addMutationBatch(m,c,y,l)}).next(S=>{f=S;const y=S.applyToLocalDocumentSet(h,E);return a.documentOverlayCache.saveOverlays(m,S.batchId,y)})}).then(()=>({batchId:f.batchId,changes:qC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,a){let c=o.Da[o.currentUser.toKey()];c||(c=new Pe(de)),c=c.insert(l,a),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await Bl(r,i.changes),await Ih(r.remoteStore)}catch(i){const s=fv(i,"Failed to persist write");n.reject(s)}}async function Px(t,e){const n=X(t);try{const r=await rV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ve(o.ma):i.removedDocuments.size>0&&(ve(o.ma),o.ma=!1))}),await Bl(n,r,e)}catch(r){await Ml(r)}}function Q0(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const l=o.view.U_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const a=X(o);a.onlineState=l;let c=!1;a.queries.forEach((u,h)=>{for(const f of h.Q_)f.U_(l)&&(c=!0)}),c&&pv(a)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FV(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Pe(F.comparator);o=o.insert(s,_t.newNoDocument(s,Y.min()));const l=re().add(s),a=new Eh(Y.min(),new Map,new Pe(de),o,l);await Px(r,a),r.wa=r.wa.remove(s),r.Sa.delete(e),mv(r)}else await Vm(r.localStore,e,!1).then(()=>Fm(r,e,n)).catch(Ml)}async function UV(t,e){const n=X(t),r=e.batch.batchId;try{const i=await nV(n.localStore,e);kx(n,r,null),Ax(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bl(n,i)}catch(i){await Ml(i)}}async function zV(t,e,n){const r=X(t);try{const i=await function(o,l){const a=X(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,l).next(h=>(ve(h!==null),u=h.keys(),a.mutationQueue.removeMutationBatch(c,h))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,l)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);kx(r,e,n),Ax(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bl(r,i)}catch(i){await Ml(i)}}function Ax(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function kx(t,e,n){const r=X(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Fm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||Nx(t,r)})}function Nx(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(vx(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),mv(t))}function Y0(t,e,n){for(const r of n)r instanceof Rx?(t.ba.addReference(r.key,e),BV(t,r)):r instanceof bx?(k("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Nx(t,r.key)):G()}function BV(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(k("SyncEngine","New document in limbo: "+n),t.ya.add(r),mv(t))}function mv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new F(Se.fromString(e)),r=t.va.next();t.Sa.set(r,new DV(n)),t.wa=t.wa.insert(n,r),yx(t.remoteStore,new Vr(qn(nv(n.path)),r,"TargetPurposeLimboResolution",Yy._e))}}async function Bl(t,e,n){const r=X(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,a)=>{o.push(r.Ma(a,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=lv.Ki(a.targetId,c);s.push(u)}}))}),await Promise.all(o),r.fa.u_(i),await async function(a,c){const u=X(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>b.forEach(c,f=>b.forEach(f.qi,m=>u.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>b.forEach(f.Qi,m=>u.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!$l(h))throw h;k("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=u.ns.get(f),v=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(v);u.ns=u.ns.insert(f,E)}}}(r.localStore,s))}async function HV(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const r=await fx(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(l=>{l.forEach(a=>{a.reject(new D(R.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bl(n,r.us)}}function WV(t,e){const n=X(t),r=n.Sa.get(e);if(r&&r.ma)return re().add(r.key);{let i=re();const s=n.pa.get(e);if(!s)return i;for(const o of s){const l=n.ga.get(o);i=i.unionWith(l.view.la)}return i}}function qV(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Px.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FV.bind(null,e),e.fa.u_=AV.bind(null,e.eventManager),e.fa.xa=kV.bind(null,e.eventManager),e}function KV(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zV.bind(null,e),e}class X0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tV(this.persistence,new Z$,e.initialUser,this.serializer)}createPersistence(e){return new Y$(av.Hr,this.serializer)}createSharedClientState(e){return new lV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class GV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HV.bind(null,this.syncEngine),await RV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PV}()}createDatastore(e){const n=Sh(e.databaseInfo.databaseId),r=function(s){return new hV(s)}(e.databaseInfo);return function(s,o,l,a){return new mV(s,o,l,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new yV(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Q0(this.syncEngine,n,0),function(){return q0.D()?new q0:new cV}())}createSyncEngine(e,n){return function(i,s,o,l,a,c,u){const h=new jV(i,s,o,l,a,c);return u&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=X(r);k("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await zl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=NC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{k("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(k("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yf(t,e){t.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XV(t);k("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>K0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>K0(e.remoteStore,i)),t._onlineComponents=e}function YV(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function XV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!YV(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await Yf(t,new X0)}}else k("FirestoreClient","Using default OfflineComponentProvider"),await Yf(t,new X0);return t._offlineComponents}async function Dx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),await J0(t,t._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),await J0(t,new GV))),t._onlineComponents}function JV(t){return Dx(t).then(e=>e.syncEngine)}async function jx(t){const e=await Dx(t),n=e.eventManager;return n.onListen=LV.bind(null,e.syncEngine),n.onUnlisten=$V.bind(null,e.syncEngine),n}function ZV(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,a,c){const u=new Ox({next:f=>{o.enqueueAndForget(()=>Cx(s,h));const m=f.docs.has(l);!m&&f.fromCache?c.reject(new D(R.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&a&&a.source==="server"?c.reject(new D(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new xx(nv(l.path),u,{includeMetadataChanges:!0,Z_:!0});return Ix(s,h)}(await jx(t),t.asyncQueue,e,n,r)),r.promise}function eF(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,a,c){const u=new Ox({next:f=>{o.enqueueAndForget(()=>Cx(s,h)),f.fromCache&&a.source==="server"?c.reject(new D(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new xx(l,u,{includeMetadataChanges:!0,Z_:!0});return Ix(s,h)}(await jx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e,n){if(!n)throw new D(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tF(t,e,n,r){if(e===!0&&r===!0)throw new D(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eE(t){if(!F.isDocumentKey(t))throw new D(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tE(t){if(F.isDocumentKey(t))throw new D(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ch(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ch(t);throw new D(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new D(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new D(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new D(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wM;switch(r.type){case"firstParty":return new IM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z0.get(n);r&&(k("ComponentProvider","Removing Datastore"),Z0.delete(n),r.terminate())}(this),Promise.resolve()}}function nF(t,e,n,r={}){var i;const s=(t=Yn(t,xh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,a;if(typeof r.mockUserToken=="string")l=r.mockUserToken,a=yt.MOCK_USER;else{l=kT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new yt(c)}t._authCredentials=new EM(new kC(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class Xr extends Ro{constructor(e,n,r){super(e,n,nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new F(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function gi(t,e,...n){if(t=Fe(t),Mx("collection","path",e),t instanceof xh){const r=Se.fromString(e,...n);return tE(r),new Xr(t,null,r)}{if(!(t instanceof At||t instanceof Xr))throw new D(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return tE(r),new Xr(t.firestore,null,r)}}function Rh(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=NC.newId()),Mx("doc","path",e),t instanceof xh){const r=Se.fromString(e,...n);return eE(r),new At(t,null,new F(r))}{if(!(t instanceof At||t instanceof Xr))throw new D(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return eE(r),new At(t.firestore,t instanceof Xr?t.converter:null,new F(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new mx(this,"async_queue_retry"),this._u=()=>{const n=Qf();n&&k("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Qf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Wn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!$l(e))throw e;k("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Gn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=hv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&G()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class bo extends xh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new rF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$x(this),this._firestoreClient.terminate()}}function iF(t,e){const n=typeof t=="object"?t:py(),r=typeof t=="string"?t:e||"(default)",i=Qd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=bT("firestore");s&&nF(i,...s)}return i}function gv(t){return t._firestoreClient||$x(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $x(t){var e,n,r;const i=t._freezeSettings(),s=function(l,a,c,u){return new $M(l,a,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Lx(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new QV(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(It.fromBase64String(e))}catch(n){throw new D(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=/^__.*__$/;class oF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}class Vx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class _v{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new _v(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return pd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(Fx(this.du)&&sF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class aF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sh(e)}Su(e,n,r,i=!1){return new _v({du:e,methodName:n,wu:r,path:ot.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ph(t){const e=t._freezeSettings(),n=Sh(t._databaseId);return new aF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ux(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);wv("Data must be an object, but it was:",o,r);const l=zx(r,o);let a,c;if(s.merge)a=new Qt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=Um(e,h,n);if(!o.contains(f))throw new D(R.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Hx(u,f)||u.push(f)}a=new Qt(u),c=o.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,c=o.fieldTransforms;return new oF(new Mt(l),a,c)}class Ah extends yv{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ah}}function lF(t,e,n,r){const i=t.Su(1,e,n);wv("Data must be an object, but it was:",i,r);const s=[],o=Mt.empty();ls(r,(a,c)=>{const u=Ev(e,a,n);c=Fe(c);const h=i.fu(u);if(c instanceof Ah)s.push(u);else{const f=Hl(c,h);f!=null&&(s.push(u),o.set(u,f))}});const l=new Qt(s);return new Vx(o,l,i.fieldTransforms)}function cF(t,e,n,r,i,s){const o=t.Su(1,e,n),l=[Um(e,r,n)],a=[i];if(s.length%2!=0)throw new D(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push(Um(e,s[f])),a.push(s[f+1]);const c=[],u=Mt.empty();for(let f=l.length-1;f>=0;--f)if(!Hx(c,l[f])){const m=l[f];let v=a[f];v=Fe(v);const E=o.fu(m);if(v instanceof Ah)c.push(m);else{const S=Hl(v,E);S!=null&&(c.push(m),u.set(m,S))}}const h=new Qt(c);return new Vx(u,h,o.fieldTransforms)}function uF(t,e,n,r=!1){return Hl(n,t.Su(r?4:3,e))}function Hl(t,e){if(Bx(t=Fe(t)))return wv("Unsupported field value:",e,t),zx(t,e);if(t instanceof yv)return function(r,i){if(!Fx(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let a=Hl(l,i.gu(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ie.fromDate(r);return{timestampValue:hd(i.serializer,s)}}if(r instanceof Ie){const s=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(i.serializer,s)}}if(r instanceof vv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof co)return{bytesValue:ox(i.serializer,r._byteString)};if(r instanceof At){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Ch(r)}`)}(t,e)}function zx(t,e){const n={};return OC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(r,i)=>{const s=Hl(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Bx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof vv||t instanceof co||t instanceof At||t instanceof yv)}function wv(t,e,n){if(!Bx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ch(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Um(t,e,n){if((e=Fe(e))instanceof bh)return e._internalPath;if(typeof e=="string")return Ev(t,e);throw pd("Field path arguments must be of type string or ",t,!1,void 0,n)}const dF=new RegExp("[~\\*/\\[\\]]");function Ev(t,e,n){if(e.search(dF)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bh(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new D(R.INVALID_ARGUMENT,l+t+a)}function Hx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hF extends Wx{data(){return super.data()}}function Sv(t,e){return typeof e=="string"?Ev(t,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tv{}class pF extends Tv{}function kh(t,e,...n){let r=[];e instanceof Tv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(a=>a instanceof Iv).length,l=s.filter(a=>a instanceof Nh).length;if(o>1||o>0&&l>0)throw new D(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nh extends pF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nh(e,n,r)}_apply(e){const n=this._parse(e);return qx(e._query,n),new Ro(e.firestore,e.converter,Om(e._query,n))}_parse(e){const n=Ph(e.firestore);return function(s,o,l,a,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new D(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){iE(h,u);const m=[];for(const v of h)m.push(rE(a,s,v));f={arrayValue:{values:m}}}else f=rE(a,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||iE(h,u),f=uF(l,o,h,u==="in"||u==="not-in");return $e.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oh(t,e,n){const r=e,i=Sv("where",t);return Nh._create(i,r,n)}class Iv extends Tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const a of l)qx(o,a),o=Om(o,a)}(e._query,n),new Ro(e.firestore,e.converter,Om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rE(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new D(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zC(e)&&n.indexOf("/")!==-1)throw new D(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!F.isDocumentKey(r))throw new D(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R0(t,new F(r))}if(n instanceof At)return R0(t,n._key);throw new D(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(n)}.`)}function iE(t,e){if(!Array.isArray(t)||t.length===0)throw new D(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qx(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mF{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ls(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new vv(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const n=oi(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ve(hx(r));const i=new al(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(n)||Gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gx extends Wx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ru(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ru extends Gx{data(e={}){return super.data(e)}}class gF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ru(this._firestore,this._userDataWriter,r.key,r,new sa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const a=new ru(i._firestore,i._userDataWriter,l.doc.key,l.doc,new sa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const a=new ru(i._firestore,i._userDataWriter,l.doc.key,l.doc,new sa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:yF(l.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){t=Yn(t,At);const e=Yn(t.firestore,bo);return ZV(gv(e),t._key).then(n=>EF(e,t,n))}class Yx extends mF{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function us(t){t=Yn(t,Ro);const e=Yn(t.firestore,bo),n=gv(e),r=new Yx(e);return fF(t._query),eF(n,t._query).then(i=>new gF(e,r,t,i))}function vF(t,e,n){t=Yn(t,At);const r=Yn(t.firestore,bo),i=Kx(t.converter,e,n);return Cv(r,[Ux(Ph(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cn.none())])}function _F(t,e,n,...r){t=Yn(t,At);const i=Yn(t.firestore,bo),s=Ph(i);let o;return o=typeof(e=Fe(e))=="string"||e instanceof bh?cF(s,"updateDoc",t._key,e,n,r):lF(s,"updateDoc",t._key,e),Cv(i,[o.toMutation(t._key,Cn.exists(!0))])}function wF(t,e){const n=Yn(t.firestore,bo),r=Rh(t),i=Kx(t.converter,e);return Cv(n,[Ux(Ph(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function Cv(t,e){return function(r,i){const s=new Wn;return r.asyncQueue.enqueueAndForget(async()=>VV(await JV(r),i,s)),s.promise}(gv(t),e)}function EF(t,e,n){const r=n.docs.get(e._key),i=new Yx(t);return new Gx(t,i,e._key,r,new sa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Io=i})(os),Qi(new ii("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new bo(new SM(r.getProvider("auth-internal")),new xM(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new D(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),zn(S0,"4.4.2",e),zn(S0,"4.4.2","esm2017")})();const SF={apiKey:"AIzaSyCYLJeEfFs7lQUJbczLFP87sLr7oDGK73Y",authDomain:"acguatuso-sys.firebaseapp.com",projectId:"acguatuso-sys",storageBucket:"acguatuso-sys.appspot.com",messagingSenderId:"148217571881",appId:"1:148217571881:web:5b959afe3352b16dae0a38"},xv=jT(SF),kn=iF(xv),Rv=hL(xv),Wl=u4(xv),TF={notification:null,emailVerified:!1,loggedIn:!1,user:null,error:null},Xx=vr({name:"auth",initialState:TF,reducers:{loginSuccess:(t,e)=>{t.loggedIn=!0,t.user=e.payload,t.emailVerified=!0,t.error=null},loginFailure:(t,e)=>{t.loggedIn=!1,t.user=null,t.error=e.payload},signupSuccess:(t,e)=>{t.notification=e.payload.msg,t.emailVerified=e.payload.emailVerified,t.error=null},signupFailure:(t,e)=>{t.error=e.payload},logOut:t=>{t.loggedIn=!1,t.user=null},editInfo:(t,e)=>{t.user=e.payload}}}),{loginSuccess:IF,loginFailure:Xf,signupSuccess:CF,signupFailure:zm,logOut:xF,editInfo:RF}=Xx.actions,bF=Xx.reducer,PF=(t,e)=>async n=>{try{if(!(await X2(Rv,t,e)).user.emailVerified)throw new Error("Por favor, verifica tu dirección de correo electrónico antes de iniciar sesión.");const i=await Jx(t);n(IF(i))}catch(r){const i=r.message.replace("Firebase: ","");r.message=="Firebase: Error (auth/invalid-credential)."?n(Xf("Las credenciales ingresadas no coinciden, inténtelo de nuevo por favor.")):i=="Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later. (auth/too-many-requests)."?n(Xf("El acceso a esta cuenta se ha deshabilitado temporalmente debido a muchos intentos fallidos de inicio de sesión. Puedes restaurarlo inmediatamente restableciendo tu contraseña o puedes volver a intentarlo más tarde.")):n(Xf(i))}},Jx=async t=>{const e=gi(kn,"Usuarios");try{const n=kh(e,Oh("correo","==",t)),i=(await us(n)).docs[0];if(i){const s=i.data(),o=s.fechaNacimiento instanceof Ie?s.fechaNacimiento.toDate().toDateString():s.fechaNacimiento.toString();return{nombre:s.nombre,correo:s.correo,cedula:s.cedula,telefono:s.telefono,provincia:s.provincia,canton:s.canton,distrito:s.distrito,direccion:s.direccion,fechaNacimiento:o,genero:s.genero,user_type:s.user_type,estado:s.estado}}else return console.log("No se encontró el documento del usuario"),null}catch(n){return console.error("Error al obtener el documento del usuario: ",n),null}},AF=t=>async e=>{try{const n=await Y2(Rv,t.correo,t.password);await kF(t),await J2(n.user),e(CF({msg:"Cuenta creada con éxito!",emailVerified:n.user.emailVerified}))}catch(n){n.message==="Firebase: Error (auth/email-already-in-use)."?e(zm("El correo electrónico ya se encuentra en uso, inténte con otro porfavor.")):e(zm("El correo electrónico está en un formato no permitido, revíselo porfavor."))}},kF=async t=>{const e={nombre:t.nombre,correo:t.correo,cedula:t.cedula,telefono:t.telefono,provincia:t.provincia,canton:t.canton,distrito:t.distrito,direccion:t.direccion,fechaNacimiento:Ie.fromDate(new Date(t.fechaNacimiento)),genero:t.genero,user_type:0,estado:0},n=gi(kn,"Usuarios");try{await wF(n,e)}catch{}},NF=(t,e,n)=>async r=>{const i=gi(kn,"Usuarios");try{const s=kh(i,Oh("correo","==",e)),o=await us(s);if(!o.empty){const l=o.docs[0],a=Rh(kn,"Usuarios",l.id);await vF(a,t);const c=await Jx(e);n||r(RF(c))}}catch{}},OF=async t=>{try{await Q2(Rv,t),alert("Se ha enviado un correo electrónico para restablecer tu contraseña.")}catch{}},DF={dataEmpresa:null},Zx=vr({name:"empresa",initialState:DF,reducers:{setEmpresaData(t,e){t.dataEmpresa=e.payload}}}),jF=()=>async t=>{try{const e=await gi(kn,"Empresa"),s=(await us(e)).docs[0].data();if(s){const o={correo:s.correo,facebookUrl:s.redes[0].red_url,titulo_footer:s.titulo_principal,subtitulo_footer:s.subtitulo_principal,direccionCorta:s.direccion_corta,telefonos:[s.telefonos[0],s.telefonos[1]],horarios:[s.horarios[0],s.horarios[1],s.horarios[2],s.horarios[3],s.horarios[4],s.horarios[5],s.horarios[6]]};t(LF(o))}}catch(e){console.error("Error al obtener los datos de la empresa:",e)}},{setEmpresaData:LF}=Zx.actions,MF=Zx.reducer,Dh=async t=>{try{const e=Rh(kn,t);return(await Qx(e)).data()}catch(e){console.log(e)}},Po=async t=>(await us(gi(kn,t))).docs.map(r=>({...r.data(),id:r.id})),iu=di("about/fetchMainSectionClient",async()=>{const t=await Dh("/Empresa/ZktZQqsBnqVVoL4dfRHv");return{image_principal_url:t.image_principal_url,subtitulo_principal:t.subtitulo_principal,titulo_principal:t.titulo_principal,download_url_principal:t.download_url_principal}}),su=di("about/fetchSectionsClient",async()=>await Po("/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones")),$F={head:{image_principal_url:"",subtitulo_principal:"",titulo_principal:"",download_url_principal:""},sections:[],loading:!1,error:void 0},VF=vr({name:"about",initialState:$F,reducers:{},extraReducers:t=>{t.addCase(iu.pending,e=>{e.loading=!0}),t.addCase(iu.fulfilled,(e,n)=>{e.loading=!1,e.head=n.payload}),t.addCase(iu.rejected,(e,n)=>{e.loading=!1,e.head={},e.error=n.error.message}),t.addCase(su.pending,e=>{e.loading=!0}),t.addCase(su.fulfilled,(e,n)=>{e.loading=!1,e.sections=n.payload}),t.addCase(su.rejected,(e,n)=>{e.loading=!1,e.sections=[],e.error=n.error.message})}}),eR=t=>t.about,FF=VF.reducer,UF={datosPais:null,loading:!1,error:null},md=vr({name:"paisInfo",initialState:UF,reducers:{fetchDataStart(t){t.loading=!0,t.error=null},fetchDataSuccess(t,e){t.loading=!1,t.datosPais=e.payload},fetchDataFailure(t,e){t.loading=!1,t.error=e.payload}}});md.actions;const zF=md.reducer,BF=async()=>{const e=await(await fetch("https://gist.githubusercontent.com/josuenoel/80daca657b71bc1cfd95a4e27d547abe/raw")).json();localStorage.setItem("data-paises",JSON.stringify(e))},HF=()=>JSON.parse(localStorage.getItem("data-paises")),tR=()=>async t=>{try{await BF();const e=await HF(),n={};Object.values(e.provincias).forEach(r=>{const i={};Object.values(r.cantones).forEach(s=>{i[s.nombre]=s}),n[r.nombre]={...r,cantones:i}}),t(md.actions.fetchDataSuccess(n))}catch(e){console.error("Ocurrió un error al obtener el JSON:",e),t(md.actions.fetchDataFailure(e.message||"Ha ocurrido un error"))}};function Bm(t){return Object.keys(t)}function ou(t,e){if(!e||!e[t]||!e[t].cantones)return[];const n=e[t];return Object.keys(n.cantones)}function au(t){return Object.values(t)}const WF={loading:!1,cursos:[],numSolicitantes:{},error:void 0};function qF(t){switch(t){case 0:return"Presencial";case 1:return"Virtual";case 2:return"Mixta";default:return"No Definida"}}const Ta=di("users/fetchCursos",async()=>{const e=await Po("Cursos"),n={};return e.forEach(s=>{s.id&&(n[s.id]=s.postulados.length)}),{cursos:e.filter(s=>s.fechaCreacion!==void 0).sort((s,o)=>o.fechaCreacion.toMillis()-s.fechaCreacion.toMillis()),numSolicitantes:n}}),KF=vr({name:"cursos",initialState:WF,extraReducers:t=>{t.addCase(Ta.pending,e=>{e.loading=!0}),t.addCase(Ta.fulfilled,(e,n)=>{e.loading=!1,e.cursos=n.payload.cursos,e.numSolicitantes=n.payload.numSolicitantes}),t.addCase(Ta.rejected,(e,n)=>{e.loading=!1,e.cursos=[],e.error=n.error.message})},reducers:{}}),nR=t=>t.cursos,GF=KF.reducer,lu=di("ads/fetchMainAdsClient",async()=>await Dh("/Avisos/1x9cYIlY1FaQcw9jZhf6")),cu=di("ads/fetchAdsClient",async()=>await Po("/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios")),QF={loading:!1,error:void 0,adsList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},YF=vr({name:"ads",initialState:QF,reducers:{},extraReducers:t=>{t.addCase(lu.pending,e=>{e.loading=!0}),t.addCase(lu.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(lu.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(cu.pending,e=>{e.loading=!0}),t.addCase(cu.fulfilled,(e,n)=>{e.loading=!1,e.adsList=n.payload}),t.addCase(cu.rejected,(e,n)=>{e.loading=!1,e.adsList=[],e.error=n.error.message})}}),rR=t=>t.avisos,XF=YF.reducer,uu=di("Service/fetchMainServiceClient",async()=>await Dh("/Servicios/xsc94XcgZ4Agn9IisLop")),du=di("Service/fetchServiceClient",async()=>await Po("/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios")),JF={loading:!1,error:void 0,ServiceList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},ZF=vr({name:"Service",initialState:JF,reducers:{},extraReducers:t=>{t.addCase(uu.pending,e=>{e.loading=!0}),t.addCase(uu.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(uu.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(du.pending,e=>{e.loading=!0}),t.addCase(du.fulfilled,(e,n)=>{e.loading=!1,e.ServiceList=n.payload}),t.addCase(du.rejected,(e,n)=>{e.loading=!1,e.ServiceList=[],e.error=n.error.message})}}),iR=t=>t.servicios,e3=ZF.reducer,Jf=di("mycourses/fetchMyCourses",async()=>{const e=(await Po("/Cursos")).map(n=>({nombre:n.nombre,horario:n.horario,modalidad:n.modalidad,postulados:n.postulados,matriculados:n.matriculados,aprobados:n.aprobados,reprobados:n.reprobados}));return console.log(e,"data"),e}),t3={loading:!1,error:void 0,courses:[]},n3=vr({name:"mycourses",initialState:t3,reducers:{},extraReducers:t=>{t.addCase(Jf.pending,e=>{e.loading=!0}),t.addCase(Jf.fulfilled,(e,n)=>{e.loading=!1,e.courses=n.payload}),t.addCase(Jf.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message})}}),r3=n3.reducer,i3={cursosActivos:0,aprobadosTotales:0},sR=vr({name:"statistics",initialState:i3,reducers:{setCursosActivos:(t,e)=>{t.cursosActivos=e.payload},setAprobadosTotales:(t,e)=>{t.aprobadosTotales=e.payload}}}),{setCursosActivos:s3,setAprobadosTotales:o3}=sR.actions,a3=sR.reducer,l3=()=>async t=>{try{const e=await c3();t(s3(e));const n=await u3();t(o3(n))}catch(e){console.error("Error al obtener estadísticas:",e)}},c3=async()=>{try{const t=gi(kn,"Cursos");return(await us(t)).size}catch(t){return console.error("Error al obtener cursos activos:",t),0}},u3=async()=>{try{const t=gi(kn,"Cursos"),e=kh(t,Oh("estado","==",1)),n=await us(e);let r=0;return n.forEach(i=>{const s=i.data();s.aprobados&&Array.isArray(s.aprobados)&&(r+=s.aprobados.length)}),r}catch(t){return console.error("Error al obtener aprobados totales:",t),0}},Sr={key:"root",storage:TT},d3=_r(Sr,bF),h3=_r(Sr,MF),f3=_r(Sr,FF),p3=_r(Sr,zF),m3=_r(Sr,GF),g3=_r(Sr,XF),y3=_r(Sr,e3),v3=_r(Sr,r3),_3=_r(Sr,a3),oR=_N({reducer:{auth:d3,empresa:h3,about:f3,paisInfo:p3,cursos:m3,avisos:g3,servicios:y3,misCursos:v3,statistics:_3},middleware:t=>t({serializableCheck:{ignoredActions:[sy,Kd,oy,ay,ly,cy]}})}),w3=lO(oR);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const sE="popstate";function E3(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:l="",hash:a=""}=ds(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Hm("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,c=a.indexOf("#");l=c===-1?a:a.slice(0,c)}return l+"#"+(typeof s=="string"?s:gd(s))}function r(i,s){jh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return T3(e,n,r,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S3(){return Math.random().toString(36).substr(2,8)}function oE(t,e){return{usr:t.state,key:t.key,idx:e}}function Hm(t,e,n,r){return n===void 0&&(n=null),dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ds(e):e,{state:n,key:e&&e.key||r||S3()})}function gd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ds(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function T3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Fr.Pop,a=null,c=u();c==null&&(c=0,o.replaceState(dl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Fr.Pop;let S=u(),y=S==null?null:S-c;c=S,a&&a({action:l,location:E.location,delta:y})}function f(S,y){l=Fr.Push;let p=Hm(E.location,S,y);n&&n(p,S),c=u()+1;let g=oE(p,c),w=E.createHref(p);try{o.pushState(g,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(w)}s&&a&&a({action:l,location:E.location,delta:1})}function m(S,y){l=Fr.Replace;let p=Hm(E.location,S,y);n&&n(p,S),c=u();let g=oE(p,c),w=E.createHref(p);o.replaceState(g,"",w),s&&a&&a({action:l,location:E.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof S=="string"?S:gd(S);return ke(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let E={get action(){return l},get location(){return t(i,o)},listen(S){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(sE,h),a=S,()=>{i.removeEventListener(sE,h),a=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(S){return o.go(S)}};return E}var aE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aE||(aE={}));function I3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ds(e):e,i=uo(r.pathname||"/",n);if(i==null)return null;let s=aR(t);C3(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=D3(s[l],L3(i));return o}function aR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ke(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Jr([r,a.relativePath]),u=n.concat(a);s.children&&s.children.length>0&&(ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),aR(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:N3(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of lR(s.path))i(s,o,a)}),e}function lR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lR(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function C3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const x3=/^:[\w-]+$/,R3=3,b3=2,P3=1,A3=10,k3=-2,lE=t=>t==="*";function N3(t,e){let n=t.split("/"),r=n.length;return n.some(lE)&&(r+=k3),e&&(r+=b3),n.filter(i=>!lE(i)).reduce((i,s)=>i+(x3.test(s)?R3:s===""?P3:A3),r)}function O3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function D3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Wm({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},c);if(!u)return null;Object.assign(r,u.params);let h=l.route;s.push({params:r,pathname:Jr([i,u.pathname]),pathnameBase:U3(Jr([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=Jr([i,u.pathnameBase]))}return s}function Wm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let E=l[h]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?c[f]=void 0:c[f]=M3(v||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function j3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function L3(t){try{return decodeURI(t)}catch(e){return jh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function M3(t,e){try{return decodeURIComponent(t)}catch(n){return jh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function uo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ds(t):t;return{pathname:n?n.startsWith("/")?n:V3(n,e):e,search:z3(r),hash:B3(i)}}function V3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cR(t,e){let n=F3(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ds(t):(i=dl({},t),ke(!i.pathname||!i.pathname.includes("?"),Zf("?","pathname","search",i)),ke(!i.pathname||!i.pathname.includes("#"),Zf("#","pathname","hash",i)),ke(!i.search||!i.search.includes("#"),Zf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let a=$3(i,l),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}const Jr=t=>t.join("/").replace(/\/\/+/g,"/"),U3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,B3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function H3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dR=["post","put","patch","delete"];new Set(dR);const W3=["get",...dR];new Set(W3);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hl.apply(this,arguments)}const Lh=_.createContext(null),hR=_.createContext(null),yi=_.createContext(null),Mh=_.createContext(null),hs=_.createContext({outlet:null,matches:[],isDataRoute:!1}),fR=_.createContext(null);function q3(t,e){let{relative:n}=e===void 0?{}:e;ql()||ke(!1);let{basename:r,navigator:i}=_.useContext(yi),{hash:s,pathname:o,search:l}=$h(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Jr([r,o])),i.createHref({pathname:a,search:l,hash:s})}function ql(){return _.useContext(Mh)!=null}function Ao(){return ql()||ke(!1),_.useContext(Mh).location}function pR(t){_.useContext(yi).static||_.useLayoutEffect(t)}function Kl(){let{isDataRoute:t}=_.useContext(hs);return t?sU():K3()}function K3(){ql()||ke(!1);let t=_.useContext(Lh),{basename:e,future:n,navigator:r}=_.useContext(yi),{matches:i}=_.useContext(hs),{pathname:s}=Ao(),o=JSON.stringify(cR(i,n.v7_relativeSplatPath)),l=_.useRef(!1);return pR(()=>{l.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=uR(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Jr([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function $h(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(yi),{matches:i}=_.useContext(hs),{pathname:s}=Ao(),o=JSON.stringify(cR(i,r.v7_relativeSplatPath));return _.useMemo(()=>uR(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function G3(t,e){return Q3(t,e)}function Q3(t,e,n,r){ql()||ke(!1);let{navigator:i}=_.useContext(yi),{matches:s}=_.useContext(hs),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=Ao(),u;if(e){var h;let S=typeof e=="string"?ds(e):e;a==="/"||(h=S.pathname)!=null&&h.startsWith(a)||ke(!1),u=S}else u=c;let f=u.pathname||"/",m=a==="/"?f:f.slice(a.length)||"/",v=I3(t,{pathname:m}),E=eU(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Jr([a,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:Jr([a,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&E?_.createElement(Mh.Provider,{value:{location:hl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fr.Pop}},E):E}function Y3(){let t=iU(),e=H3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const X3=_.createElement(Y3,null);class J3 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(hs.Provider,{value:this.props.routeContext},_.createElement(fR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z3(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(Lh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(hs.Provider,{value:e},r)}function eU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));u>=0||ke(!1),o=o.slice(0,Math.min(o.length,u+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,v=!1,E=null,S=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,E=h.route.errorElement||X3,a&&(c<0&&f===0?(oU("route-fallback",!1),v=!0,S=null):c===f&&(v=!0,S=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),p=()=>{let g;return m?g=E:v?g=S:h.route.Component?g=_.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=u,_.createElement(Z3,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(J3,{location:n.location,revalidation:n.revalidation,component:E,error:m,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var mR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mR||{}),yd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yd||{});function tU(t){let e=_.useContext(Lh);return e||ke(!1),e}function nU(t){let e=_.useContext(hR);return e||ke(!1),e}function rU(t){let e=_.useContext(hs);return e||ke(!1),e}function gR(t){let e=rU(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function iU(){var t;let e=_.useContext(fR),n=nU(yd.UseRouteError),r=gR(yd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sU(){let{router:t}=tU(mR.UseNavigateStable),e=gR(yd.UseNavigateStable),n=_.useRef(!1);return pR(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hl({fromRouteId:e},s)))},[t,e])}const cE={};function oU(t,e,n){!e&&!cE[t]&&(cE[t]=!0)}function sn(t){ke(!1)}function aU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fr.Pop,navigator:s,static:o=!1,future:l}=t;ql()&&ke(!1);let a=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:a,navigator:s,static:o,future:hl({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=ds(r));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,E=_.useMemo(()=>{let S=uo(u,a);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:v},navigationType:i}},[a,u,h,f,m,v,i]);return E==null?null:_.createElement(yi.Provider,{value:c},_.createElement(Mh.Provider,{children:n,value:E}))}function lU(t){let{children:e,location:n}=t;return G3(qm(e),n)}new Promise(()=>{});function qm(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,qm(r.props.children,s));return}r.type!==sn&&ke(!1),!r.props.index||!r.props.children||ke(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}function yR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uU(t,e){return t.button===0&&(!e||e==="_self")&&!cU(t)}const dU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],hU=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],fU="6";try{window.__reactRouterVersion=fU}catch{}const pU=_.createContext({isTransitioning:!1}),mU="startTransition",uE=ap[mU];function gU(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=E3({window:i,v5Compat:!0}));let o=s.current,[l,a]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=_.useCallback(h=>{c&&uE?uE(()=>a(h)):a(h)},[a,c]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.createElement(aU,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const yU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vh=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=yR(e,dU),{basename:m}=_.useContext(yi),v,E=!1;if(typeof c=="string"&&vU.test(c)&&(v=c,yU))try{let g=new URL(window.location.href),w=c.startsWith("//")?new URL(g.protocol+c):new URL(c),T=uo(w.pathname,m);w.origin===g.origin&&T!=null?c=T+w.search+w.hash:E=!0}catch{}let S=q3(c,{relative:i}),y=wU(c,{replace:o,state:l,target:a,preventScrollReset:u,relative:i,unstable_viewTransition:h});function p(g){r&&r(g),g.defaultPrevented||y(g)}return _.createElement("a",vd({},f,{href:v||S,onClick:E||s?r:p,ref:n,target:a}))}),vn=_.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:a,unstable_viewTransition:c,children:u}=e,h=yR(e,hU),f=$h(a,{relative:h.relative}),m=Ao(),v=_.useContext(hR),{navigator:E,basename:S}=_.useContext(yi),y=v!=null&&EU(f)&&c===!0,p=E.encodeLocation?E.encodeLocation(f).pathname:f.pathname,g=m.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(g=g.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&S&&(w=uo(w,S)||w);const T=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let I=g===p||!o&&g.startsWith(p)&&g.charAt(T)==="/",C=w!=null&&(w===p||!o&&w.startsWith(p)&&w.charAt(p.length)==="/"),x={isActive:I,isPending:C,isTransitioning:y},$=I?r:void 0,M;typeof s=="function"?M=s(x):M=[s,I?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let he=typeof l=="function"?l(x):l;return _.createElement(Vh,vd({},h,{"aria-current":$,className:M,ref:n,style:he,to:a,unstable_viewTransition:c}),typeof u=="function"?u(x):u)});var Km;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Km||(Km={}));var dE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dE||(dE={}));function _U(t){let e=_.useContext(Lh);return e||ke(!1),e}function wU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,a=Kl(),c=Ao(),u=$h(t,{relative:o});return _.useCallback(h=>{if(uU(h,n)){h.preventDefault();let f=r!==void 0?r:gd(c)===gd(u);a(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,a,u,r,i,n,t,s,o,l])}function EU(t,e){e===void 0&&(e={});let n=_.useContext(pU);n==null&&ke(!1);let{basename:r}=_U(Km.useViewTransitionState),i=$h(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=uo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=uo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wm(i.pathname,o)!=null||Wm(i.pathname,s)!=null}var vR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hE=H.createContext&&H.createContext(vR),SU=["attr","size","title"];function TU(t,e){if(t==null)return{};var n=IU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(this,arguments)}function fE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(n),!0).forEach(function(r){CU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CU(t,e,n){return e=xU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xU(t){var e=RU(t,"string");return typeof e=="symbol"?e:String(e)}function RU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _R(t){return t&&t.map((e,n)=>H.createElement(e.tag,wd({key:n},e.attr),_R(e.child)))}function ko(t){return e=>H.createElement(bU,_d({attr:wd({},t.attr)},e),_R(t.child))}function bU(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=TU(t,SU),l=i||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),H.createElement("svg",_d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:wd(wd({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&H.createElement("title",null,s),t.children)};return hE!==void 0?H.createElement(hE.Consumer,null,n=>e(n)):e(vR)}function PU(t){return ko({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function AU(t){return ko({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function kU(t){return ko({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function NU(t){return ko({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function wR(t){return ko({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function OU(t){return ko({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}const DU=({isOpen:t,onClose:e})=>{const[n,r]=_.useState(""),i=()=>{OF(n),e()};return d.jsx(d.Fragment,{children:t&&d.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:d.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h5",{className:"modal-title",children:"Enviar Correo Electrónico para Cambiar Contraseña"}),d.jsx("button",{title:"Cerrar",type:"button",className:"btn-close",onClick:e})]}),d.jsx("div",{className:"modal-body",children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Correo Electrónico:"}),d.jsx("input",{id:"email",type:"email",className:"form-control",value:n,onChange:s=>r(s.target.value),required:!0})]})}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{type:"button",className:"btn btn-primary",onClick:i,children:"Enviar Correo"}),d.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cerrar"})]})]})})})})},jU=()=>{const t=Kl(),[e,n]=_.useState(""),[r,i]=_.useState(""),[s,o]=_.useState(!1),[l,a]=_.useState(!1),c=Xg(),u=ge(w=>w.auth.loggedIn),h=ge(w=>w.auth.user),f=ge(w=>w.auth.error),m=ge(w=>w.auth.emailVerified),v=w=>{w.preventDefault(),setTimeout(()=>{c(PF(e,r))},1e3)},E=w=>{n(w.target.value)},S=w=>{i(w.target.value)},y=()=>{o(!s)};_.useEffect(()=>{if(u&&h&&m){const w=setTimeout(()=>{t("/home")},3e3);return()=>clearTimeout(w)}},[u,h,m]);const[p,g]=_.useState("");return _.useEffect(()=>{(async()=>{const w=bl(Wl,"Empresa/Logo/logo");Rl(w).then(T=>{g(T)}).catch(T=>{console.error("Error descargando el logo:",T)})})()},[]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-md-6",children:d.jsxs("div",{className:"card shadow-lg",children:[f&&d.jsx("div",{className:"alert-popup",children:d.jsx("div",{className:"alert-message alert alert-danger",children:d.jsx("span",{children:f})})}),!h&&d.jsxs("form",{onSubmit:v,children:[d.jsxs("div",{children:[d.jsx("img",{src:p,alt:"logo",width:"200",height:"150"}),d.jsx("h3",{children:"Bienvenido!"}),d.jsx("h3",{children:"Inicio de Sesión"})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"email",className:"form-label text-start text-muted",children:"Correo:"}),d.jsx("input",{type:"email",id:"email",value:e,onChange:E,className:"form-control",placeholder:"Ej: correo@example.com"})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"password",className:"form-label text-start text-muted",children:"Contraseña:"}),d.jsxs("div",{className:"input-group",children:[d.jsx("input",{type:s?"text":"password",id:"password",value:r,onChange:S,className:"form-control",placeholder:"Ej: contraseña123"}),d.jsxs("button",{className:"btn btn-outline-secondary",type:"button",onClick:y,children:[s?d.jsx(wR,{}):d.jsx(NU,{})," "]})]})]}),d.jsx("button",{type:"submit",className:"btn btn-primary",children:"Iniciar Sesión"}),d.jsxs("div",{children:[d.jsx("br",{}),d.jsx("label",{children:"¿No tiene cuenta?"}),d.jsx(Vh,{to:"/crear-cuenta",children:"Crear Cuenta"})]}),d.jsxs("div",{children:[d.jsx("span",{children:"¿Olvidaste tu contraseña? "}),d.jsx("span",{className:"link-style",onClick:()=>a(!0),children:"Haz clic aquí"}),d.jsx(DU,{isOpen:l,onClose:()=>a(!1)})]})]}),h&&d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("img",{src:p,alt:"logo",width:"200",height:"150"}),d.jsx("h3",{children:"Bienvenido!"})]}),d.jsx("label",{children:"Credenciales Correctas!"}),d.jsxs("label",{children:["Hola ",h.nombre,"!"]})]})]})})})})})},Tr=()=>Xg(),vi=ge,LU={nombre:"",correo:"",password:"",cedula:"",telefono:"",provincia:"",canton:"",distrito:"",direccion:"",fechaNacimiento:"",genero:""},MU=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState([]),[o,l]=_.useState(""),a=Tr(),c=ge(T=>T.auth.emailVerified),u=ge(T=>T.auth.notification),h=ge(T=>T.auth.error),f=ge(T=>T.paisInfo.datosPais),m=ge(T=>T.auth.loggedIn),v=ge(T=>T.auth.user),[E,S]=_.useState(LU);_.useEffect(()=>{if(a(tR()),f){const T=Bm(f);e(T)}},[]);const[y,p]=_.useState("");_.useEffect(()=>{(async()=>{const T=bl(Wl,"Empresa/Logo/logo");Rl(T).then(I=>{p(I)}).catch(I=>{console.error("Error descargando el logo:",I)})})()},[]);const g=T=>{const{name:I,value:C}=T.target;if(I==="provincia"){l(C);const x=ou(C,f);r(x),s([]),S({...E,[I]:C})}else if(I==="canton"){S({...E,[I]:C,distrito:""});const x=au(f[o].cantones[C].distritos);s(x)}else S({...E,[I]:C})},w=T=>{if(T.preventDefault(),!Object.values(E).every(C=>C.trim()!=="")){a(zm("Porfavor llene todos los campos."));return}a(AF(E))};return d.jsxs("div",{children:[d.jsxs("div",{className:"container",children:[d.jsxs("div",{children:[d.jsx("img",{src:y,alt:"logo",width:"200",height:"150"}),!v&&!m&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Bienvenido!"}),d.jsx("h2",{children:"Crear Cuenta de Usuario "})]})]}),!c&&u&&d.jsx("div",{children:d.jsxs("p",{children:[u,", Debes confirmar tu correo electrónico! "]})}),!u&&d.jsx("div",{className:"card shadow-lg",children:d.jsxs("form",{onSubmit:w,className:"signup-form",children:[h&&d.jsx("div",{className:"alert-popup",children:d.jsx("div",{className:"alert-message alert alert-danger",children:d.jsx("span",{children:h})})}),d.jsxs("div",{className:"row",children:[d.jsxs("div",{className:"col",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"nombre",children:"Nombre Completo:"}),d.jsx("input",{type:"text",id:"nombre",name:"nombre",value:E.nombre,onChange:g,className:"form-control",placeholder:"Ej: Juan Pérez"})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"fechaNacimiento",children:"Fecha de Nacimiento:"}),d.jsx("input",{type:"date",id:"fechaNacimiento",name:"fechaNacimiento",value:E.fechaNacimiento,onChange:g,className:"form-control"})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"provincia",children:"Provincia:"}),d.jsxs("select",{id:"provincia",name:"provincia",value:E.provincia,onChange:g,className:"form-control",children:[d.jsx("option",{value:"",children:"Seleccione una provincia..."}),t.map((T,I)=>d.jsx("option",{value:T,children:T},I))]})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"direccion",children:"Dirección Exacta:"}),d.jsx("input",{type:"text",id:"direccion",name:"direccion",value:E.direccion,onChange:g,className:"form-control",placeholder:"Ej: 123 Calle Principal, Barrio Los Ángeles",required:!0})]})]}),d.jsxs("div",{className:"col",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"correo",children:"Correo:"}),d.jsx("input",{type:"correo",id:"correo",name:"correo",value:E.correo,onChange:g,className:"form-control",placeholder:"Ej: correo@example.com"})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"telefono",children:"Teléfono:"}),d.jsx("input",{type:"text",id:"telefono",name:"telefono",value:E.telefono,onChange:g,className:"form-control",placeholder:"Ej: 8888-8888",pattern:"\\d*",title:"Solo se permiten números."})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"canton",children:"Cantón:"}),d.jsxs("select",{id:"canton",name:"canton",value:E.canton,onChange:g,className:"form-control",children:[d.jsx("option",{value:"",children:"Seleccione un cantón..."}),n.map((T,I)=>d.jsx("option",{value:T,children:T},I))]})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"genero",children:"Género:"}),d.jsxs("select",{id:"genero",name:"genero",value:E.genero,onChange:g,className:"form-control",children:[d.jsx("option",{value:"",children:"Seleccione un género..."}),d.jsx("option",{value:"M",children:"Masculino"}),d.jsx("option",{value:"F",children:"Femenino"}),d.jsx("option",{value:"O",children:"Otro"})]})]})]}),d.jsxs("div",{className:"col",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"password",children:"Contraseña:"}),d.jsx("input",{type:"password",id:"password",name:"password",value:E.password,onChange:g,className:"form-control",placeholder:"Ej: contraseña123"})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"cedula",children:"Cédula:"}),d.jsx("input",{type:"text",id:"cedula",name:"cedula",value:E.cedula,onChange:g,className:"form-control",placeholder:"Ej: 123456789",pattern:"\\d*",title:"Solo se permiten números"})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"distrito",children:"Distrito:"}),d.jsxs("select",{id:"distrito",name:"distrito",value:E.distrito,onChange:g,className:"form-control",children:[d.jsx("option",{value:"",children:"Seleccione un distrito..."}),i.map((T,I)=>d.jsx("option",{value:T,children:T},I))]})]})]})]}),d.jsx("button",{type:"submit",className:"btn btn-primary",children:"Crear Cuenta"})]})})]}),d.jsx("br",{}),!v&&!m&&d.jsx(d.Fragment,{children:d.jsxs("div",{children:[d.jsx("label",{children:"¿Ya tiene cuenta?"}),d.jsx(Vh,{to:"/iniciar-sesion",children:"Iniciar Sesión"})]})})]})};function pE({to:t,curso:e}){return d.jsxs("div",{className:`card rounded-4 my-3 ${e.visible===2?"custom-card-proximamente":"custom-card"}`,children:[d.jsx("img",{src:e.download_url,alt:"Imagen",className:"card-img-top rounded",style:{height:"70%"}}),d.jsx("div",{className:"card-body",children:d.jsx("h5",{className:"card-title my-0",children:e.nombre})}),e.visible===1&&d.jsx("div",{className:"card-footer",children:d.jsxs(Vh,{to:t,state:{curso:e},className:"read-more",children:["Leer más ",d.jsx(AU,{})]})})]})}function $U(){const[t,e]=_.useState([]),[n,r]=_.useState(!1),[i,s]=_.useState(void 0),o=vi(nR),l=Tr();return _.useEffect(()=>{(async()=>await l(Ta()))()},[l]),_.useEffect(()=>{r(o.loading),s(o.error),!o.loading&&!o.error&&e(o.cursos)},[o]),d.jsx("section",{children:d.jsxs("div",{className:"row mt-4",children:[d.jsxs("div",{className:"col p-4 me-md-3",children:[d.jsx("h2",{className:"text-center",children:"Cursos Disponibles"}),d.jsx("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:t.filter(a=>a.visible===1).map(a=>d.jsx("div",{className:"col",children:d.jsx(pE,{to:`/cursos/${a.nombre}`,curso:a})},a.id))})]}),d.jsxs("div",{className:"col-md-3 bg-info-subtle p-4 ms-md-3 mt-4 mt-md-0",children:[d.jsx("h2",{children:"Próximamente"}),d.jsx("div",{className:"row row-cols-1",children:t.filter(a=>a.visible===2).map(a=>d.jsx("div",{className:"col mb-4",children:d.jsx(pE,{to:`/curso/${a.nombre}`,curso:a})},a.id))})]})]})})}const VU=()=>{const t=vi(eR);return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"text-center rounded mb-5",children:[d.jsx("img",{src:t.head.download_url_principal,className:"img-fluid"}),d.jsx("h1",{className:"display-1 text-black",children:t.head.titulo_principal}),d.jsx("h3",{className:"display-6 text-black",children:t.head.subtitulo_principal})]})})},FU=()=>{const t=vi(eR),[e,n]=_.useState([]);return _.useEffect(()=>{n(t.sections)},[t]),d.jsxs(d.Fragment,{children:[t.loading&&d.jsx("div",{children:"Cargando..."}),e.map(r=>r.posicion_id==1?d.jsxs("div",{className:"row mb-3 border",children:[d.jsx("div",{className:"col",children:d.jsx("img",{className:"img-thumbnail",src:r.download_url})}),d.jsxs("div",{className:"col",children:[d.jsx("h3",{children:r.titulo}),d.jsx("h5",{children:r.subtitulo}),d.jsx("p",{className:"lead",children:r.descripcion})]})]},`${r.id}-div1`):d.jsxs("div",{className:"row mb-3 border",children:[d.jsxs("div",{className:"col",children:[d.jsx("h3",{children:r.titulo}),d.jsx("h5",{children:r.subtitulo}),d.jsx("p",{className:"lead",children:r.descripcion})]}),d.jsx("div",{className:"col",children:d.jsx("img",{className:"img-thumbnail",src:r.download_url})})]},`${r.id}-div2`))]})},UU=()=>{const t=Tr();return _.useEffect(()=>{(async()=>(await t(iu()),await t(su())))()},[]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[d.jsx(VU,{}),d.jsx("div",{className:"container-fluid",children:d.jsx(FU,{})})]})})},zU=({totalCursos:t,estudiantesCertificados:e})=>d.jsx("div",{className:"container mt-5",children:d.jsx("div",{className:"row",children:d.jsxs("div",{className:"col-md-6 mx-auto",children:[" ",d.jsx("div",{className:"card custom-card",children:d.jsxs("div",{className:"card-body",children:[d.jsxs("div",{className:"row align-items-center",children:[d.jsx("div",{className:"col-12 text-center mb-3",children:d.jsx(kU,{size:48,style:{color:"#a8a2e3"}})}),d.jsx("div",{className:"col-12 text-center",children:d.jsx("p",{style:{fontWeight:"bold"},children:t})}),d.jsx("div",{className:"col-12 text-center",children:d.jsx("p",{style:{fontWeight:"bold"},children:"Cursos Ofrecidos"})})]}),d.jsx("hr",{}),d.jsxs("div",{className:"row align-items-center",children:[d.jsx("div",{className:"col-12 text-center mb-3",children:d.jsx(OU,{size:48,style:{color:"#a8a2e3"}})}),d.jsx("div",{className:"col-12 text-center",children:d.jsx("p",{style:{fontWeight:"bold"},children:e})}),d.jsx("div",{className:"col-12 text-center",children:d.jsx("p",{style:{fontWeight:"bold"},children:"Estudiantes Certificados"})})]})]})})]})})}),mE=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,s]=_.useState(""),o=_.useRef(null),l=Tr(),{cursosActivos:a,aprobadosTotales:c}=ge(u=>u.statistics);return _.useEffect(()=>{l(l3())},[l]),_.useEffect(()=>{const u=bl(Wl,"Home/imagen-inicio");Rl(u).then(h=>{s(h)}).catch(h=>{console.error("Error descargando la imagen:",h)}),(async()=>{const h=await Dh("/Home/8Yl9xbZuRNFTUItTEKGU");e(h==null?void 0:h.titulo),r(h==null?void 0:h.descripcion)})()},[]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"container mt-5",children:[d.jsxs("div",{className:"row text-start",children:[d.jsxs("div",{className:"col-sm-5",children:[d.jsx("h2",{className:"fw-bold color-title mb-3",children:t}),d.jsxs("p",{children:[n," "]})]}),d.jsx("div",{className:"col-sm-7 ",ref:o,children:d.jsx("img",{src:i,alt:"Imagen de página de inicio,",className:"img-fluid rounded shadow-lg"})})]}),d.jsx("div",{className:"row",children:d.jsx(zU,{totalCursos:a,estudiantesCertificados:c})})]})})},Ed=({texto:t,mostrar:e,onClose:n,onConfirm:r,segundos:i})=>(_.useEffect(()=>{if(i){const s=setTimeout(()=>{n&&n()},i*1e3);return()=>clearTimeout(s)}},[i,n]),d.jsx("div",{className:`modal ${e?"show":""}`,style:{display:e?"block":"none"},children:d.jsx("div",{className:"modal-dialog",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h5",{className:"modal-title",children:"Notificación"}),n&&d.jsx("button",{title:"btn-close",type:"button",className:"btn-close",onClick:n})," "]}),d.jsx("div",{className:"modal-body",children:d.jsx("p",{children:t})}),d.jsxs("div",{className:"modal-footer",children:[n&&d.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cancelar"})," ",r&&d.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Aceptar"})," "]})]})})})),gE=["Masculino","Femenino","Otro"],ep=["Común","Administrador"],BU={correo:"Correo Electrónico",cedula:"Cédula",telefono:"Teléfono",provincia:"Provincia",canton:"Cantón",distrito:"Distrito",direccion:"Dirección",fechaNacimiento:"Fecha de Nacimiento",genero:"Género",nombre:"Nombre",user_type:"Tipo de Usuario"},HU=({pUsuario:t})=>{const e=Tr(),n=ge(j=>j.auth.loggedIn);let r=null;t?r=t:r=ge(j=>j.auth.user);const i=ge(j=>j.paisInfo.datosPais),s={nombre:r.nombre,correo:r==null?void 0:r.correo,cedula:r==null?void 0:r.cedula,telefono:r==null?void 0:r.telefono,provincia:r==null?void 0:r.provincia,canton:r==null?void 0:r.canton,distrito:r==null?void 0:r.distrito,direccion:r==null?void 0:r.direccion,fechaNacimiento:r==null?void 0:r.fechaNacimiento,genero:r==null?void 0:r.genero,user_type:r.user_type},[o,l]=_.useState(!1),[a,c]=_.useState(s),[u,h]=_.useState(!1),[f,m]=_.useState(!1),[v,E]=_.useState([]),[S,y]=_.useState([]),[p,g]=_.useState([]),[w,T]=_.useState(""),[I,C]=_.useState(""),[x,$]=_.useState(""),[M,he]=_.useState(""),Ue=Kl();_.useEffect(()=>{if(!n&&!r&&Ue("/"),r&&i){const j=Bm(i);if(E(j),i[r.provincia]&&i[r.provincia].cantones&&i[r.provincia].cantones[r.canton].distritos){const W=ou(r.provincia,i);y(W);const ee=au(i[r.provincia].cantones[r.canton].distritos);g(ee)}}},[r,i,Ue,Bm,ou,au]);const ce=(j,W)=>{T(j);const ee=ou(j,i);y(ee),g([]),c({...a,[W]:j})},Ot=(j,W)=>{C(j);const ee=au(i[w].cantones[j].distritos);g(ee),c({...a,[W]:j,distrito:""})},Dt=j=>{const{name:W,value:ee}=j.target;try{W==="user_type"&&he(ep[parseInt(ee)]),W==="provincia"?ce(ee,W):W==="canton"?Ot(ee,W):($(ee),c({...a,[W]:ee}))}catch{ce(r==null?void 0:r.provincia,W),Ot(ee,W)}},jt=()=>{l(!0),c(s)},dt=()=>{l(!1),r&&c(s)},O=()=>{if(!Object.keys(s).some(ee=>ee==="correo"||ee==="estado"||ee==="user_type"?!1:s[ee]!==a[ee])){h(!0);return}if(!(a!=null&&a.cedula)||!(a!=null&&a.nombre)||!(a!=null&&a.canton)||x===""){m(!0);return}const W=/^[0-9]+$/;if(a.telefono&&!W.test(a.telefono)||a.cedula&&!W.test(a.cedula)){m(!0);return}h(!0)},V=()=>{m(!1)},z=()=>{e(NF(a,a.correo,t)),l(!1),h(!1)},ae=()=>{h(!1)},Z=j=>ep[j];return d.jsxs("div",{className:"container shadow-lg",children:[d.jsx("br",{}),!t&&d.jsx(d.Fragment,{children:d.jsx("h2",{children:"Mis Datos Personales"})}),t&&d.jsx(d.Fragment,{children:d.jsx("h2",{children:"Datos de la Cuenta"})}),d.jsx("br",{}),d.jsx("div",{className:"row",children:a&&Object.entries(a).map(([j,W])=>{if(j==="correo"||j==="estado")return null;if(j==="user_type"&&!t)return null;const ee=BU[j]||j;if(j==="fechaNacimiento"){const ne=(W instanceof Ie?W.toDate().toDateString():W.toString()).split("-"),pn=`${ne[2]}/${ne[1]}/${ne[0]}`;return d.jsxs("div",{className:"col-md-3 mb-3",children:[d.jsx("label",{className:"form-label",children:ee}),o?d.jsx("input",{title:"fecha-nacimiento",type:"date",name:j,value:W,onChange:Dt,className:"form-control"}):d.jsx("div",{className:"form-control",children:pn})]},j)}return j==="provincia"||j==="canton"||j==="distrito"||j==="genero"||j==="user_type"?d.jsxs(d.Fragment,{children:[t&&d.jsxs("div",{className:"col-md-3 mb-3",children:[d.jsx("label",{className:"form-label",children:ee}),o?d.jsxs("select",{title:"form-select",name:j,value:a[j],onChange:Dt,className:"form-select",children:[d.jsxs("option",{value:"",children:["Seleccionar ",ee]}),j==="provincia"&&v.map((B,ne)=>d.jsx("option",{value:B,children:B},ne)),j==="canton"&&S.map((B,ne)=>d.jsx("option",{value:B,children:B},ne)),j==="distrito"&&p.map((B,ne)=>d.jsx("option",{value:B,children:B},ne)),j==="genero"&&gE.map((B,ne)=>d.jsx("option",{value:B,children:B},ne)),j==="user_type"&&ep.map((B,ne)=>d.jsx("option",{value:ne,selected:a.user_type===ne,children:B},ne))]}):d.jsx("div",{className:"form-control",children:j==="user_type"?Z(a.user_type):W})]},j),!t&&d.jsxs("div",{className:"col-md-3 mb-3",children:[d.jsx("label",{className:"form-label",children:ee}),o?d.jsxs("select",{title:"form-select",name:j,value:a[j],onChange:Dt,className:"form-select",children:[d.jsxs("option",{value:"",children:["Seleccionar ",ee]}),j==="provincia"&&v.map((B,ne)=>d.jsx("option",{value:B,children:B},ne)),j==="canton"&&S.map((B,ne)=>d.jsx("option",{value:B,children:B},ne)),j==="distrito"&&p.map((B,ne)=>d.jsx("option",{value:B,children:B},ne)),j==="genero"&&gE.map((B,ne)=>d.jsx("option",{value:B,children:B},ne))]}):d.jsx("div",{className:"form-control",children:W})]},j)]}):d.jsxs("div",{className:"col-md-3 mb-3",children:[d.jsx("label",{className:"form-label",children:ee}),o?d.jsx("input",{title:"contraseña",type:"text",name:j,value:a[j],onChange:Dt,className:"form-control"}):d.jsx("div",{className:"form-control",children:W})]},j)})}),d.jsx("div",{className:"button-container",children:o?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:dt,className:"btn btn-secondary me-2",children:"Cancelar"}),d.jsx("button",{onClick:O,className:"btn btn-success",children:"Guardar"})]}):d.jsx("button",{onClick:jt,className:"btn btn-primary me-2",children:"Editar"})}),d.jsx(Ed,{texto:"Por favor, complete todos los campos obligatorios.",mostrar:f,onConfirm:V}),d.jsx(Ed,{texto:"¿Está seguro que desea guardar los cambios?",mostrar:u,onClose:ae,onConfirm:z}),d.jsx("br",{})]})},WU=()=>{const t=vi(rR);return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"text-center rounded mb-5",children:[d.jsx("img",{src:t.main.download_url,className:"img-fluid"}),d.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),d.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo})]})})},yE=t=>d.jsx(d.Fragment,{children:t.link.map(e=>d.jsx("div",{className:"text-sm-center",children:d.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),qU=()=>{const t=vi(rR),[e,n]=_.useState();return _.useEffect(()=>{n(t.adsList)},[t]),d.jsxs(d.Fragment,{children:[t.loading&&d.jsx("div",{children:"Cargando..."}),e!=null&&(e==null?void 0:e.map(r=>r.posicion_id==1?d.jsxs("div",{className:"row mb-3 border",children:[d.jsx("div",{className:"col",children:d.jsx("img",{className:"img-thumbnail",src:r.download_url})}),d.jsxs("div",{className:"col",children:[d.jsx("h3",{children:r.titulo}),d.jsx("h5",{children:r.subtitulo}),d.jsx("p",{className:"lead",children:r.descripcion}),d.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),d.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:d.jsx("div",{className:"card card-body",children:d.jsx(yE,{link:r.links},`${r.id}-ads-linkfield1`)})})]})]},`${r.id}-div1`):d.jsxs("div",{className:"row mb-3 border",children:[d.jsxs("div",{className:"col",children:[d.jsx("h3",{children:r.titulo}),d.jsx("h5",{children:r.subtitulo}),d.jsx("p",{className:"lead",children:r.descripcion}),d.jsx("button",{className:`\r
                            \r
                            btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),d.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:d.jsx("div",{className:"card card-body",children:d.jsx(yE,{link:r.links},`${r.id}-ads-linkfield2`)})})]}),d.jsx("div",{className:"col",children:d.jsx("img",{className:"img-thumbnail",src:r.download_url})})]},`${r.id}-div2`)))]})},KU=()=>{const t=Tr();return _.useEffect(()=>{t(lu()),t(cu())},[]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[d.jsx(WU,{}),d.jsx("div",{className:"container-fluid",children:d.jsx(qU,{})})]})})},GU=()=>{const t=vi(iR);return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"text-center rounded mb-5",children:[d.jsx("img",{src:t.main.download_url,className:"img-fluid"}),d.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),d.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo})]})})},vE=t=>d.jsx(d.Fragment,{children:t.link.map(e=>d.jsx("div",{className:"text-sm-center",children:d.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),QU=()=>{const t=vi(iR),[e,n]=_.useState();return _.useEffect(()=>{n(t.ServiceList)},[t]),d.jsxs(d.Fragment,{children:[t.loading&&d.jsx("div",{children:"Cargando..."}),e!=null&&(e==null?void 0:e.map(r=>r.posicion_id==1?d.jsxs("div",{className:"row mb-3 border",children:[d.jsx("div",{className:"col",children:d.jsx("img",{className:"img-thumbnail",src:r.download_url})}),d.jsxs("div",{className:"col",children:[d.jsx("h3",{children:r.titulo}),d.jsx("h5",{children:r.subtitulo}),d.jsx("p",{className:"lead",children:r.descripcion}),d.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),d.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:d.jsx("div",{className:"card card-body",children:d.jsx(vE,{link:r.links},`${r.id}-service-linkfield1`)})})]})]},`${r.id}-div1`):d.jsxs("div",{className:"row mb-3 border",children:[d.jsxs("div",{className:"col",children:[d.jsx("h3",{children:r.titulo}),d.jsx("h5",{children:r.subtitulo}),d.jsx("p",{className:"lead",children:r.descripcion}),d.jsx("button",{className:`\r
                            \r
                            btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),d.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:d.jsx("div",{className:"card card-body",children:d.jsx(vE,{link:r.links},`${r.id}-service-linkfield2`)})})]}),d.jsx("div",{className:"col",children:d.jsx("img",{className:"img-thumbnail",src:r.download_url})})]},`${r.id}-div2`)))]})},YU=()=>{const t=Tr();return _.useEffect(()=>{t(uu()),t(du())},[]),d.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[d.jsx(GU,{}),d.jsx("div",{className:"container-fluid",children:d.jsx(QU,{})})]})},XU=({identificadorCurso:t})=>{const[e,n]=_.useState(!1),[r,i]=_.useState(!1),s=ge(v=>v.auth.user),o=ge(v=>v.auth.loggedIn),[l,a]=_.useState("");_.useEffect(()=>{o&&s&&u()},[o,s]);const c=async v=>{const E=gi(kn,"Usuarios"),S=kh(E,Oh("correo","==",v)),g=(await us(S)).docs[0].id;a(g)},u=async()=>{const v=(s==null?void 0:s.correo)||"";await c(v)},h=()=>{const v=new Date;return Ie.fromDate(v)},f=async()=>{u();const v=t,E=h();try{const S=Rh(kn,"Cursos",v),p=(await Qx(S)).data(),g=(p==null?void 0:p.postulados)||[];g.some(T=>T.id===l)?i(!0):(g.push({hora_solicitud:E,id:l}),await _F(S,{postulados:g}),n(!0))}catch(S){console.error("Error al matricular: ",S)}},m=()=>{i(!1),n(!1)};return d.jsxs(d.Fragment,{children:[o&&d.jsxs("div",{children:[d.jsx("button",{type:"button",className:"btn btn-matricula btn-sm","data-bs-toggle":"modal","data-bs-target":"#ModalMatricula",children:"Matricular"}),d.jsx("div",{className:"modal fade",id:"ModalMatricula",tabIndex:-1,"aria-labelledby":"matriculaModalLabel","aria-hidden":"true",children:d.jsx("div",{className:"modal-dialog",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h1",{className:"modal-title fs-5",id:"matriculaModalLabel",children:"Matricular Curso"}),d.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),d.jsx("div",{className:"modal-body",children:"¿Seguro/a de matricular el curso?"}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),d.jsx("button",{type:"button",className:"btn btn-success",onClick:f,"data-bs-dismiss":"modal",children:"Matricular"})]})]})})}),d.jsx(Ed,{texto:"La solicitud de matrícula ha sido enviada.",mostrar:e,onConfirm:m}),d.jsx(Ed,{texto:"Ya te encuentras en la lista de postulados.",mostrar:r,onConfirm:m})]}),!o&&d.jsx(vn,{className:({isActive:v})=>`nav-item nav-link ${v?"active":""} inicia-sesion`,to:"/iniciar-sesion",children:d.jsx("h4",{children:"Inicia Sesión y Matricula Ya!!!"})})]})};function JU(){const t=Ao(),e=Kl(),n=ge(l=>l.auth.user),r=ge(l=>l.auth.loggedIn),{state:i}=t,{curso:s}=i,o=()=>{e("/cursos")};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"d-flex align-items-center",children:d.jsxs("button",{className:"btn btn-outline-primary me-2",onClick:o,children:[d.jsx(PU,{})," Volver"]})}),d.jsxs("div",{className:"container mt-5",children:[d.jsx("div",{className:"d-flex align-items-center mb-4",children:d.jsx("h2",{className:"mb-0",children:s.nombre})}),d.jsxs("div",{className:"row text-start",children:[d.jsx("div",{className:"col-md-6",children:d.jsx("img",{src:s.download_url,style:{width:"100%",height:"400px"},alt:"Imagen del curso",className:"img-fluid mb-4 rounded"})}),d.jsxs("div",{className:"col-md-6",children:[d.jsxs("p",{className:"mb-3",children:[d.jsx("strong",{children:"Descripción:"})," ",s.descripcion]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Modalidad:"})," ",qF(s.modalidad)]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fecha de Inicio:"})," ",s.fecha_inicio&&new Date(s.fecha_inicio.seconds*1e3).toLocaleDateString()]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fecha de Fin:"})," ",s.fecha_finalizacion&&new Date(s.fecha_finalizacion.seconds*1e3).toLocaleDateString()]}),r&&n&&d.jsx("div",{children:s.link_plataforma&&d.jsxs("p",{children:[d.jsx("strong",{children:"Link del Curso:"})," ",d.jsx("a",{href:s.link_plataforma,target:"_blank",rel:"noopener noreferrer",children:s.link_plataforma})]})}),d.jsx("p",{children:d.jsx("strong",{children:"Horario:"})}),d.jsx("ul",{children:s.horario.map((l,a)=>d.jsxs("li",{children:[l.dia,": ",l.hora]},a))}),d.jsx(XU,{identificadorCurso:s.id||""})]})]})]})]})}var wt=function(){return wt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wt.apply(this,arguments)};function Sd(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var we="-ms-",Ia="-moz-",fe="-webkit-",ER="comm",Fh="rule",bv="decl",ZU="@import",SR="@keyframes",e9="@layer",TR=Math.abs,Pv=String.fromCharCode,Gm=Object.assign;function t9(t,e){return Qe(t,0)^45?(((e<<2^Qe(t,0))<<2^Qe(t,1))<<2^Qe(t,2))<<2^Qe(t,3):0}function IR(t){return t.trim()}function er(t,e){return(t=e.exec(t))?t[0]:t}function J(t,e,n){return t.replace(e,n)}function hu(t,e,n){return t.indexOf(e,n)}function Qe(t,e){return t.charCodeAt(e)|0}function ho(t,e,n){return t.slice(e,n)}function jn(t){return t.length}function CR(t){return t.length}function oa(t,e){return e.push(t),t}function n9(t,e){return t.map(e).join("")}function _E(t,e){return t.filter(function(n){return!er(n,e)})}var Uh=1,fo=1,xR=0,fn=0,Le=0,No="";function zh(t,e,n,r,i,s,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Uh,column:fo,length:o,return:"",siblings:l}}function br(t,e){return Gm(zh("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function vs(t){for(;t.root;)t=br(t.root,{children:[t]});oa(t,t.siblings)}function r9(){return Le}function i9(){return Le=fn>0?Qe(No,--fn):0,fo--,Le===10&&(fo=1,Uh--),Le}function xn(){return Le=fn<xR?Qe(No,fn++):0,fo++,Le===10&&(fo=1,Uh++),Le}function Fi(){return Qe(No,fn)}function fu(){return fn}function Bh(t,e){return ho(No,t,e)}function Qm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function s9(t){return Uh=fo=1,xR=jn(No=t),fn=0,[]}function o9(t){return No="",t}function tp(t){return IR(Bh(fn-1,Ym(t===91?t+2:t===40?t+1:t)))}function a9(t){for(;(Le=Fi())&&Le<33;)xn();return Qm(t)>2||Qm(Le)>3?"":" "}function l9(t,e){for(;--e&&xn()&&!(Le<48||Le>102||Le>57&&Le<65||Le>70&&Le<97););return Bh(t,fu()+(e<6&&Fi()==32&&xn()==32))}function Ym(t){for(;xn();)switch(Le){case t:return fn;case 34:case 39:t!==34&&t!==39&&Ym(Le);break;case 40:t===41&&Ym(t);break;case 92:xn();break}return fn}function c9(t,e){for(;xn()&&t+Le!==57;)if(t+Le===84&&Fi()===47)break;return"/*"+Bh(e,fn-1)+"*"+Pv(t===47?t:xn())}function u9(t){for(;!Qm(Fi());)xn();return Bh(t,fn)}function d9(t){return o9(pu("",null,null,null,[""],t=s9(t),0,[0],t))}function pu(t,e,n,r,i,s,o,l,a){for(var c=0,u=0,h=o,f=0,m=0,v=0,E=1,S=1,y=1,p=0,g="",w=i,T=s,I=r,C=g;S;)switch(v=p,p=xn()){case 40:if(v!=108&&Qe(C,h-1)==58){hu(C+=J(tp(p),"&","&\f"),"&\f",TR(c?l[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:C+=tp(p);break;case 9:case 10:case 13:case 32:C+=a9(v);break;case 92:C+=l9(fu()-1,7);continue;case 47:switch(Fi()){case 42:case 47:oa(h9(c9(xn(),fu()),e,n,a),a);break;default:C+="/"}break;case 123*E:l[c++]=jn(C)*y;case 125*E:case 59:case 0:switch(p){case 0:case 125:S=0;case 59+u:y==-1&&(C=J(C,/\f/g,"")),m>0&&jn(C)-h&&oa(m>32?EE(C+";",r,n,h-1,a):EE(J(C," ","")+";",r,n,h-2,a),a);break;case 59:C+=";";default:if(oa(I=wE(C,e,n,c,u,i,l,g,w=[],T=[],h,s),s),p===123)if(u===0)pu(C,e,I,I,w,s,h,l,T);else switch(f===99&&Qe(C,3)===110?100:f){case 100:case 108:case 109:case 115:pu(t,I,I,r&&oa(wE(t,I,I,0,0,i,l,g,i,w=[],h,T),T),i,T,h,l,r?w:T);break;default:pu(C,I,I,I,[""],T,0,l,T)}}c=u=m=0,E=y=1,g=C="",h=o;break;case 58:h=1+jn(C),m=v;default:if(E<1){if(p==123)--E;else if(p==125&&E++==0&&i9()==125)continue}switch(C+=Pv(p),p*E){case 38:y=u>0?1:(C+="\f",-1);break;case 44:l[c++]=(jn(C)-1)*y,y=1;break;case 64:Fi()===45&&(C+=tp(xn())),f=Fi(),u=h=jn(g=C+=u9(fu())),p++;break;case 45:v===45&&jn(C)==2&&(E=0)}}return s}function wE(t,e,n,r,i,s,o,l,a,c,u,h){for(var f=i-1,m=i===0?s:[""],v=CR(m),E=0,S=0,y=0;E<r;++E)for(var p=0,g=ho(t,f+1,f=TR(S=o[E])),w=t;p<v;++p)(w=IR(S>0?m[p]+" "+g:J(g,/&\f/g,m[p])))&&(a[y++]=w);return zh(t,e,n,i===0?Fh:l,a,c,u,h)}function h9(t,e,n,r){return zh(t,e,n,ER,Pv(r9()),ho(t,2,-2),0,r)}function EE(t,e,n,r,i){return zh(t,e,n,bv,ho(t,0,r),ho(t,r+1,-1),r,i)}function RR(t,e,n){switch(t9(t,e)){case 5103:return fe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fe+t+t;case 4789:return Ia+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return fe+t+Ia+t+we+t+t;case 5936:switch(Qe(t,e+11)){case 114:return fe+t+we+J(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return fe+t+we+J(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return fe+t+we+J(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return fe+t+we+t+t;case 6165:return fe+t+we+"flex-"+t+t;case 5187:return fe+t+J(t,/(\w+).+(:[^]+)/,fe+"box-$1$2"+we+"flex-$1$2")+t;case 5443:return fe+t+we+"flex-item-"+J(t,/flex-|-self/g,"")+(er(t,/flex-|baseline/)?"":we+"grid-row-"+J(t,/flex-|-self/g,""))+t;case 4675:return fe+t+we+"flex-line-pack"+J(t,/align-content|flex-|-self/g,"")+t;case 5548:return fe+t+we+J(t,"shrink","negative")+t;case 5292:return fe+t+we+J(t,"basis","preferred-size")+t;case 6060:return fe+"box-"+J(t,"-grow","")+fe+t+we+J(t,"grow","positive")+t;case 4554:return fe+J(t,/([^-])(transform)/g,"$1"+fe+"$2")+t;case 6187:return J(J(J(t,/(zoom-|grab)/,fe+"$1"),/(image-set)/,fe+"$1"),t,"")+t;case 5495:case 3959:return J(t,/(image-set\([^]*)/,fe+"$1$`$1");case 4968:return J(J(t,/(.+:)(flex-)?(.*)/,fe+"box-pack:$3"+we+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fe+t+t;case 4200:if(!er(t,/flex-|baseline/))return we+"grid-column-align"+ho(t,e)+t;break;case 2592:case 3360:return we+J(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,er(r.props,/grid-\w+-end/)})?~hu(t+(n=n[e].value),"span",0)?t:we+J(t,"-start","")+t+we+"grid-row-span:"+(~hu(n,"span",0)?er(n,/\d+/):+er(n,/\d+/)-+er(t,/\d+/))+";":we+J(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return er(r.props,/grid-\w+-start/)})?t:we+J(J(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return J(t,/(.+)-inline(.+)/,fe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jn(t)-1-e>6)switch(Qe(t,e+1)){case 109:if(Qe(t,e+4)!==45)break;case 102:return J(t,/(.+:)(.+)-([^]+)/,"$1"+fe+"$2-$3$1"+Ia+(Qe(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~hu(t,"stretch",0)?RR(J(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return J(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,l,a,c){return we+i+":"+s+c+(o?we+i+"-span:"+(l?a:+a-+s)+c:"")+t});case 4949:if(Qe(t,e+6)===121)return J(t,":",":"+fe)+t;break;case 6444:switch(Qe(t,Qe(t,14)===45?18:11)){case 120:return J(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+fe+(Qe(t,14)===45?"inline-":"")+"box$3$1"+fe+"$2$3$1"+we+"$2box$3")+t;case 100:return J(t,":",":"+we)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return J(t,"scroll-","scroll-snap-")+t}return t}function Td(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function f9(t,e,n,r){switch(t.type){case e9:if(t.children.length)break;case ZU:case bv:return t.return=t.return||t.value;case ER:return"";case SR:return t.return=t.value+"{"+Td(t.children,r)+"}";case Fh:if(!jn(t.value=t.props.join(",")))return""}return jn(n=Td(t.children,r))?t.return=t.value+"{"+n+"}":""}function p9(t){var e=CR(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function m9(t){return function(e){e.root||(e=e.return)&&t(e)}}function g9(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case bv:t.return=RR(t.value,t.length,n);return;case SR:return Td([br(t,{value:J(t.value,"@","@"+fe)})],r);case Fh:if(t.length)return n9(n=t.props,function(i){switch(er(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":vs(br(t,{props:[J(i,/:(read-\w+)/,":"+Ia+"$1")]})),vs(br(t,{props:[i]})),Gm(t,{props:_E(n,r)});break;case"::placeholder":vs(br(t,{props:[J(i,/:(plac\w+)/,":"+fe+"input-$1")]})),vs(br(t,{props:[J(i,/:(plac\w+)/,":"+Ia+"$1")]})),vs(br(t,{props:[J(i,/:(plac\w+)/,we+"input-$1")]})),vs(br(t,{props:[i]})),Gm(t,{props:_E(n,r)});break}return""})}}var y9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},po=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",bR="active",PR="data-styled-version",Hh="6.1.8",Av=`/*!sc*/
`,kv=typeof window<"u"&&"HTMLElement"in window,v9=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),Wh=Object.freeze([]),mo=Object.freeze({});function _9(t,e,n){return n===void 0&&(n=mo),t.theme!==n.theme&&t.theme||e||n.theme}var AR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),w9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,E9=/(^-|-$)/g;function SE(t){return t.replace(w9,"-").replace(E9,"")}var S9=/(a)(d)/gi,Pc=52,TE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Xm(t){var e,n="";for(e=Math.abs(t);e>Pc;e=e/Pc|0)n=TE(e%Pc)+n;return(TE(e%Pc)+n).replace(S9,"$1-$2")}var np,kR=5381,Ls=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},NR=function(t){return Ls(kR,t)};function T9(t){return Xm(NR(t)>>>0)}function I9(t){return t.displayName||t.name||"Component"}function rp(t){return typeof t=="string"&&!0}var OR=typeof Symbol=="function"&&Symbol.for,DR=OR?Symbol.for("react.memo"):60115,C9=OR?Symbol.for("react.forward_ref"):60112,x9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},R9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},b9=((np={})[C9]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},np[DR]=jR,np);function IE(t){return("type"in(e=t)&&e.type.$$typeof)===DR?jR:"$$typeof"in t?b9[t.$$typeof]:x9;var e}var P9=Object.defineProperty,A9=Object.getOwnPropertyNames,CE=Object.getOwnPropertySymbols,k9=Object.getOwnPropertyDescriptor,N9=Object.getPrototypeOf,xE=Object.prototype;function LR(t,e,n){if(typeof e!="string"){if(xE){var r=N9(e);r&&r!==xE&&LR(t,r,n)}var i=A9(e);CE&&(i=i.concat(CE(e)));for(var s=IE(t),o=IE(e),l=0;l<i.length;++l){var a=i[l];if(!(a in R9||n&&n[a]||o&&a in o||s&&a in s)){var c=k9(e,a);try{P9(t,a,c)}catch{}}}}return t}function ns(t){return typeof t=="function"}function Nv(t){return typeof t=="object"&&"styledComponentId"in t}function Di(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function RE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function fl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Jm(t,e,n){if(n===void 0&&(n=!1),!n&&!fl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Jm(t[r],e[r]);else if(fl(e))for(var r in e)t[r]=Jm(t[r],e[r]);return t}function Ov(t,e){Object.defineProperty(t,"toString",{value:e})}function rs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var O9=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw rs(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),a=(o=0,n.length);o<a;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Av);return n},t}(),mu=new Map,Id=new Map,gu=1,Ac=function(t){if(mu.has(t))return mu.get(t);for(;Id.has(gu);)gu++;var e=gu++;return mu.set(t,e),Id.set(e,t),e},D9=function(t,e){gu=e+1,mu.set(t,e),Id.set(e,t)},j9="style[".concat(po,"][").concat(PR,'="').concat(Hh,'"]'),L9=new RegExp("^".concat(po,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),M9=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},$9=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Av),i=[],s=0,o=r.length;s<o;s++){var l=r[s].trim();if(l){var a=l.match(L9);if(a){var c=0|parseInt(a[1],10),u=a[2];c!==0&&(D9(u,c),M9(t,u,a[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(l)}}};function V9(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var MR=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var a=Array.from(l.querySelectorAll("style[".concat(po,"]")));return a[a.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(po,bR),r.setAttribute(PR,Hh);var o=V9();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},F9=function(){function t(e){this.element=MR(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw rs(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),U9=function(){function t(e){this.element=MR(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),z9=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),bE=kv,B9={isServer:!kv,useCSSOMInjection:!v9},$R=function(){function t(e,n,r){e===void 0&&(e=mo),n===void 0&&(n={});var i=this;this.options=wt(wt({},B9),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&kv&&bE&&(bE=!1,function(s){for(var o=document.querySelectorAll(j9),l=0,a=o.length;l<a;l++){var c=o[l];c&&c.getAttribute(po)!==bR&&($9(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),Ov(this,function(){return function(s){for(var o=s.getTag(),l=o.length,a="",c=function(h){var f=function(y){return Id.get(y)}(h);if(f===void 0)return"continue";var m=s.names.get(f),v=o.getGroup(h);if(m===void 0||v.length===0)return"continue";var E="".concat(po,".g").concat(h,'[id="').concat(f,'"]'),S="";m!==void 0&&m.forEach(function(y){y.length>0&&(S+="".concat(y,","))}),a+="".concat(v).concat(E,'{content:"').concat(S,'"}').concat(Av)},u=0;u<l;u++)c(u);return a}(i)})}return t.registerId=function(e){return Ac(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(wt(wt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new z9(i):r?new F9(i):new U9(i)}(this.options),new O9(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Ac(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Ac(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Ac(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),H9=/&/g,W9=/^\s*\/\/.*$/gm;function VR(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=VR(n.children,e)),n})}function q9(t){var e,n,r,i=t===void 0?mo:t,s=i.options,o=s===void 0?mo:s,l=i.plugins,a=l===void 0?Wh:l,c=function(f,m,v){return v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(e):f},u=a.slice();u.push(function(f){f.type===Fh&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(H9,n).replace(r,c))}),o.prefix&&u.push(g9),u.push(f9);var h=function(f,m,v,E){m===void 0&&(m=""),v===void 0&&(v=""),E===void 0&&(E="&"),e=E,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var S=f.replace(W9,""),y=d9(v||m?"".concat(v," ").concat(m," { ").concat(S," }"):S);o.namespace&&(y=VR(y,o.namespace));var p=[];return Td(y,p9(u.concat(m9(function(g){return p.push(g)})))),p};return h.hash=a.length?a.reduce(function(f,m){return m.name||rs(15),Ls(f,m.name)},kR).toString():"",h}var K9=new $R,Zm=q9(),FR=H.createContext({shouldForwardProp:void 0,styleSheet:K9,stylis:Zm});FR.Consumer;H.createContext(void 0);function PE(){return _.useContext(FR)}var G9=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Zm);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Ov(this,function(){throw rs(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Zm),this.name+e.hash},t}(),Q9=function(t){return t>="A"&&t<="Z"};function AE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Q9(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var UR=function(t){return t==null||t===!1||t===""},zR=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!UR(s)&&(Array.isArray(s)&&s.isCss||ns(s)?r.push("".concat(AE(i),":"),s,";"):fl(s)?r.push.apply(r,Sd(Sd(["".concat(i," {")],zR(s),!1),["}"],!1)):r.push("".concat(AE(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in y9||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ui(t,e,n,r){if(UR(t))return[];if(Nv(t))return[".".concat(t.styledComponentId)];if(ns(t)){if(!ns(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ui(i,e,n,r)}var s;return t instanceof G9?n?(t.inject(n,r),[t.getName(r)]):[t]:fl(t)?zR(t):Array.isArray(t)?Array.prototype.concat.apply(Wh,t.map(function(o){return Ui(o,e,n,r)})):[t.toString()]}function Y9(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ns(n)&&!Nv(n))return!1}return!0}var X9=NR(Hh),J9=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Y9(e),this.componentId=n,this.baseHash=Ls(X9,n),this.baseStyle=r,$R.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Di(i,this.staticRulesId);else{var s=RE(Ui(this.rules,e,n,r)),o=Xm(Ls(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}i=Di(i,o),this.staticRulesId=o}else{for(var a=Ls(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=RE(Ui(h,e,n,r));a=Ls(a,f+u),c+=f}}if(c){var m=Xm(a>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=Di(i,m)}}return i},t}(),Cd=H.createContext(void 0);Cd.Consumer;function Z9(t){var e=H.useContext(Cd),n=_.useMemo(function(){return function(r,i){if(!r)throw rs(14);if(ns(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw rs(8);return i?wt(wt({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?H.createElement(Cd.Provider,{value:n},t.children):null}var ip={};function e5(t,e,n){var r=Nv(t),i=t,s=!rp(t),o=e.attrs,l=o===void 0?Wh:o,a=e.componentId,c=a===void 0?function(w,T){var I=typeof w!="string"?"sc":SE(w);ip[I]=(ip[I]||0)+1;var C="".concat(I,"-").concat(T9(Hh+I+ip[I]));return T?"".concat(T,"-").concat(C):C}(e.displayName,e.parentComponentId):a,u=e.displayName,h=u===void 0?function(w){return rp(w)?"styled.".concat(w):"Styled(".concat(I9(w),")")}(t):u,f=e.displayName&&e.componentId?"".concat(SE(e.displayName),"-").concat(e.componentId):e.componentId||c,m=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,v=e.shouldForwardProp;if(r&&i.shouldForwardProp){var E=i.shouldForwardProp;if(e.shouldForwardProp){var S=e.shouldForwardProp;v=function(w,T){return E(w,T)&&S(w,T)}}else v=E}var y=new J9(n,f,r?i.componentStyle:void 0);function p(w,T){return function(I,C,x){var $=I.attrs,M=I.componentStyle,he=I.defaultProps,Ue=I.foldedComponentIds,ce=I.styledComponentId,Ot=I.target,Dt=H.useContext(Cd),jt=PE(),dt=I.shouldForwardProp||jt.shouldForwardProp,O=_9(C,Dt,he)||mo,V=function(ee,B,ne){for(var pn,rn=wt(wt({},B),{className:void 0,theme:ne}),_i=0;_i<ee.length;_i+=1){var Bt=ns(pn=ee[_i])?pn(rn):pn;for(var ht in Bt)rn[ht]=ht==="className"?Di(rn[ht],Bt[ht]):ht==="style"?wt(wt({},rn[ht]),Bt[ht]):Bt[ht]}return B.className&&(rn.className=Di(rn.className,B.className)),rn}($,C,O),z=V.as||Ot,ae={};for(var Z in V)V[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&V.theme===O||(Z==="forwardedAs"?ae.as=V.forwardedAs:dt&&!dt(Z,z)||(ae[Z]=V[Z]));var j=function(ee,B){var ne=PE(),pn=ee.generateAndInjectStyles(B,ne.styleSheet,ne.stylis);return pn}(M,V),W=Di(Ue,ce);return j&&(W+=" "+j),V.className&&(W+=" "+V.className),ae[rp(z)&&!AR.has(z)?"class":"className"]=W,ae.ref=x,_.createElement(z,ae)}(g,w,T)}p.displayName=h;var g=H.forwardRef(p);return g.attrs=m,g.componentStyle=y,g.displayName=h,g.shouldForwardProp=v,g.foldedComponentIds=r?Di(i.foldedComponentIds,i.styledComponentId):"",g.styledComponentId=f,g.target=r?i.target:t,Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(T){for(var I=[],C=1;C<arguments.length;C++)I[C-1]=arguments[C];for(var x=0,$=I;x<$.length;x++)Jm(T,$[x],!0);return T}({},i.defaultProps,w):w}}),Ov(g,function(){return".".concat(g.styledComponentId)}),s&&LR(g,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),g}function kE(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var NE=function(t){return Object.assign(t,{isCss:!0})};function qe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ns(t)||fl(t))return NE(Ui(kE(Wh,Sd([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ui(r):NE(Ui(kE(r,e)))}function eg(t,e,n){if(n===void 0&&(n=mo),!e)throw rs(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,qe.apply(void 0,Sd([i],s,!1)))};return r.attrs=function(i){return eg(t,e,wt(wt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return eg(t,e,wt(wt({},n),i))},r}var BR=function(t){return eg(e5,t)},te=BR;AR.forEach(function(t){te[t]=BR(t)});var Zr;function go(t,e){return t[e]}function t5(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function n5(t=[],e,n="id"){const r=t.slice(),i=go(e,n);return i?r.splice(r.findIndex(s=>go(s,n)===i),1):r.splice(r.findIndex(s=>s===e),1),r}function OE(t){return t.map((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r})}function Ca(t,e){return Math.ceil(t/e)}function sp(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(Zr||(Zr={}));const Be=()=>null;function HR(t,e=[],n=[]){let r={},i=[...n];return e.length&&e.forEach(s=>{if(!s.when||typeof s.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');s.when(t)&&(r=s.style||{},s.classNames&&(i=[...i,...s.classNames]),typeof s.style=="function"&&(r=s.style(t)||{}))}),{conditionalStyle:r,classNames:i.join(" ")}}function yu(t,e=[],n="id"){const r=go(t,n);return r?e.some(i=>go(i,n)===r):e.some(i=>i===t)}function kc(t,e){return e?t.findIndex(n=>xa(n.id,e)):-1}function xa(t,e){return t==e}function r5(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:i,rowCount:s,mergeSelections:o}=e,l=!t.allSelected,a=!t.toggleOnSelectedRowsChange;if(o){const c=l?[...t.selectedRows,...i.filter(u=>!yu(u,t.selectedRows,r))]:t.selectedRows.filter(u=>!yu(u,i,r));return Object.assign(Object.assign({},t),{allSelected:l,selectedCount:c.length,selectedRows:c,toggleOnSelectedRowsChange:a})}return Object.assign(Object.assign({},t),{allSelected:l,selectedCount:l?s:0,selectedRows:l?i:[],toggleOnSelectedRowsChange:a})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:i,isSelected:s,rowCount:o,singleSelect:l}=e;return l?s?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[i],toggleOnSelectedRowsChange:n}):s?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:n5(t.selectedRows,i,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===o,selectedRows:t5(t.selectedRows,i),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:i,totalRows:s,mergeSelections:o}=e;if(o){const l=[...t.selectedRows,...i.filter(a=>!yu(a,t.selectedRows,r))];return Object.assign(Object.assign({},t),{selectedCount:l.length,allSelected:!1,selectedRows:l,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:i.length,allSelected:i.length===s,selectedRows:i,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:i,clearSelectedOnSort:s}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:i,sortDirection:r,currentPage:1}),s&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:i,visibleOnly:s,persistSelectedOnPageChange:o}=e,l=i&&o,a=i&&!o||s;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),l&&{allSelected:!1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:i}=e;return Object.assign(Object.assign({},t),{currentPage:i,rowsPerPage:r})}}}const i5=qe`
	pointer-events: none;
	opacity: 0.4;
`,s5=te.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&i5};
	${({theme:t})=>t.table.style};
`,o5=qe`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,a5=te.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&o5};
	${({theme:t})=>t.head.style};
`,l5=te.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,WR=(t,...e)=>qe`
		@media screen and (max-width: ${599}px) {
			${qe(t,...e)}
		}
	`,c5=(t,...e)=>qe`
		@media screen and (max-width: ${959}px) {
			${qe(t,...e)}
		}
	`,u5=(t,...e)=>qe`
		@media screen and (max-width: ${1280}px) {
			${qe(t,...e)}
		}
	`,d5=t=>(e,...n)=>qe`
			@media screen and (max-width: ${t}px) {
				${qe(e,...n)}
			}
		`,Oo=te.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,qR=te(Oo)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&qe`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&WR`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&c5`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&u5`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&d5(t)`
    display: none;
  `};
`,h5=qe`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,f5=te(qR).attrs(t=>({style:t.style}))`
	${({$renderAsCell:t})=>!t&&h5};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var p5=_.memo(function({id:t,column:e,row:n,rowIndex:r,dataTag:i,isDragging:s,onDragStart:o,onDragOver:l,onDragEnd:a,onDragEnter:c,onDragLeave:u}){const{conditionalStyle:h,classNames:f}=HR(n,e.conditionalCellStyles,["rdt_TableCell"]);return _.createElement(f5,{id:t,"data-column-id":e.id,role:"cell",className:f,"data-tag":i,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:h,$isDragging:s,onDragStart:o,onDragOver:l,onDragEnd:a,onDragEnter:c,onDragLeave:u},!e.cell&&_.createElement("div",{"data-tag":i},function(m,v,E,S){return v?E&&typeof E=="function"?E(m,S):v(m,S):null}(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))});const DE="input";var KR=_.memo(function({name:t,component:e=DE,componentOptions:n={style:{}},indeterminate:r=!1,checked:i=!1,disabled:s=!1,onClick:o=Be}){const l=e,a=l!==DE?n.style:(u=>Object.assign(Object.assign({fontSize:"18px"},!u&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(s),c=_.useMemo(()=>function(u,...h){let f;return Object.keys(u).map(m=>u[m]).forEach((m,v)=>{typeof m=="function"&&(f=Object.assign(Object.assign({},u),{[Object.keys(u)[v]]:m(...h)}))}),f||u}(n,r),[n,r]);return _.createElement(l,Object.assign({type:"checkbox",ref:u=>{u&&(u.indeterminate=r)},style:a,onClick:s?Be:o,name:t,"aria-label":t,checked:i,disabled:s},c,{onChange:Be}))});const m5=te(Oo)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function g5({name:t,keyField:e,row:n,rowCount:r,selected:i,selectableRowsComponent:s,selectableRowsComponentProps:o,selectableRowsSingle:l,selectableRowDisabled:a,onSelectedRow:c}){const u=!(!a||!a(n));return _.createElement(m5,{onClick:h=>h.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},_.createElement(KR,{name:t,component:s,componentOptions:o,checked:i,"aria-checked":i,onClick:()=>{c({type:"SELECT_SINGLE_ROW",row:n,isSelected:i,keyField:e,rowCount:r,singleSelect:l})},disabled:u}))}const y5=te.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function v5({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:i,onToggled:s}){const o=e?n.expanded:n.collapsed;return _.createElement(y5,{"aria-disabled":t,onClick:()=>s&&s(i),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},o)}const _5=te(Oo)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function w5({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:i,disabled:s=!1}){return _.createElement(_5,{onClick:o=>o.stopPropagation(),$noPadding:!0},_.createElement(v5,{id:r,row:t,expanded:e,expandableIcon:n,disabled:s,onToggled:i}))}const E5=te.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var S5=_.memo(function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:i}){const s=["rdt_ExpanderRow",...i.split(" ").filter(o=>o!=="rdt_TableRow")].join(" ");return _.createElement(E5,{className:s,$extendedRowStyle:r},_.createElement(e,Object.assign({data:t},n)))});const op="allowRowEvents";var xd,tg,jE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(xd||(xd={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(tg||(tg={})),function(t){t.SM="sm",t.MD="md",t.LG="lg"}(jE||(jE={}));const T5=qe`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,I5=qe`
	&:hover {
		cursor: pointer;
	}
`,C5=te.div.attrs(t=>({style:t.style}))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&T5};
	${({$pointerOnHover:t})=>t&&I5};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function x5({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:i=!1,expandableIcon:s,expandableRows:o=!1,expandableRowsComponent:l,expandableRowsComponentProps:a,expandableRowsHideExpander:c,expandOnRowClicked:u=!1,expandOnRowDoubleClicked:h=!1,highlightOnHover:f=!1,id:m,expandableInheritConditionalStyles:v,keyField:E,onRowClicked:S=Be,onRowDoubleClicked:y=Be,onRowMouseEnter:p=Be,onRowMouseLeave:g=Be,onRowExpandToggled:w=Be,onSelectedRow:T=Be,pointerOnHover:I=!1,row:C,rowCount:x,rowIndex:$,selectableRowDisabled:M=null,selectableRows:he=!1,selectableRowsComponent:Ue,selectableRowsComponentProps:ce,selectableRowsHighlight:Ot=!1,selectableRowsSingle:Dt=!1,selected:jt,striped:dt=!1,draggingColumnId:O,onDragStart:V,onDragOver:z,onDragEnd:ae,onDragEnter:Z,onDragLeave:j}){const[W,ee]=_.useState(n);_.useEffect(()=>{ee(n)},[n]);const B=_.useCallback(()=>{ee(!W),w(!W,C)},[W,w,C]),ne=I||o&&(u||h),pn=_.useCallback(ze=>{ze.target.getAttribute("data-tag")===op&&(S(C,ze),!r&&o&&u&&B())},[r,u,o,B,S,C]),rn=_.useCallback(ze=>{ze.target.getAttribute("data-tag")===op&&(y(C,ze),!r&&o&&h&&B())},[r,h,o,B,y,C]),_i=_.useCallback(ze=>{p(C,ze)},[p,C]),Bt=_.useCallback(ze=>{g(C,ze)},[g,C]),ht=go(C,E),{conditionalStyle:Ql,classNames:Yl}=HR(C,e,["rdt_TableRow"]),qh=Ot&&jt,Kh=v?Ql:{},Gh=dt&&$%2==0;return _.createElement(_.Fragment,null,_.createElement(C5,{id:`row-${m}`,role:"row",$striped:Gh,$highlightOnHover:f,$pointerOnHover:!r&&ne,$dense:i,onClick:pn,onDoubleClick:rn,onMouseEnter:_i,onMouseLeave:Bt,className:Yl,$selected:qh,$conditionalStyle:Ql},he&&_.createElement(g5,{name:`select-row-${ht}`,keyField:E,row:C,rowCount:x,selected:jt,selectableRowsComponent:Ue,selectableRowsComponentProps:ce,selectableRowDisabled:M,selectableRowsSingle:Dt,onSelectedRow:T}),o&&!c&&_.createElement(w5,{id:ht,expandableIcon:s,expanded:W,row:C,onToggled:B,disabled:r}),t.map(ze=>ze.omit?null:_.createElement(p5,{id:`cell-${ze.id}-${ht}`,key:`cell-${ze.id}-${ht}`,dataTag:ze.ignoreRowClick||ze.button?null:op,column:ze,row:C,rowIndex:$,isDragging:xa(O,ze.id),onDragStart:V,onDragOver:z,onDragEnd:ae,onDragEnter:Z,onDragLeave:j}))),o&&W&&_.createElement(S5,{key:`expander-${ht}`,data:C,extendedRowStyle:Kh,extendedClassNames:Yl,ExpanderComponent:l,expanderComponentProps:a}))}const R5=te.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,b5=({sortActive:t,sortDirection:e})=>H.createElement(R5,{$sortActive:t,$sortDirection:e},"▲"),P5=te(qR)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,A5=qe`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&qe`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,k5=te.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&A5};
`,N5=te.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var O5=_.memo(function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:i,sortIcon:s,sortServer:o,pagination:l,paginationServer:a,persistSelectedOnSort:c,selectableRowsVisibleOnly:u,onSort:h,onDragStart:f,onDragOver:m,onDragEnd:v,onDragEnter:E,onDragLeave:S}){_.useEffect(()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)},[]);const[y,p]=_.useState(!1),g=_.useRef(null);if(_.useEffect(()=>{g.current&&p(g.current.scrollWidth>g.current.clientWidth)},[y]),t.omit)return null;const w=()=>{if(!t.sortable&&!t.selector)return;let ce=i;xa(r.id,t.id)&&(ce=i===Zr.ASC?Zr.DESC:Zr.ASC),h({type:"SORT_CHANGE",sortDirection:ce,selectedColumn:t,clearSelectedOnSort:l&&a&&!c||o||u})},T=ce=>_.createElement(b5,{sortActive:ce,sortDirection:i}),I=()=>_.createElement("span",{className:[i,"__rdt_custom_sort_icon__"].join(" ")},s),C=!(!t.sortable||!xa(r.id,t.id)),x=!t.sortable||e,$=t.sortable&&!s&&!t.right,M=t.sortable&&!s&&t.right,he=t.sortable&&s&&!t.right,Ue=t.sortable&&s&&t.right;return _.createElement(P5,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:xa(t.id,n),onDragStart:f,onDragOver:m,onDragEnd:v,onDragEnter:E,onDragLeave:S},t.name&&_.createElement(k5,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:x?void 0:w,onKeyPress:x?void 0:ce=>{ce.key==="Enter"&&w()},$sortActive:!x&&C,disabled:x},!x&&Ue&&I(),!x&&M&&T(C),typeof t.name=="string"?_.createElement(N5,{title:y?t.name:void 0,ref:g,"data-column-id":t.id},t.name):t.name,!x&&he&&I(),!x&&$&&T(C)))});const D5=te(Oo)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function j5({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:i,selectedRows:s,selectableRowsComponent:o,selectableRowsComponentProps:l,selectableRowDisabled:a,onSelectAllRows:c}){const u=s.length>0&&!r,h=a?e.filter(v=>!a(v)):e,f=h.length===0,m=Math.min(e.length,h.length);return _.createElement(D5,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},_.createElement(KR,{name:"select-all-rows",component:o,componentOptions:l,onClick:()=>{c({type:"SELECT_ALL_ROWS",rows:h,rowCount:m,mergeSelections:i,keyField:n})},checked:r,indeterminate:u,disabled:f}))}function GR(t=xd.AUTO){const e=typeof window=="object",[n,r]=_.useState(!1);return _.useEffect(()=>{if(e)if(t!=="auto")r(t==="rtl");else{const i=!(!window.document||!window.document.createElement),s=document.getElementsByTagName("BODY")[0],o=document.getElementsByTagName("HTML")[0],l=s.dir==="rtl"||o.dir==="rtl";r(i&&l)}},[t,e]),n}const L5=te.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,M5=te.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,LE=te.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function $5({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:i}){const s=GR(i),o=r>0;return n?_.createElement(LE,{$visible:o},_.cloneElement(n,{selectedCount:r})):_.createElement(LE,{$visible:o,$rtl:s},_.createElement(L5,null,((l,a,c)=>{if(a===0)return null;const u=a===1?l.singular:l.plural;return c?`${a} ${l.message||""} ${u}`:`${a} ${u} ${l.message||""}`})(t,r,s)),_.createElement(M5,null,e))}const V5=te.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,F5=te.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,U5=te.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,z5=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:i,selectedCount:s,direction:o,showMenu:l=!0})=>_.createElement(V5,{className:"rdt_TableHeader",role:"heading","aria-level":1},_.createElement(F5,null,t),e&&_.createElement(U5,null,e),l&&_.createElement($5,{contextMessage:n,contextActions:r,contextComponent:i,direction:o,selectedCount:s}));function QR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const B5={left:"flex-start",right:"flex-end",center:"center"},H5=te.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>B5[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,W5=t=>{var{align:e="right",wrapContent:n=!0}=t,r=QR(t,["align","wrapContent"]);return _.createElement(H5,Object.assign({align:e,$wrapContent:n},r))},q5=te.div`
	display: flex;
	flex-direction: column;
`,K5=te.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&qe`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&qe`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,ME=te.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,G5=te.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,Q5=te(Oo)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,Y5=te.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,X5=()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},H.createElement("path",{d:"M7 10l5 5 5-5z"}),H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),J5=te.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,Z5=te.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,e6=t=>{var{defaultValue:e,onChange:n}=t,r=QR(t,["defaultValue","onChange"]);return _.createElement(Z5,null,_.createElement(J5,Object.assign({onChange:n,defaultValue:e},r)),_.createElement(X5,null))},A={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return H.createElement("div",null,"To add an expander pass in a component instance via ",H.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:H.createElement(()=>H.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},H.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),H.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"})),null),expanded:H.createElement(()=>H.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},H.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),H.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"})),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:H.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:H.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:tg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),H.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"})),null),paginationIconLastPage:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),H.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),null),paginationIconNext:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),paginationIconPrevious:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:xd.AUTO,onChangePage:Be,onChangeRowsPerPage:Be,onRowClicked:Be,onRowDoubleClicked:Be,onRowMouseEnter:Be,onRowMouseLeave:Be,onRowExpandToggled:Be,onSelectedRowsChange:Be,onSort:Be,onColumnOrderChange:Be},t6={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},n6=te.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Nc=te.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,r6=te.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${WR`
    width: 100%;
    justify-content: space-around;
  `};
`,YR=te.span`
	flex-shrink: 1;
	user-select: none;
`,i6=te(YR)`
	margin: 0 24px;
`,s6=te(YR)`
	margin: 0 4px;
`;var o6=_.memo(function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=A.direction,paginationRowsPerPageOptions:i=A.paginationRowsPerPageOptions,paginationIconLastPage:s=A.paginationIconLastPage,paginationIconFirstPage:o=A.paginationIconFirstPage,paginationIconNext:l=A.paginationIconNext,paginationIconPrevious:a=A.paginationIconPrevious,paginationComponentOptions:c=A.paginationComponentOptions,onChangeRowsPerPage:u=A.onChangeRowsPerPage,onChangePage:h=A.onChangePage}){const f=(()=>{const ce=typeof window=="object";function Ot(){return{width:ce?window.innerWidth:void 0,height:ce?window.innerHeight:void 0}}const[Dt,jt]=_.useState(Ot);return _.useEffect(()=>{if(!ce)return()=>null;function dt(){jt(Ot())}return window.addEventListener("resize",dt),()=>window.removeEventListener("resize",dt)},[]),Dt})(),m=GR(r),v=f.width&&f.width>599,E=Ca(e,t),S=n*t,y=S-t+1,p=n===1,g=n===E,w=Object.assign(Object.assign({},t6),c),T=n===E?`${y}-${e} ${w.rangeSeparatorText} ${e}`:`${y}-${S} ${w.rangeSeparatorText} ${e}`,I=_.useCallback(()=>h(n-1),[n,h]),C=_.useCallback(()=>h(n+1),[n,h]),x=_.useCallback(()=>h(1),[h]),$=_.useCallback(()=>h(Ca(e,t)),[h,e,t]),M=_.useCallback(ce=>u(Number(ce.target.value),n),[n,u]),he=i.map(ce=>_.createElement("option",{key:ce,value:ce},ce));w.selectAllRowsItem&&he.push(_.createElement("option",{key:-1,value:e},w.selectAllRowsItemText));const Ue=_.createElement(e6,{onChange:M,defaultValue:t,"aria-label":w.rowsPerPageText},he);return _.createElement(n6,{className:"rdt_Pagination"},!w.noRowsPerPage&&v&&_.createElement(_.Fragment,null,_.createElement(s6,null,w.rowsPerPageText),Ue),v&&_.createElement(i6,null,T),_.createElement(r6,null,_.createElement(Nc,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":p,onClick:x,disabled:p,$isRTL:m},o),_.createElement(Nc,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":p,onClick:I,disabled:p,$isRTL:m},a),!w.noRowsPerPage&&!v&&Ue,_.createElement(Nc,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":g,onClick:C,disabled:g,$isRTL:m},l),_.createElement(Nc,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":g,onClick:$,disabled:g,$isRTL:m},s)))});const Ci=(t,e)=>{const n=_.useRef(!0);_.useEffect(()=>{n.current?n.current=!1:t()},e)};function a6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l6=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===c6}(e)}(t)},c6=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function pl(t,e){return e.clone!==!1&&e.isMergeableObject(t)?yo((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function u6(t,e,n){return t.concat(e).map(function(r){return pl(r,n)})}function $E(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}(t))}function VE(t,e){try{return e in t}catch{return!1}}function d6(t,e,n){var r={};return n.isMergeableObject(t)&&$E(t).forEach(function(i){r[i]=pl(t[i],n)}),$E(e).forEach(function(i){(function(s,o){return VE(s,o)&&!(Object.hasOwnProperty.call(s,o)&&Object.propertyIsEnumerable.call(s,o))})(t,i)||(VE(t,i)&&n.isMergeableObject(e[i])?r[i]=function(s,o){if(!o.customMerge)return yo;var l=o.customMerge(s);return typeof l=="function"?l:yo}(i,n)(t[i],e[i],n):r[i]=pl(e[i],n))}),r}function yo(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||u6,n.isMergeableObject=n.isMergeableObject||l6,n.cloneUnlessOtherwiseSpecified=pl;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):d6(t,e,n):pl(e,n)}yo.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return yo(n,r,e)},{})};var h6=a6(yo);const FE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},UE={default:FE,light:FE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function f6(t,e,n,r){const[i,s]=_.useState(()=>OE(t)),[o,l]=_.useState(""),a=_.useRef("");Ci(()=>{s(OE(t))},[t]);const c=_.useCallback(S=>{var y,p,g;const{attributes:w}=S.target,T=(y=w.getNamedItem("data-column-id"))===null||y===void 0?void 0:y.value;T&&(a.current=((g=(p=i[kc(i,T)])===null||p===void 0?void 0:p.id)===null||g===void 0?void 0:g.toString())||"",l(a.current))},[i]),u=_.useCallback(S=>{var y;const{attributes:p}=S.target,g=(y=p.getNamedItem("data-column-id"))===null||y===void 0?void 0:y.value;if(g&&a.current&&g!==a.current){const w=kc(i,a.current),T=kc(i,g),I=[...i];I[w]=i[T],I[T]=i[w],s(I),e(I)}},[e,i]),h=_.useCallback(S=>{S.preventDefault()},[]),f=_.useCallback(S=>{S.preventDefault()},[]),m=_.useCallback(S=>{S.preventDefault(),a.current="",l("")},[]),v=function(S=!1){return S?Zr.ASC:Zr.DESC}(r),E=_.useMemo(()=>i[kc(i,n==null?void 0:n.toString())]||{},[n,i]);return{tableColumns:i,draggingColumnId:o,handleDragStart:c,handleDragEnter:u,handleDragOver:h,handleDragLeave:f,handleDragEnd:m,defaultSortDirection:v,defaultSortColumn:E}}var p6=_.memo(function(t){const{data:e=A.data,columns:n=A.columns,title:r=A.title,actions:i=A.actions,keyField:s=A.keyField,striped:o=A.striped,highlightOnHover:l=A.highlightOnHover,pointerOnHover:a=A.pointerOnHover,dense:c=A.dense,selectableRows:u=A.selectableRows,selectableRowsSingle:h=A.selectableRowsSingle,selectableRowsHighlight:f=A.selectableRowsHighlight,selectableRowsNoSelectAll:m=A.selectableRowsNoSelectAll,selectableRowsVisibleOnly:v=A.selectableRowsVisibleOnly,selectableRowSelected:E=A.selectableRowSelected,selectableRowDisabled:S=A.selectableRowDisabled,selectableRowsComponent:y=A.selectableRowsComponent,selectableRowsComponentProps:p=A.selectableRowsComponentProps,onRowExpandToggled:g=A.onRowExpandToggled,onSelectedRowsChange:w=A.onSelectedRowsChange,expandableIcon:T=A.expandableIcon,onChangeRowsPerPage:I=A.onChangeRowsPerPage,onChangePage:C=A.onChangePage,paginationServer:x=A.paginationServer,paginationServerOptions:$=A.paginationServerOptions,paginationTotalRows:M=A.paginationTotalRows,paginationDefaultPage:he=A.paginationDefaultPage,paginationResetDefaultPage:Ue=A.paginationResetDefaultPage,paginationPerPage:ce=A.paginationPerPage,paginationRowsPerPageOptions:Ot=A.paginationRowsPerPageOptions,paginationIconLastPage:Dt=A.paginationIconLastPage,paginationIconFirstPage:jt=A.paginationIconFirstPage,paginationIconNext:dt=A.paginationIconNext,paginationIconPrevious:O=A.paginationIconPrevious,paginationComponent:V=A.paginationComponent,paginationComponentOptions:z=A.paginationComponentOptions,responsive:ae=A.responsive,progressPending:Z=A.progressPending,progressComponent:j=A.progressComponent,persistTableHead:W=A.persistTableHead,noDataComponent:ee=A.noDataComponent,disabled:B=A.disabled,noTableHead:ne=A.noTableHead,noHeader:pn=A.noHeader,fixedHeader:rn=A.fixedHeader,fixedHeaderScrollHeight:_i=A.fixedHeaderScrollHeight,pagination:Bt=A.pagination,subHeader:ht=A.subHeader,subHeaderAlign:Ql=A.subHeaderAlign,subHeaderWrap:Yl=A.subHeaderWrap,subHeaderComponent:qh=A.subHeaderComponent,noContextMenu:Kh=A.noContextMenu,contextMessage:Gh=A.contextMessage,contextActions:ze=A.contextActions,contextComponent:sb=A.contextComponent,expandableRows:Xl=A.expandableRows,onRowClicked:jv=A.onRowClicked,onRowDoubleClicked:Lv=A.onRowDoubleClicked,onRowMouseEnter:Mv=A.onRowMouseEnter,onRowMouseLeave:$v=A.onRowMouseLeave,sortIcon:ob=A.sortIcon,onSort:ab=A.onSort,sortFunction:Vv=A.sortFunction,sortServer:Qh=A.sortServer,expandableRowsComponent:lb=A.expandableRowsComponent,expandableRowsComponentProps:cb=A.expandableRowsComponentProps,expandableRowDisabled:Fv=A.expandableRowDisabled,expandableRowsHideExpander:Uv=A.expandableRowsHideExpander,expandOnRowClicked:ub=A.expandOnRowClicked,expandOnRowDoubleClicked:db=A.expandOnRowDoubleClicked,expandableRowExpanded:zv=A.expandableRowExpanded,expandableInheritConditionalStyles:hb=A.expandableInheritConditionalStyles,defaultSortFieldId:fb=A.defaultSortFieldId,defaultSortAsc:pb=A.defaultSortAsc,clearSelectedRows:Bv=A.clearSelectedRows,conditionalRowStyles:mb=A.conditionalRowStyles,theme:Hv=A.theme,customStyles:Wv=A.customStyles,direction:Do=A.direction,onColumnOrderChange:gb=A.onColumnOrderChange,className:yb}=t,{tableColumns:qv,draggingColumnId:Kv,handleDragStart:Gv,handleDragEnter:Qv,handleDragOver:Yv,handleDragLeave:Xv,handleDragEnd:Jv,defaultSortDirection:vb,defaultSortColumn:_b}=f6(n,gb,fb,pb),[{rowsPerPage:Ir,currentPage:mn,selectedRows:Yh,allSelected:Zv,selectedCount:e_,selectedColumn:Nn,sortDirection:fs,toggleOnSelectedRowsChange:wb},wi]=_.useReducer(r5,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:_b,toggleOnSelectedRowsChange:!1,sortDirection:vb,currentPage:he,rowsPerPage:ce,selectedRowsFlag:!1,contextMessage:A.contextMessage}),{persistSelectedOnSort:t_=!1,persistSelectedOnPageChange:Jl=!1}=$,n_=!(!x||!Jl&&!t_),Eb=Bt&&!Z&&e.length>0,Sb=V||o6,Tb=_.useMemo(()=>((q={},ue="default",Ct="default")=>{const gn=UE[ue]?ue:Ct;return h6({table:{style:{color:(K=UE[gn]).text.primary,backgroundColor:K.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:K.text.primary,backgroundColor:K.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:K.background.default,minHeight:"52px"}},head:{style:{color:K.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:K.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:K.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:K.context.background,fontSize:"18px",fontWeight:400,color:K.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:K.text.primary,backgroundColor:K.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:K.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:K.selected.text,backgroundColor:K.selected.default,borderBottomColor:K.background.default}},highlightOnHoverStyle:{color:K.highlightOnHover.text,backgroundColor:K.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:K.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:K.background.default},stripedStyle:{color:K.striped.text,backgroundColor:K.striped.default}},expanderRow:{style:{color:K.text.primary,backgroundColor:K.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:K.button.default,fill:K.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:K.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:K.button.hover},"&:focus":{outline:"none",backgroundColor:K.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:K.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:K.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:K.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:K.button.default,fill:K.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:K.button.disabled,fill:K.button.disabled},"&:hover:not(:disabled)":{backgroundColor:K.button.hover},"&:focus":{outline:"none",backgroundColor:K.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:K.text.primary,backgroundColor:K.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:K.text.primary,backgroundColor:K.background.default}}},q);var K})(Wv,Hv),[Wv,Hv]),Ib=_.useMemo(()=>Object.assign({},Do!=="auto"&&{dir:Do}),[Do]),ft=_.useMemo(()=>{if(Qh)return e;if(Nn!=null&&Nn.sortFunction&&typeof Nn.sortFunction=="function"){const q=Nn.sortFunction,ue=fs===Zr.ASC?q:(Ct,gn)=>-1*q(Ct,gn);return[...e].sort(ue)}return function(q,ue,Ct,gn){return ue?gn&&typeof gn=="function"?gn(q.slice(0),ue,Ct):q.slice(0).sort((K,Xh)=>{const ms=ue(K),Cr=ue(Xh);if(Ct==="asc"){if(ms<Cr)return-1;if(ms>Cr)return 1}if(Ct==="desc"){if(ms>Cr)return-1;if(ms<Cr)return 1}return 0}):q}(e,Nn==null?void 0:Nn.selector,fs,Vv)},[Qh,Nn,fs,e,Vv]),jo=_.useMemo(()=>{if(Bt&&!x){const q=mn*Ir,ue=q-Ir;return ft.slice(ue,q)}return ft},[mn,Bt,x,Ir,ft]),Cb=_.useCallback(q=>{wi(q)},[]),xb=_.useCallback(q=>{wi(q)},[]),Rb=_.useCallback(q=>{wi(q)},[]),bb=_.useCallback((q,ue)=>jv(q,ue),[jv]),Pb=_.useCallback((q,ue)=>Lv(q,ue),[Lv]),Ab=_.useCallback((q,ue)=>Mv(q,ue),[Mv]),kb=_.useCallback((q,ue)=>$v(q,ue),[$v]),ps=_.useCallback(q=>wi({type:"CHANGE_PAGE",page:q,paginationServer:x,visibleOnly:v,persistSelectedOnPageChange:Jl}),[x,Jl,v]),Nb=_.useCallback(q=>{const ue=Ca(M||jo.length,q),Ct=sp(mn,ue);x||ps(Ct),wi({type:"CHANGE_ROWS_PER_PAGE",page:Ct,rowsPerPage:q})},[mn,ps,x,M,jo.length]);if(Bt&&!x&&ft.length>0&&jo.length===0){const q=Ca(ft.length,Ir),ue=sp(mn,q);ps(ue)}Ci(()=>{w({allSelected:Zv,selectedCount:e_,selectedRows:Yh.slice(0)})},[wb]),Ci(()=>{ab(Nn,fs,ft.slice(0))},[Nn,fs]),Ci(()=>{C(mn,M||ft.length)},[mn]),Ci(()=>{I(Ir,mn)},[Ir]),Ci(()=>{ps(he)},[he,Ue]),Ci(()=>{if(Bt&&x&&M>0){const q=Ca(M,Ir),ue=sp(mn,q);mn!==ue&&ps(ue)}},[M]),_.useEffect(()=>{wi({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Bv})},[h,Bv]),_.useEffect(()=>{if(!E)return;const q=ft.filter(Ct=>E(Ct)),ue=h?q.slice(0,1):q;wi({type:"SELECT_MULTIPLE_ROWS",keyField:s,selectedRows:ue,totalRows:ft.length,mergeSelections:n_})},[e,E]);const Ob=v?jo:ft,Db=Jl||h||m;return _.createElement(Z9,{theme:Tb},!pn&&(!!r||!!i)&&_.createElement(z5,{title:r,actions:i,showMenu:!Kh,selectedCount:e_,direction:Do,contextActions:ze,contextComponent:sb,contextMessage:Gh}),ht&&_.createElement(W5,{align:Ql,wrapContent:Yl},qh),_.createElement(K5,Object.assign({$responsive:ae,$fixedHeader:rn,$fixedHeaderScrollHeight:_i,className:yb},Ib),_.createElement(G5,null,Z&&!W&&_.createElement(ME,null,j),_.createElement(s5,{disabled:B,className:"rdt_Table",role:"table"},!ne&&(!!W||ft.length>0&&!Z)&&_.createElement(a5,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:rn},_.createElement(l5,{className:"rdt_TableHeadRow",role:"row",$dense:c},u&&(Db?_.createElement(Oo,{style:{flex:"0 0 48px"}}):_.createElement(j5,{allSelected:Zv,selectedRows:Yh,selectableRowsComponent:y,selectableRowsComponentProps:p,selectableRowDisabled:S,rowData:Ob,keyField:s,mergeSelections:n_,onSelectAllRows:xb})),Xl&&!Uv&&_.createElement(Q5,null),qv.map(q=>_.createElement(O5,{key:q.id,column:q,selectedColumn:Nn,disabled:Z||ft.length===0,pagination:Bt,paginationServer:x,persistSelectedOnSort:t_,selectableRowsVisibleOnly:v,sortDirection:fs,sortIcon:ob,sortServer:Qh,onSort:Cb,onDragStart:Gv,onDragOver:Yv,onDragEnd:Jv,onDragEnter:Qv,onDragLeave:Xv,draggingColumnId:Kv})))),!ft.length&&!Z&&_.createElement(Y5,null,ee),Z&&W&&_.createElement(ME,null,j),!Z&&ft.length>0&&_.createElement(q5,{className:"rdt_TableBody",role:"rowgroup"},jo.map((q,ue)=>{const Ct=go(q,s),gn=function(Cr=""){return typeof Cr!="number"&&(!Cr||Cr.length===0)}(Ct)?ue:Ct,K=yu(q,Yh,s),Xh=!!(Xl&&zv&&zv(q)),ms=!!(Xl&&Fv&&Fv(q));return _.createElement(x5,{id:gn,key:gn,keyField:s,"data-row-id":gn,columns:qv,row:q,rowCount:ft.length,rowIndex:ue,selectableRows:u,expandableRows:Xl,expandableIcon:T,highlightOnHover:l,pointerOnHover:a,dense:c,expandOnRowClicked:ub,expandOnRowDoubleClicked:db,expandableRowsComponent:lb,expandableRowsComponentProps:cb,expandableRowsHideExpander:Uv,defaultExpanderDisabled:ms,defaultExpanded:Xh,expandableInheritConditionalStyles:hb,conditionalRowStyles:mb,selected:K,selectableRowsHighlight:f,selectableRowsComponent:y,selectableRowsComponentProps:p,selectableRowDisabled:S,selectableRowsSingle:h,striped:o,onRowExpandToggled:g,onRowClicked:bb,onRowDoubleClicked:Pb,onRowMouseEnter:Ab,onRowMouseLeave:kb,onSelectedRow:Rb,draggingColumnId:Kv,onDragStart:Gv,onDragOver:Yv,onDragEnd:Jv,onDragEnter:Qv,onDragLeave:Xv})}))))),Eb&&_.createElement("div",null,_.createElement(Sb,{onChangePage:ps,onChangeRowsPerPage:Nb,rowCount:M||ft.length,currentPage:mn,rowsPerPage:Ir,direction:Do,paginationRowsPerPageOptions:Ot,paginationIconLastPage:Dt,paginationIconFirstPage:jt,paginationIconNext:dt,paginationIconPrevious:O,paginationComponentOptions:z})))});function m6(t){return d.jsx(p6,{pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,15,20,25],noDataComponent:"No hay información para mostrar.",striped:!0,fixedHeader:!0,fixedHeaderScrollHeight:"80vh",responsive:!0,...t})}const g6=t=>d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":`#ver-${t.id}`,children:d.jsx(wR,{})}),d.jsx("div",{className:"modal fade",id:`ver-${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:d.jsx("div",{className:"modal-dialog modal-lg",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h1",{className:"modal-title fs-5",children:`Información del Curso: ${t.nombre}`}),d.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),d.jsx("div",{className:"modal-body text-start",children:d.jsxs("div",{className:"row",children:[d.jsx("div",{className:"col",style:{width:"50%",height:"auto"},children:d.jsx("img",{src:t.download_url,alt:"Imagen",style:{width:"100%",height:"100%"}})}),d.jsxs("div",{className:"col",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre:"})," ",t.nombre]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Descripción:"})," ",t.descripcion]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Modalidad:"})," ",t.modalidad==0?"Presencial":t.modalidad==1?"Virtual":"Mixta"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fecha de Inicio:"})," ",t.fecha_inicio instanceof Ie?t.fecha_inicio.toDate().toLocaleDateString():""]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fecha de Fin:"})," ",t.fecha_finalizacion instanceof Ie?t.fecha_finalizacion.toDate().toLocaleDateString():""]}),t.link_plataforma&&d.jsxs("p",{children:[d.jsx("strong",{children:"Link del Curso:"})," ",d.jsx("a",{href:t.link_plataforma,target:"_blank",rel:"noopener noreferrer",children:t.link_plataforma})]}),d.jsx("p",{children:d.jsx("strong",{children:"Horario:"})}),d.jsx("ul",{children:t.horario.map((e,n)=>d.jsxs("li",{children:[e.dia,": ",e.hora]},n))})]})]})}),d.jsx("div",{className:"modal-footer",children:d.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"})})]})})})]}),y6=()=>{const t=vi(nR),e=ge(a=>{var c;return(c=a.auth.user)==null?void 0:c.correo}),n=async a=>{let c=[],u=!1;t.cursos.map(h=>{var f,m,v,E;(f=h.aprobados)==null||f.filter(S=>{if(console.log(S,a),S==a){console.log("entraaaa");const y={id:h.id,nombre:h.nombre,horario:h.horario,download_url:h.download_url,descripcion:h.descripcion,modalidad:h.modalidad,fecha_inicio:h.fecha_inicio,fecha_finalizacion:h.fecha_finalizacion,link_plataforma:h.link_plataforma,estado:"Aprobado"};c=[...c,y],u=!0}}),u==!1&&((m=h.reprobados)==null||m.filter(S=>{if(console.log(S,a),S==a){console.log("entra reprobado");const y={id:h.id,nombre:h.nombre,horario:h.horario,download_url:h.download_url,descripcion:h.descripcion,modalidad:h.modalidad,fecha_inicio:h.fecha_inicio,fecha_finalizacion:h.fecha_finalizacion,link_plataforma:h.link_plataforma,estado:"Reprobado"};c=[...c,y],u=!0}})),u==!1&&((v=h.matriculados)==null||v.filter(S=>{if(console.log(S,a),S==a){console.log("entra matriculado");const y={id:h.id,nombre:h.nombre,horario:h.horario,download_url:h.download_url,descripcion:h.descripcion,modalidad:h.modalidad,fecha_inicio:h.fecha_inicio,fecha_finalizacion:h.fecha_finalizacion,link_plataforma:h.link_plataforma,estado:"Matriculado"};c=[...c,y],u=!0}})),u==!1&&((E=h.postulados)==null||E.filter(S=>{if(console.log(S.id,a),S.id==a){console.log("entra postulado");const y={id:h.id,nombre:h.nombre,horario:h.horario,download_url:h.download_url,descripcion:h.descripcion,modalidad:h.modalidad,fecha_inicio:h.fecha_inicio,fecha_finalizacion:h.fecha_finalizacion,link_plataforma:h.link_plataforma,estado:"Espera"};c=[...c,y],u=!0}})),u=!1}),s.current=c},r=async a=>{const h=(await Po("/Usuarios")).map(f=>({idUsuario:f.id,userInfo:f})).filter(f=>f.userInfo.correo===a);i.current=h[0].idUsuario};_.useEffect(()=>{(async()=>(await r(e),await n(i.current),console.log(s.current,"tableInfo")))()},[]);const i=_.useRef(),s=_.useRef(),o=s.current,l=[{name:"Nombre",selector:a=>a.nombre,cell:a=>d.jsx("div",{className:"text-start",children:a.nombre}),sortable:!0},{name:"Horario",selector:a=>a.horario,cell:a=>d.jsx("div",{className:"text-start",children:a.horario.map((c,u)=>d.jsxs("div",{className:"row",children:[c.dia,": ",c.hora]},u))}),sortable:!0},{name:"Modalidad",selector:a=>a.modalidad,cell:a=>a.modalidad==0?d.jsx("div",{children:"Presencial"}):a.modalidad==1?d.jsx("div",{children:"Virtual"}):a.modalidad==2?d.jsx("div",{children:"Mixta"}):d.jsx("div",{children:"Desconocido"}),sortable:!0},{name:"Estado",selector:a=>a.estado,cell:a=>d.jsx("div",{className:"text-start",children:a.estado}),sortable:!0},{name:"Ver",cell:a=>d.jsx(g6,{...a})}];return d.jsx(d.Fragment,{children:d.jsx(m6,{columns:l,data:o})})},v6=()=>{const t=Tr();return _.useEffect(()=>{t(Ta())},[]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"container",children:[d.jsx("h1",{children:"Lista de cursos"}),d.jsx("span",{children:"En esta sección podrás ver los cursos en los que te encuentras inscrito."}),d.jsx(y6,{})]})})},_6=()=>d.jsxs(lU,{children:[d.jsx(sn,{path:"/",element:d.jsx(mE,{})}),d.jsx(sn,{path:"/home",element:d.jsx(mE,{})}),d.jsx(sn,{path:"/iniciar-sesion",element:d.jsx(jU,{})}),d.jsx(sn,{path:"/crear-cuenta",element:d.jsx(MU,{})}),d.jsx(sn,{path:"/cursos",element:d.jsx($U,{})}),d.jsx(sn,{path:"/about",element:d.jsx(UU,{})}),d.jsx(sn,{path:"/mi-perfil",element:d.jsx(HU,{})}),d.jsx(sn,{path:"/mis-cursos",element:d.jsx(v6,{})}),d.jsx(sn,{path:"/avisos",element:d.jsx(KU,{})}),d.jsx(sn,{path:"/servicios",element:d.jsx(YU,{})}),d.jsx(sn,{path:"/cursos/:nombre",element:d.jsx(JU,{})})]}),w6=()=>{const t=Xg(),e=ge(a=>a.auth.user),n=ge(a=>a.auth.loggedIn),r=ge(a=>a.empresa.dataEmpresa),[i,s]=_.useState("");_.useEffect(()=>{(async()=>{const a=bl(Wl,"Empresa/Logo/logo");Rl(a).then(c=>{s(c)}).catch(c=>{console.error("Error descargando el logo:",c)})})()},[]);const o=Kl(),l=()=>{t(xF()),o("/",{replace:!0})};return d.jsx("div",{className:"navbar-container shadow-lg",children:d.jsx("nav",{className:"navbar navbar-expand-sm fixed-top text-dark bg-light p-2",children:d.jsxs("div",{className:"container-fluid",children:[e&&n&&d.jsx(vn,{className:"navbar-brand",to:"/",children:d.jsx("img",{src:i,alt:"Logo",width:"110",height:"80"})}),!e&&!n&&d.jsx(vn,{className:"navbar-brand",to:"/",children:d.jsx("img",{src:i,alt:"Logo",width:"110",height:"80"})}),d.jsx("h5",{className:"navbar-title-text d-none d-sm-inline-block",children:(r==null?void 0:r.titulo_footer)??"Unión Cantonal de Asociaciones Guatuso"}),d.jsx("button",{className:"navbar-toggler navbar-white navbar-toggler-custom",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:d.jsx("span",{className:"navbar-toggler-icon"})}),d.jsx("div",{className:"collapse navbar-collapse navbar-collapse-custom",id:"navbarTogglerDemo01",children:d.jsx("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2 d-flex d-md-flex justify-content-md-end",children:d.jsx("ul",{className:"navbar-nav ",children:d.jsxs("div",{className:"navbar-nav",children:[d.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/",end:!0,onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Inicio"}),d.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/cursos",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Cursos"}),d.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/servicios",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Servicios"}),d.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/avisos",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Avisos"}),d.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/about",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Acerca"}),n&&e&&d.jsxs(d.Fragment,{children:[d.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/mis-cursos",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Mis Cursos"}),d.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/mi-perfil",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Mi Perfil"}),d.jsxs("button",{className:"nav-item nav-link btn navbar-text-white close-color",onClick:l,children:[d.jsx("i",{className:"fa-solid fa-right-from-bracket me-2"}),"Cerrar Sesión"]})]}),!n&&!e&&d.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-logIn`,to:"/iniciar-sesion",children:"Iniciar Sesión"})]})})})})]})})})};class Gl{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const E6=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},st={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:E6()},Dv=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},S6=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Dv(t);st.publicKey=n.publicKey,st.blockHeadless=n.blockHeadless,st.storageProvider=n.storageProvider,st.blockList=n.blockList,st.limitRate=n.limitRate,st.origin=n.origin||e},XR=async(t,e,n={})=>{const r=await fetch(st.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new Gl(r.status,i);if(r.ok)return s;throw s},JR=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},T6=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},ZR=t=>t.webdriver||!t.languages||t.languages.length===0,eb=()=>new Gl(451,"Unavailable For Headless Browser"),I6=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},C6=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},x6=(t,e)=>t instanceof FormData?t.get(e):t[e],tb=(t,e)=>{if(C6(t))return!1;I6(t.list,t.watchVariable);const n=x6(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},nb=()=>new Gl(403,"Forbidden"),R6=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},b6=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},rb=async(t,e,n)=>{if(!e.throttle||!n)return!1;R6(e.throttle,e.id);const r=e.id||t;return await b6(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},ib=()=>new Gl(429,"Too Many Requests"),P6=async(t,e,n,r)=>{const i=Dv(r),s=i.publicKey||st.publicKey,o=i.blockHeadless||st.blockHeadless,l=st.storageProvider||i.storageProvider,a={...st.blockList,...i.blockList},c={...st.limitRate,...i.limitRate};return o&&ZR(navigator)?Promise.reject(eb()):(JR(s,t,e),T6(n),n&&tb(a,n)?Promise.reject(nb()):await rb(location.pathname,c,l)?Promise.reject(ib()):XR("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},A6=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},k6=t=>typeof t=="string"?document.querySelector(t):t,N6=async(t,e,n,r)=>{const i=Dv(r),s=i.publicKey||st.publicKey,o=i.blockHeadless||st.blockHeadless,l=st.storageProvider||i.storageProvider,a={...st.blockList,...i.blockList},c={...st.limitRate,...i.limitRate};if(o&&ZR(navigator))return Promise.reject(eb());const u=k6(n);JR(s,t,e),A6(u);const h=new FormData(u);return tb(a,h)?Promise.reject(nb()):await rb(location.pathname,c,l)?Promise.reject(ib()):(h.append("lib_version","4.3.3"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",s),XR("/api/v1.0/email/send-form",h))},O6={init:S6,send:P6,sendForm:N6,EmailJSResponseStatus:Gl},D6=({referenciaForm:t})=>{const e="service_8ymw9gn",n="contact_form",r="Z5h6nUaQ9KoLIq2kN";return new Promise((i,s)=>{O6.sendForm(e,n,t.current,{publicKey:r}).then(()=>{console.log("MSJ DE CORREO ENVIADO EXITOSAMENTE"),i(!0)},o=>{console.log("FAILED... NO SE PUDO MANDAR EL MSJ DE CORREO",o.text),s(!1)})})},j6=({referenciaForm:t,onSubmit:e})=>{const n=ge(r=>r.auth.user);return d.jsx(d.Fragment,{children:d.jsxs("form",{ref:t,id:"modal-details",onSubmit:e,children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"nombre",className:"col-form-label",children:"Nombre:"}),d.jsx("input",{type:"text",name:"from_name",className:"form-control",id:"nombre",value:n==null?void 0:n.nombre,readOnly:!0}),d.jsx("label",{htmlFor:"correoUsuario",className:"col-form-label",children:"Correo electrónico:"}),d.jsx("input",{type:"text",name:"user_email",className:"form-control",id:"correoUsuario",value:n==null?void 0:n.correo,readOnly:!0}),d.jsx("label",{htmlFor:"asunto",className:"col-form-label",children:"Asunto:"}),d.jsx("input",{type:"text",name:"subject",className:"form-control",id:"asunto",required:!0})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"texto-consulta",className:"col-form-label",children:"Consulta:"}),d.jsx("textarea",{className:"form-control",name:"message",id:"texto-consulta",required:!0})]})]})})},L6=({referenciaForm:t,onSubmit:e})=>d.jsx(d.Fragment,{children:d.jsxs("form",{ref:t,id:"modal-details",onSubmit:e,children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"nombre",className:"col-form-label",children:"Nombre:"}),d.jsx("input",{type:"text",name:"from_name",className:"form-control",id:"nombre",required:!0}),d.jsx("label",{htmlFor:"correoUsuario",className:"col-form-label",children:"Correo electrónico:"}),d.jsx("input",{type:"email",name:"user_email",className:"form-control",id:"correoUsuario",placeholder:"Ej: usuario@email.com",required:!0}),d.jsx("label",{htmlFor:"asunto",className:"col-form-label",children:"Asunto:"}),d.jsx("input",{type:"text",name:"subject",className:"form-control",id:"asunto",required:!0})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"texto-consulta",className:"col-form-label",children:"Consulta:"}),d.jsx("textarea",{className:"form-control",name:"message",id:"texto-consulta",required:!0})]})]})}),M6=()=>{const t=_.useRef(),e=ge(l=>l.auth.loggedIn),[n,r]=_.useState(""),i=async l=>{l.preventDefault(),await D6({referenciaForm:t})&&(r("Su consulta ha sido enviada con éxito."),setTimeout(()=>{r(""),o(),s()},2e3))},s=()=>{const l=document.getElementById("ModalSentEmail"),a=bootstrap.Modal.getInstance(l);a&&a.hide()},o=()=>{t.current.reset()};return d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm ","data-bs-toggle":"modal","data-bs-target":"#ModalSentEmail",children:"Contáctenos"}),d.jsx("div",{className:"modal fade",id:"ModalSentEmail",tabIndex:-1,"aria-labelledby":"contactenosModalLabel","aria-hidden":"true",children:d.jsxs("div",{className:"modal-dialog modal-lg",children:[n&&d.jsx("div",{className:"alert alert-success mt-2",children:n}),d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h1",{className:"modal-title fs-5",id:"contactenosModalLabel",children:" Contáctenos"}),d.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),d.jsxs("div",{className:"modal-body",children:[!e&&d.jsx(L6,{referenciaForm:t,onSubmit:i}),e&&d.jsx(j6,{referenciaForm:t,onSubmit:i})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:o,children:"Cerrar"}),d.jsx("button",{type:"submit",className:"btn btn-primary",form:"modal-details",children:"Enviar"})]})]})]})})]})},$6=()=>{const t=ge(r=>r.empresa.dataEmpresa),[e,n]=_.useState("");return _.useEffect(()=>{(async()=>{const r=bl(Wl,"Empresa/RedesSociales/Facebook/icono_facebook.svg");Rl(r).then(i=>{n(i)}).catch(i=>{console.error("Error descargando el logo:",i)})})()},[]),d.jsx("div",{className:"footer-container",children:d.jsxs("footer",{className:"text-center text-lg-start bg-body-tertiary text-muted footer-ancho footer-container",children:[d.jsxs("section",{className:"d-flex justify-content-center justify-content-lg-between p-4 text-dark border-botton redes-estilo",children:[d.jsx("div",{className:"me-5 d-none d-lg-block",children:d.jsx("span",{children:"Mantente conectado con nosotros por redes sociales"})}),d.jsx("div",{children:d.jsx("a",{href:t==null?void 0:t.facebookUrl,className:"me-4 text-reset",children:d.jsx("img",{className:"facebook",src:e,alt:"Facebook",width:"40",height:"35"})})})]}),d.jsx("section",{className:"",children:d.jsx("div",{className:"container text-center text-md-start mt-5",children:d.jsxs("div",{className:"row mt-3",children:[d.jsxs("div",{className:"col-md-3 col-lg-4 col-xl-3 mx-auto mb-4",children:[d.jsxs("h6",{className:"text-uppercase fw-bold mb-4",children:[d.jsx("i",{className:"fas fa-gem me-3"}),t==null?void 0:t.titulo_footer]}),d.jsx("p",{children:t==null?void 0:t.subtitulo_footer})]}),d.jsxs("div",{className:"col-lg-3 col-md-6 mb-4",children:[d.jsx("h6",{className:"text-uppercase fw-bold mb-4",children:"Horario"}),d.jsx("p",{className:"mb-1",children:`Lunes: ${t==null?void 0:t.horarios[0]}`}),d.jsx("p",{className:"mb-1",children:`Martes: ${t==null?void 0:t.horarios[1]}`}),d.jsx("p",{className:"mb-1",children:`Miércoles: ${t==null?void 0:t.horarios[2]}`}),d.jsx("p",{className:"mb-1",children:`Jueves: ${t==null?void 0:t.horarios[3]}`}),d.jsx("p",{className:"mb-1",children:`Viernes: ${t==null?void 0:t.horarios[4]}`}),d.jsx("p",{className:"mb-1",children:`Sábado: ${t==null?void 0:t.horarios[5]}`}),d.jsx("p",{className:"mb-1",children:`Domingo: ${t==null?void 0:t.horarios[6]}`})]}),d.jsxs("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4",children:[d.jsx("h6",{className:"text-uppercase fw-bold mb-4",children:"Contacto"}),d.jsxs("p",{children:[d.jsx("i",{className:"fas fa-home me-3"})," ",t==null?void 0:t.direccionCorta]}),d.jsxs("p",{children:[d.jsx("i",{className:"fas fa-envelope me-3"})," ",t==null?void 0:t.correo]}),d.jsxs("p",{children:[d.jsx("i",{className:"fas fa-phone me-3"})," ",t==null?void 0:t.telefonos[0]]}),d.jsxs("p",{children:[d.jsx("i",{className:"fa-brands fa-whatsapp me-3"})," ",t==null?void 0:t.telefonos[1]]}),d.jsx(M6,{})]})]})})}),d.jsxs("div",{className:"copyright-estilo",children:["© 2024 Copyright:",d.jsx("a",{className:"text-reset enlace-sin-subrayado fw-bold",children:"CANtonal.com"})," "]})]})})},V6=({children:t})=>{const[e,n]=_.useState(!1),r=Tr();return _.useEffect(()=>{setTimeout(()=>{n(!0)},1500),r(jF()),r(tR())},[setTimeout,n]),d.jsxs(d.Fragment,{children:[d.jsx(w6,{}),t,e&&d.jsx($6,{})]})};function F6(){return d.jsx(gU,{children:d.jsx(V6,{children:d.jsx(_6,{})})})}tT(document.getElementById("root")).render(d.jsx(H.StrictMode,{children:d.jsx(Pk,{store:oR,children:d.jsx(aT,{persistor:w3,children:d.jsx(F6,{})})})}));
