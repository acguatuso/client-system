var Ob=Object.defineProperty;var Db=(t,e,n)=>e in t?Ob(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qh=(t,e,n)=>(Db(t,typeof e!="symbol"?e+"":e,n),n);function jb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Lb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UE={exports:{}},Td={},zE={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),$b=Symbol.for("react.portal"),Mb=Symbol.for("react.fragment"),Vb=Symbol.for("react.strict_mode"),Fb=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),zb=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),Hb=Symbol.for("react.suspense"),Wb=Symbol.for("react.memo"),qb=Symbol.for("react.lazy"),n_=Symbol.iterator;function Kb(t){return t===null||typeof t!="object"?null:(t=n_&&t[n_]||t["@@iterator"],typeof t=="function"?t:null)}var BE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HE=Object.assign,WE={};function mo(t,e,n){this.props=t,this.context=e,this.refs=WE,this.updater=n||BE}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qE(){}qE.prototype=mo.prototype;function Jm(t,e,n){this.props=t,this.context=e,this.refs=WE,this.updater=n||BE}var Zm=Jm.prototype=new qE;Zm.constructor=Jm;HE(Zm,mo.prototype);Zm.isPureReactComponent=!0;var r_=Array.isArray,KE=Object.prototype.hasOwnProperty,eg={current:null},GE={key:!0,ref:!0,__self:!0,__source:!0};function QE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KE.call(e,r)&&!GE.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:fl,type:t,key:s,ref:o,props:i,_owner:eg.current}}function Gb(t,e){return{$$typeof:fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tg(t){return typeof t=="object"&&t!==null&&t.$$typeof===fl}function Qb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i_=/\/+/g;function Yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qb(""+t.key):e.toString(36)}function Pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fl:case $b:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yh(o,0):r,r_(i)?(n="",t!=null&&(n=t.replace(i_,"$&/")+"/"),Pc(i,e,n,"",function(c){return c})):i!=null&&(tg(i)&&(i=Gb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(i_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",r_(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Yh(s,l);o+=Pc(s,e,n,a,i)}else if(a=Kb(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Yh(s,l++),o+=Pc(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ql(t,e,n){if(t==null)return t;var r=[],i=0;return Pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Yb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},Ac={transition:null},Xb={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:eg};ie.Children={map:Ql,forEach:function(t,e,n){Ql(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ql(t,function(){e++}),e},toArray:function(t){return Ql(t,function(e){return e})||[]},only:function(t){if(!tg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=mo;ie.Fragment=Mb;ie.Profiler=Fb;ie.PureComponent=Jm;ie.StrictMode=Vb;ie.Suspense=Hb;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xb;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=eg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)KE.call(e,a)&&!GE.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:fl,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:zb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ub,_context:t},t.Consumer=t};ie.createElement=QE;ie.createFactory=function(t){var e=QE.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:Bb,render:t}};ie.isValidElement=tg;ie.lazy=function(t){return{$$typeof:qb,_payload:{_status:-1,_result:t},_init:Yb}};ie.memo=function(t,e){return{$$typeof:Wb,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ie.useCallback=function(t,e){return kt.current.useCallback(t,e)};ie.useContext=function(t){return kt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return kt.current.useEffect(t,e)};ie.useId=function(){return kt.current.useId()};ie.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return kt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ie.useRef=function(t){return kt.current.useRef(t)};ie.useState=function(t){return kt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return kt.current.useTransition()};ie.version="18.2.0";zE.exports=ie;var w=zE.exports;const H=Lb(w),rp=jb({__proto__:null,default:H},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb=w,Zb=Symbol.for("react.element"),eP=Symbol.for("react.fragment"),tP=Object.prototype.hasOwnProperty,nP=Jb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rP={key:!0,ref:!0,__self:!0,__source:!0};function YE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tP.call(e,r)&&!rP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Zb,type:t,key:s,ref:o,props:i,_owner:nP.current}}Td.Fragment=eP;Td.jsx=YE;Td.jsxs=YE;UE.exports=Td;var h=UE.exports,XE={exports:{}},tn={},JE={exports:{}},ZE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var z=O.length;O.push(V);e:for(;0<z;){var ae=z-1>>>1,Z=O[ae];if(0<i(Z,V))O[ae]=V,O[z]=Z,z=ae;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],z=O.pop();if(z!==V){O[0]=z;e:for(var ae=0,Z=O.length,j=Z>>>1;ae<j;){var W=2*(ae+1)-1,ee=O[W],B=W+1,ne=O[B];if(0>i(ee,z))B<Z&&0>i(ne,ee)?(O[ae]=ne,O[B]=z,ae=B):(O[ae]=ee,O[W]=z,ae=W);else if(B<Z&&0>i(ne,z))O[ae]=ne,O[B]=z,ae=B;else break e}}return V}function i(O,V){var z=O.sortIndex-V.sortIndex;return z!==0?z:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],u=1,d=null,f=3,g=!1,v=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=O)r(c),V.sortIndex=V.expirationTime,e(a,V);else break;V=n(c)}}function _(O){if(E=!1,p(O),!v)if(n(a)!==null)v=!0,jt(T);else{var V=n(c);V!==null&&dt(_,V.startTime-O)}}function T(O,V){v=!1,E&&(E=!1,y(R),R=-1),g=!0;var z=f;try{for(p(V),d=n(a);d!==null&&(!(d.expirationTime>V)||O&&!he());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,f=d.priorityLevel;var Z=ae(d.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(a)&&r(a),p(V)}else r(a);d=n(a)}if(d!==null)var j=!0;else{var W=n(c);W!==null&&dt(_,W.startTime-V),j=!1}return j}finally{d=null,f=z,g=!1}}var I=!1,C=null,R=-1,M=5,$=-1;function he(){return!(t.unstable_now()-$<M)}function Ue(){if(C!==null){var O=t.unstable_now();$=O;var V=!0;try{V=C(!0,O)}finally{V?ce():(I=!1,C=null)}}else I=!1}var ce;if(typeof m=="function")ce=function(){m(Ue)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Dt=Ot.port2;Ot.port1.onmessage=Ue,ce=function(){Dt.postMessage(null)}}else ce=function(){S(Ue,0)};function jt(O){C=O,I||(I=!0,ce())}function dt(O,V){R=S(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,jt(T))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var z=f;f=V;try{return O()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=f;f=O;try{return V()}finally{f=z}},t.unstable_scheduleCallback=function(O,V,z){var ae=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ae+z:ae):z=ae,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=z+Z,O={id:u++,callback:V,priorityLevel:O,startTime:z,expirationTime:Z,sortIndex:-1},z>ae?(O.sortIndex=z,e(c,O),n(a)===null&&O===n(c)&&(E?(y(R),R=-1):E=!0,dt(_,z-ae))):(O.sortIndex=Z,e(a,O),v||g||(v=!0,jt(T))),O},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(O){var V=f;return function(){var z=f;f=V;try{return O.apply(this,arguments)}finally{f=z}}}})(ZE);JE.exports=ZE;var iP=JE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=w,Xt=iP;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t1=new Set,Ca={};function rs(t,e){Ws(t,e),Ws(t+"Capture",e)}function Ws(t,e){for(Ca[t]=e,t=0;t<e.length;t++)t1.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,sP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s_={},o_={};function oP(t){return ip.call(o_,t)?!0:ip.call(s_,t)?!1:sP.test(t)?o_[t]=!0:(s_[t]=!0,!1)}function aP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lP(t,e,n,r){if(e===null||typeof e>"u"||aP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ng=/[\-:]([a-z])/g;function rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ng,rg);ut[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ng,rg);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ng,rg);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ig(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lP(e,n,i,r)&&(n=null),r||i===null?oP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yr=e1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yl=Symbol.for("react.element"),_s=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),n1=Symbol.for("react.provider"),r1=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),i1=Symbol.for("react.offscreen"),a_=Symbol.iterator;function Do(t){return t===null||typeof t!="object"?null:(t=a_&&t[a_]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Xh;function qo(t){if(Xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xh=e&&e[1]||""}return`
`+Xh+t}var Jh=!1;function Zh(t,e){if(!t||Jh)return"";Jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qo(t):""}function cP(t){switch(t.tag){case 5:return qo(t.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return t=Zh(t.type,!1),t;case 11:return t=Zh(t.type.render,!1),t;case 1:return t=Zh(t.type,!0),t;default:return""}}function lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case _s:return"Portal";case sp:return"Profiler";case sg:return"StrictMode";case op:return"Suspense";case ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case r1:return(t.displayName||"Context")+".Consumer";case n1:return(t._context.displayName||"Context")+".Provider";case og:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ag:return e=t.displayName||null,e!==null?e:lp(t.type)||"Memo";case Cr:e=t._payload,t=t._init;try{return lp(t(e))}catch{}}return null}function uP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(e);case 8:return e===sg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dP(t){var e=s1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xl(t){t._valueTracker||(t._valueTracker=dP(t))}function o1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=s1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cp(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function a1(t,e){e=e.checked,e!=null&&ig(t,"checked",e,!1)}function up(t,e){a1(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&dp(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dp(t,e,n){(e!=="number"||pu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ko=Array.isArray;function Ds(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function u_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Ko(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function l1(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function c1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?c1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jl,u1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jl=Jl||document.createElement("div"),Jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hP=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(t){hP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sa[e]=sa[t]})});function d1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sa.hasOwnProperty(t)&&sa[t]?(""+e).trim():e+"px"}function h1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=d1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fP=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(t,e){if(e){if(fP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yp=null,js=null,Ls=null;function h_(t){if(t=gl(t)){if(typeof yp!="function")throw Error(P(280));var e=t.stateNode;e&&(e=bd(e),yp(t.stateNode,t.type,e))}}function f1(t){js?Ls?Ls.push(t):Ls=[t]:js=t}function p1(){if(js){var t=js,e=Ls;if(Ls=js=null,h_(t),e)for(t=0;t<e.length;t++)h_(e[t])}}function m1(t,e){return t(e)}function g1(){}var ef=!1;function y1(t,e,n){if(ef)return t(e,n);ef=!0;try{return m1(t,e,n)}finally{ef=!1,(js!==null||Ls!==null)&&(g1(),p1())}}function xa(t,e){var n=t.stateNode;if(n===null)return null;var r=bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var vp=!1;if(lr)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){vp=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{vp=!1}function pP(t,e,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var oa=!1,mu=null,gu=!1,_p=null,mP={onError:function(t){oa=!0,mu=t}};function gP(t,e,n,r,i,s,o,l,a){oa=!1,mu=null,pP.apply(mP,arguments)}function yP(t,e,n,r,i,s,o,l,a){if(gP.apply(this,arguments),oa){if(oa){var c=mu;oa=!1,mu=null}else throw Error(P(198));gu||(gu=!0,_p=c)}}function is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function v1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f_(t){if(is(t)!==t)throw Error(P(188))}function vP(t){var e=t.alternate;if(!e){if(e=is(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f_(i),t;if(s===r)return f_(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function _1(t){return t=vP(t),t!==null?w1(t):null}function w1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w1(t);if(e!==null)return e;t=t.sibling}return null}var E1=Xt.unstable_scheduleCallback,p_=Xt.unstable_cancelCallback,_P=Xt.unstable_shouldYield,wP=Xt.unstable_requestPaint,Oe=Xt.unstable_now,EP=Xt.unstable_getCurrentPriorityLevel,cg=Xt.unstable_ImmediatePriority,S1=Xt.unstable_UserBlockingPriority,yu=Xt.unstable_NormalPriority,SP=Xt.unstable_LowPriority,T1=Xt.unstable_IdlePriority,Id=null,Vn=null;function TP(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Id,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:RP,IP=Math.log,CP=Math.LN2;function RP(t){return t>>>=0,t===0?32:31-(IP(t)/CP|0)|0}var Zl=64,ec=4194304;function Go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Go(l):(s&=o,s!==0&&(r=Go(s)))}else o=n&~i,o!==0?r=Go(o):s!==0&&(r=Go(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tn(e),i=1<<n,r|=t[n],e&=~i;return r}function xP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tn(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=xP(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function wp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function I1(){var t=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),t}function tf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function PP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ug(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function C1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R1,dg,x1,b1,P1,Ep=!1,tc=[],$r=null,Mr=null,Vr=null,ba=new Map,Pa=new Map,xr=[],AP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m_(t,e){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(e.pointerId)}}function Lo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gl(e),e!==null&&dg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kP(t,e,n,r,i){switch(e){case"focusin":return $r=Lo($r,t,e,n,r,i),!0;case"dragenter":return Mr=Lo(Mr,t,e,n,r,i),!0;case"mouseover":return Vr=Lo(Vr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ba.set(s,Lo(ba.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pa.set(s,Lo(Pa.get(s)||null,t,e,n,r,i)),!0}return!1}function A1(t){var e=Ri(t.target);if(e!==null){var n=is(e);if(n!==null){if(e=n.tag,e===13){if(e=v1(n),e!==null){t.blockedOn=e,P1(t.priority,function(){x1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gp=r,n.target.dispatchEvent(r),gp=null}else return e=gl(n),e!==null&&dg(e),t.blockedOn=n,!1;e.shift()}return!0}function g_(t,e,n){kc(t)&&n.delete(e)}function NP(){Ep=!1,$r!==null&&kc($r)&&($r=null),Mr!==null&&kc(Mr)&&(Mr=null),Vr!==null&&kc(Vr)&&(Vr=null),ba.forEach(g_),Pa.forEach(g_)}function $o(t,e){t.blockedOn===e&&(t.blockedOn=null,Ep||(Ep=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,NP)))}function Aa(t){function e(i){return $o(i,t)}if(0<tc.length){$o(tc[0],t);for(var n=1;n<tc.length;n++){var r=tc[n];r.blockedOn===t&&(r.blockedOn=null)}}for($r!==null&&$o($r,t),Mr!==null&&$o(Mr,t),Vr!==null&&$o(Vr,t),ba.forEach(e),Pa.forEach(e),n=0;n<xr.length;n++)r=xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xr.length&&(n=xr[0],n.blockedOn===null);)A1(n),n.blockedOn===null&&xr.shift()}var $s=yr.ReactCurrentBatchConfig,_u=!0;function OP(t,e,n,r){var i=pe,s=$s.transition;$s.transition=null;try{pe=1,hg(t,e,n,r)}finally{pe=i,$s.transition=s}}function DP(t,e,n,r){var i=pe,s=$s.transition;$s.transition=null;try{pe=4,hg(t,e,n,r)}finally{pe=i,$s.transition=s}}function hg(t,e,n,r){if(_u){var i=Sp(t,e,n,r);if(i===null)hf(t,e,r,wu,n),m_(t,r);else if(kP(i,t,e,n,r))r.stopPropagation();else if(m_(t,r),e&4&&-1<AP.indexOf(t)){for(;i!==null;){var s=gl(i);if(s!==null&&R1(s),s=Sp(t,e,n,r),s===null&&hf(t,e,r,wu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hf(t,e,r,null,n)}}var wu=null;function Sp(t,e,n,r){if(wu=null,t=lg(r),t=Ri(t),t!==null)if(e=is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=v1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wu=t,null}function k1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EP()){case cg:return 1;case S1:return 4;case yu:case SP:return 16;case T1:return 536870912;default:return 16}default:return 16}}var Or=null,fg=null,Nc=null;function N1(){if(Nc)return Nc;var t,e=fg,n=e.length,r,i="value"in Or?Or.value:Or.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nc=i.slice(t,1<r?1-r:void 0)}function Oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nc(){return!0}function y_(){return!1}function nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nc:y_,this.isPropagationStopped=y_,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pg=nn(go),ml=be({},go,{view:0,detail:0}),jP=nn(ml),nf,rf,Mo,Cd=be({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(nf=t.screenX-Mo.screenX,rf=t.screenY-Mo.screenY):rf=nf=0,Mo=t),nf)},movementY:function(t){return"movementY"in t?t.movementY:rf}}),v_=nn(Cd),LP=be({},Cd,{dataTransfer:0}),$P=nn(LP),MP=be({},ml,{relatedTarget:0}),sf=nn(MP),VP=be({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),FP=nn(VP),UP=be({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zP=nn(UP),BP=be({},go,{data:0}),__=nn(BP),HP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qP[t])?!!e[t]:!1}function mg(){return KP}var GP=be({},ml,{key:function(t){if(t.key){var e=HP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(t){return t.type==="keypress"?Oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QP=nn(GP),YP=be({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=nn(YP),XP=be({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),JP=nn(XP),ZP=be({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),eA=nn(ZP),tA=be({},Cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nA=nn(tA),rA=[9,13,27,32],gg=lr&&"CompositionEvent"in window,aa=null;lr&&"documentMode"in document&&(aa=document.documentMode);var iA=lr&&"TextEvent"in window&&!aa,O1=lr&&(!gg||aa&&8<aa&&11>=aa),E_=" ",S_=!1;function D1(t,e){switch(t){case"keyup":return rA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function sA(t,e){switch(t){case"compositionend":return j1(e);case"keypress":return e.which!==32?null:(S_=!0,E_);case"textInput":return t=e.data,t===E_&&S_?null:t;default:return null}}function oA(t,e){if(Es)return t==="compositionend"||!gg&&D1(t,e)?(t=N1(),Nc=fg=Or=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O1&&e.locale!=="ko"?null:e.data;default:return null}}var aA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aA[t.type]:e==="textarea"}function L1(t,e,n,r){f1(r),e=Eu(e,"onChange"),0<e.length&&(n=new pg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var la=null,ka=null;function lA(t){K1(t,0)}function Rd(t){var e=Is(t);if(o1(e))return t}function cA(t,e){if(t==="change")return e}var $1=!1;if(lr){var of;if(lr){var af="oninput"in document;if(!af){var I_=document.createElement("div");I_.setAttribute("oninput","return;"),af=typeof I_.oninput=="function"}of=af}else of=!1;$1=of&&(!document.documentMode||9<document.documentMode)}function C_(){la&&(la.detachEvent("onpropertychange",M1),ka=la=null)}function M1(t){if(t.propertyName==="value"&&Rd(ka)){var e=[];L1(e,ka,t,lg(t)),y1(lA,e)}}function uA(t,e,n){t==="focusin"?(C_(),la=e,ka=n,la.attachEvent("onpropertychange",M1)):t==="focusout"&&C_()}function dA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rd(ka)}function hA(t,e){if(t==="click")return Rd(e)}function fA(t,e){if(t==="input"||t==="change")return Rd(e)}function pA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:pA;function Na(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ip.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function R_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x_(t,e){var n=R_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R_(n)}}function V1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function F1(){for(var t=window,e=pu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pu(t.document)}return e}function yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mA(t){var e=F1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V1(n.ownerDocument.documentElement,n)){if(r!==null&&yg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=x_(n,s);var o=x_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gA=lr&&"documentMode"in document&&11>=document.documentMode,Ss=null,Tp=null,ca=null,Ip=!1;function b_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ip||Ss==null||Ss!==pu(r)||(r=Ss,"selectionStart"in r&&yg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&Na(ca,r)||(ca=r,r=Eu(Tp,"onSelect"),0<r.length&&(e=new pg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function rc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},lf={},U1={};lr&&(U1=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function xd(t){if(lf[t])return lf[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in U1)return lf[t]=e[n];return t}var z1=xd("animationend"),B1=xd("animationiteration"),H1=xd("animationstart"),W1=xd("transitionend"),q1=new Map,P_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){q1.set(t,e),rs(e,[t])}for(var cf=0;cf<P_.length;cf++){var uf=P_[cf],yA=uf.toLowerCase(),vA=uf[0].toUpperCase()+uf.slice(1);ii(yA,"on"+vA)}ii(z1,"onAnimationEnd");ii(B1,"onAnimationIteration");ii(H1,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(W1,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function A_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yP(r,e,void 0,t),t.currentTarget=null}function K1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;A_(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;A_(i,l,c),s=a}}}if(gu)throw t=_p,gu=!1,_p=null,t}function ve(t,e){var n=e[Pp];n===void 0&&(n=e[Pp]=new Set);var r=t+"__bubble";n.has(r)||(G1(e,t,2,!1),n.add(r))}function df(t,e,n){var r=0;e&&(r|=4),G1(n,t,r,e)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Oa(t){if(!t[ic]){t[ic]=!0,t1.forEach(function(n){n!=="selectionchange"&&(_A.has(n)||df(n,!1,t),df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ic]||(e[ic]=!0,df("selectionchange",!1,e))}}function G1(t,e,n,r){switch(k1(e)){case 1:var i=OP;break;case 4:i=DP;break;default:i=hg}n=i.bind(null,e,n,t),i=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ri(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}y1(function(){var c=s,u=lg(n),d=[];e:{var f=q1.get(t);if(f!==void 0){var g=pg,v=t;switch(t){case"keypress":if(Oc(n)===0)break e;case"keydown":case"keyup":g=QP;break;case"focusin":v="focus",g=sf;break;case"focusout":v="blur",g=sf;break;case"beforeblur":case"afterblur":g=sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=v_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=JP;break;case z1:case B1:case H1:g=FP;break;case W1:g=eA;break;case"scroll":g=jP;break;case"wheel":g=nA;break;case"copy":case"cut":case"paste":g=zP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=w_}var E=(e&4)!==0,S=!E&&t==="scroll",y=E?f!==null?f+"Capture":null:f;E=[];for(var m=c,p;m!==null;){p=m;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,y!==null&&(_=xa(m,y),_!=null&&E.push(Da(m,_,p)))),S)break;m=m.return}0<E.length&&(f=new g(f,v,null,n,u),d.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==gp&&(v=n.relatedTarget||n.fromElement)&&(Ri(v)||v[cr]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Ri(v):null,v!==null&&(S=is(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(E=v_,_="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(E=w_,_="onPointerLeave",y="onPointerEnter",m="pointer"),S=g==null?f:Is(g),p=v==null?f:Is(v),f=new E(_,m+"leave",g,n,u),f.target=S,f.relatedTarget=p,_=null,Ri(u)===c&&(E=new E(y,m+"enter",v,n,u),E.target=p,E.relatedTarget=S,_=E),S=_,g&&v)t:{for(E=g,y=v,m=0,p=E;p;p=fs(p))m++;for(p=0,_=y;_;_=fs(_))p++;for(;0<m-p;)E=fs(E),m--;for(;0<p-m;)y=fs(y),p--;for(;m--;){if(E===y||y!==null&&E===y.alternate)break t;E=fs(E),y=fs(y)}E=null}else E=null;g!==null&&k_(d,f,g,E,!1),v!==null&&S!==null&&k_(d,S,v,E,!0)}}e:{if(f=c?Is(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=cA;else if(T_(f))if($1)T=fA;else{T=dA;var I=uA}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=hA);if(T&&(T=T(t,c))){L1(d,T,n,u);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&dp(f,"number",f.value)}switch(I=c?Is(c):window,t){case"focusin":(T_(I)||I.contentEditable==="true")&&(Ss=I,Tp=c,ca=null);break;case"focusout":ca=Tp=Ss=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,b_(d,n,u);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":b_(d,n,u)}var C;if(gg)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Es?D1(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(O1&&n.locale!=="ko"&&(Es||R!=="onCompositionStart"?R==="onCompositionEnd"&&Es&&(C=N1()):(Or=u,fg="value"in Or?Or.value:Or.textContent,Es=!0)),I=Eu(c,R),0<I.length&&(R=new __(R,t,null,n,u),d.push({event:R,listeners:I}),C?R.data=C:(C=j1(n),C!==null&&(R.data=C)))),(C=iA?sA(t,n):oA(t,n))&&(c=Eu(c,"onBeforeInput"),0<c.length&&(u=new __("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}K1(d,e)})}function Da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xa(t,n),s!=null&&r.unshift(Da(t,s,i)),s=xa(t,e),s!=null&&r.push(Da(t,s,i))),t=t.return}return r}function fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=xa(n,s),a!=null&&o.unshift(Da(n,a,l))):i||(a=xa(n,s),a!=null&&o.push(Da(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wA=/\r\n?/g,EA=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(wA,`
`).replace(EA,"")}function sc(t,e,n){if(e=N_(e),N_(t)!==e&&n)throw Error(P(425))}function Su(){}var Cp=null,Rp=null;function xp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(t){return O_.resolve(null).then(t).catch(IA)}:bp;function IA(t){setTimeout(function(){throw t})}function ff(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Aa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Aa(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),jn="__reactFiber$"+yo,ja="__reactProps$"+yo,cr="__reactContainer$"+yo,Pp="__reactEvents$"+yo,CA="__reactListeners$"+yo,RA="__reactHandles$"+yo;function Ri(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=D_(t);t!==null;){if(n=t[jn])return n;t=D_(t)}return e}t=n,n=t.parentNode}return null}function gl(t){return t=t[jn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function bd(t){return t[ja]||null}var Ap=[],Cs=-1;function si(t){return{current:t}}function Te(t){0>Cs||(t.current=Ap[Cs],Ap[Cs]=null,Cs--)}function ge(t,e){Cs++,Ap[Cs]=t.current,t.current=e}var Xr={},Tt=si(Xr),Vt=si(!1),Ui=Xr;function qs(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function Tu(){Te(Vt),Te(Tt)}function j_(t,e,n){if(Tt.current!==Xr)throw Error(P(168));ge(Tt,e),ge(Vt,n)}function Q1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,uP(t)||"Unknown",i));return be({},n,r)}function Iu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Ui=Tt.current,ge(Tt,t),ge(Vt,Vt.current),!0}function L_(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=Q1(t,e,Ui),r.__reactInternalMemoizedMergedChildContext=t,Te(Vt),Te(Tt),ge(Tt,t)):Te(Vt),ge(Vt,n)}var er=null,Pd=!1,pf=!1;function Y1(t){er===null?er=[t]:er.push(t)}function xA(t){Pd=!0,Y1(t)}function oi(){if(!pf&&er!==null){pf=!0;var t=0,e=pe;try{var n=er;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}er=null,Pd=!1}catch(i){throw er!==null&&(er=er.slice(t+1)),E1(cg,oi),i}finally{pe=e,pf=!1}}return null}var Rs=[],xs=0,Cu=null,Ru=0,on=[],an=0,zi=null,tr=1,nr="";function wi(t,e){Rs[xs++]=Ru,Rs[xs++]=Cu,Cu=t,Ru=e}function X1(t,e,n){on[an++]=tr,on[an++]=nr,on[an++]=zi,zi=t;var r=tr;t=nr;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var s=32-Tn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,tr=1<<32-Tn(e)+i|n<<i|r,nr=s+t}else tr=1<<s|n<<i|r,nr=t}function vg(t){t.return!==null&&(wi(t,1),X1(t,1,0))}function _g(t){for(;t===Cu;)Cu=Rs[--xs],Rs[xs]=null,Ru=Rs[--xs],Rs[xs]=null;for(;t===zi;)zi=on[--an],on[an]=null,nr=on[--an],on[an]=null,tr=on[--an],on[an]=null}var Yt=null,qt=null,Ce=!1,En=null;function J1(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,qt=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:tr,overflow:nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,qt=null,!0):!1;default:return!1}}function kp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Np(t){if(Ce){var e=qt;if(e){var n=e;if(!$_(t,e)){if(kp(t))throw Error(P(418));e=Fr(n.nextSibling);var r=Yt;e&&$_(t,e)?J1(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Yt=t)}}else{if(kp(t))throw Error(P(418));t.flags=t.flags&-4097|2,Ce=!1,Yt=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function oc(t){if(t!==Yt)return!1;if(!Ce)return M_(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xp(t.type,t.memoizedProps)),e&&(e=qt)){if(kp(t))throw Z1(),Error(P(418));for(;e;)J1(t,e),e=Fr(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Yt?Fr(t.stateNode.nextSibling):null;return!0}function Z1(){for(var t=qt;t;)t=Fr(t.nextSibling)}function Ks(){qt=Yt=null,Ce=!1}function wg(t){En===null?En=[t]:En.push(t)}var bA=yr.ReactCurrentBatchConfig;function _n(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xu=si(null),bu=null,bs=null,Eg=null;function Sg(){Eg=bs=bu=null}function Tg(t){var e=xu.current;Te(xu),t._currentValue=e}function Op(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){bu=t,Eg=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Eg!==t)if(t={context:t,memoizedValue:e,next:null},bs===null){if(bu===null)throw Error(P(308));bs=t,bu.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var xi=null;function Ig(t){xi===null?xi=[t]:xi.push(t)}function eS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ig(e)):(n.next=i.next,i.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rr=!1;function Cg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ur(t,n)}return i=r.interleaved,i===null?(e.next=e,Ig(r)):(e.next=i.next,i.next=e),r.interleaved=e,ur(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ug(t,n)}}function V_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pu(t,e,n,r){var i=t.updateQueue;Rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,u=c=a=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,E=l;switch(f=e,g=n,E.tag){case 1:if(v=E.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=be({},d,f);break e;case 2:Rr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=g,a=d):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(a=d),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hi|=o,t.lanes=o,t.memoizedState=d}}function F_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var nS=new e1.Component().refs;function Dp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ad={isMounted:function(t){return(t=t._reactInternals)?is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Br(t),s=or(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(In(e,t,i,r),Dc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Br(t),s=or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(In(e,t,i,r),Dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Br(t),i=or(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ur(t,i,r),e!==null&&(In(e,t,r,n),Dc(e,t,r))}};function U_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Na(n,r)||!Na(i,s):!0}function rS(t,e,n){var r=!1,i=Xr,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=Ft(e)?Ui:Tt.current,r=e.contextTypes,s=(r=r!=null)?qs(t,i):Xr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ad,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function z_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ad.enqueueReplaceState(e,e.state,null)}function jp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=nS,Cg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=Ft(e)?Ui:Tt.current,i.context=qs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Dp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ad.enqueueReplaceState(i,i.state,null),Pu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===nS&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function ac(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B_(t){var e=t._init;return e(t._payload)}function iS(t){function e(y,m){if(t){var p=y.deletions;p===null?(y.deletions=[m],y.flags|=16):p.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=Hr(y,m),y.index=0,y.sibling=null,y}function s(y,m,p){return y.index=p,t?(p=y.alternate,p!==null?(p=p.index,p<m?(y.flags|=2,m):p):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,m,p,_){return m===null||m.tag!==6?(m=Ef(p,y.mode,_),m.return=y,m):(m=i(m,p),m.return=y,m)}function a(y,m,p,_){var T=p.type;return T===ws?u(y,m,p.props.children,_,p.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Cr&&B_(T)===m.type)?(_=i(m,p.props),_.ref=Vo(y,m,p),_.return=y,_):(_=Fc(p.type,p.key,p.props,null,y.mode,_),_.ref=Vo(y,m,p),_.return=y,_)}function c(y,m,p,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Sf(p,y.mode,_),m.return=y,m):(m=i(m,p.children||[]),m.return=y,m)}function u(y,m,p,_,T){return m===null||m.tag!==7?(m=ji(p,y.mode,_,T),m.return=y,m):(m=i(m,p),m.return=y,m)}function d(y,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ef(""+m,y.mode,p),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yl:return p=Fc(m.type,m.key,m.props,null,y.mode,p),p.ref=Vo(y,null,m),p.return=y,p;case _s:return m=Sf(m,y.mode,p),m.return=y,m;case Cr:var _=m._init;return d(y,_(m._payload),p)}if(Ko(m)||Do(m))return m=ji(m,y.mode,p,null),m.return=y,m;ac(y,m)}return null}function f(y,m,p,_){var T=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return T!==null?null:l(y,m,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Yl:return p.key===T?a(y,m,p,_):null;case _s:return p.key===T?c(y,m,p,_):null;case Cr:return T=p._init,f(y,m,T(p._payload),_)}if(Ko(p)||Do(p))return T!==null?null:u(y,m,p,_,null);ac(y,p)}return null}function g(y,m,p,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(p)||null,l(m,y,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yl:return y=y.get(_.key===null?p:_.key)||null,a(m,y,_,T);case _s:return y=y.get(_.key===null?p:_.key)||null,c(m,y,_,T);case Cr:var I=_._init;return g(y,m,p,I(_._payload),T)}if(Ko(_)||Do(_))return y=y.get(p)||null,u(m,y,_,T,null);ac(m,_)}return null}function v(y,m,p,_){for(var T=null,I=null,C=m,R=m=0,M=null;C!==null&&R<p.length;R++){C.index>R?(M=C,C=null):M=C.sibling;var $=f(y,C,p[R],_);if($===null){C===null&&(C=M);break}t&&C&&$.alternate===null&&e(y,C),m=s($,m,R),I===null?T=$:I.sibling=$,I=$,C=M}if(R===p.length)return n(y,C),Ce&&wi(y,R),T;if(C===null){for(;R<p.length;R++)C=d(y,p[R],_),C!==null&&(m=s(C,m,R),I===null?T=C:I.sibling=C,I=C);return Ce&&wi(y,R),T}for(C=r(y,C);R<p.length;R++)M=g(C,y,R,p[R],_),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?R:M.key),m=s(M,m,R),I===null?T=M:I.sibling=M,I=M);return t&&C.forEach(function(he){return e(y,he)}),Ce&&wi(y,R),T}function E(y,m,p,_){var T=Do(p);if(typeof T!="function")throw Error(P(150));if(p=T.call(p),p==null)throw Error(P(151));for(var I=T=null,C=m,R=m=0,M=null,$=p.next();C!==null&&!$.done;R++,$=p.next()){C.index>R?(M=C,C=null):M=C.sibling;var he=f(y,C,$.value,_);if(he===null){C===null&&(C=M);break}t&&C&&he.alternate===null&&e(y,C),m=s(he,m,R),I===null?T=he:I.sibling=he,I=he,C=M}if($.done)return n(y,C),Ce&&wi(y,R),T;if(C===null){for(;!$.done;R++,$=p.next())$=d(y,$.value,_),$!==null&&(m=s($,m,R),I===null?T=$:I.sibling=$,I=$);return Ce&&wi(y,R),T}for(C=r(y,C);!$.done;R++,$=p.next())$=g(C,y,R,$.value,_),$!==null&&(t&&$.alternate!==null&&C.delete($.key===null?R:$.key),m=s($,m,R),I===null?T=$:I.sibling=$,I=$);return t&&C.forEach(function(Ue){return e(y,Ue)}),Ce&&wi(y,R),T}function S(y,m,p,_){if(typeof p=="object"&&p!==null&&p.type===ws&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Yl:e:{for(var T=p.key,I=m;I!==null;){if(I.key===T){if(T=p.type,T===ws){if(I.tag===7){n(y,I.sibling),m=i(I,p.props.children),m.return=y,y=m;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Cr&&B_(T)===I.type){n(y,I.sibling),m=i(I,p.props),m.ref=Vo(y,I,p),m.return=y,y=m;break e}n(y,I);break}else e(y,I);I=I.sibling}p.type===ws?(m=ji(p.props.children,y.mode,_,p.key),m.return=y,y=m):(_=Fc(p.type,p.key,p.props,null,y.mode,_),_.ref=Vo(y,m,p),_.return=y,y=_)}return o(y);case _s:e:{for(I=p.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(y,m.sibling),m=i(m,p.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=Sf(p,y.mode,_),m.return=y,y=m}return o(y);case Cr:return I=p._init,S(y,m,I(p._payload),_)}if(Ko(p))return v(y,m,p,_);if(Do(p))return E(y,m,p,_);ac(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,p),m.return=y,y=m):(n(y,m),m=Ef(p,y.mode,_),m.return=y,y=m),o(y)):n(y,m)}return S}var Gs=iS(!0),sS=iS(!1),yl={},Fn=si(yl),La=si(yl),$a=si(yl);function bi(t){if(t===yl)throw Error(P(174));return t}function Rg(t,e){switch(ge($a,e),ge(La,t),ge(Fn,yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fp(e,t)}Te(Fn),ge(Fn,e)}function Qs(){Te(Fn),Te(La),Te($a)}function oS(t){bi($a.current);var e=bi(Fn.current),n=fp(e,t.type);e!==n&&(ge(La,t),ge(Fn,n))}function xg(t){La.current===t&&(Te(Fn),Te(La))}var Re=si(0);function Au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mf=[];function bg(){for(var t=0;t<mf.length;t++)mf[t]._workInProgressVersionPrimary=null;mf.length=0}var jc=yr.ReactCurrentDispatcher,gf=yr.ReactCurrentBatchConfig,Bi=0,xe=null,He=null,Ge=null,ku=!1,ua=!1,Ma=0,PA=0;function pt(){throw Error(P(321))}function Pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function Ag(t,e,n,r,i,s){if(Bi=s,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?OA:DA,t=n(r,i),ua){s=0;do{if(ua=!1,Ma=0,25<=s)throw Error(P(301));s+=1,Ge=He=null,e.updateQueue=null,jc.current=jA,t=n(r,i)}while(ua)}if(jc.current=Nu,e=He!==null&&He.next!==null,Bi=0,Ge=He=xe=null,ku=!1,e)throw Error(P(300));return t}function kg(){var t=Ma!==0;return Ma=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?xe.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function hn(){if(He===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ge===null?xe.memoizedState:Ge.next;if(e!==null)Ge=e,He=t;else{if(t===null)throw Error(P(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ge===null?xe.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Va(t,e){return typeof e=="function"?e(t):e}function yf(t){var e=hn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var u=c.lane;if((Bi&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,xe.lanes|=u,Hi|=u}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,xn(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xe.lanes|=s,Hi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vf(t){var e=hn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xn(s,e.memoizedState)||(Mt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function aS(){}function lS(t,e){var n=xe,r=hn(),i=e(),s=!xn(r.memoizedState,i);if(s&&(r.memoizedState=i,Mt=!0),r=r.queue,Ng(dS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Fa(9,uS.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(P(349));Bi&30||cS(n,e,i)}return i}function cS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uS(t,e,n,r){e.value=n,e.getSnapshot=r,hS(e)&&fS(t)}function dS(t,e,n){return n(function(){hS(e)&&fS(t)})}function hS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function fS(t){var e=ur(t,1);e!==null&&In(e,t,1,-1)}function H_(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:t},e.queue=t,t=t.dispatch=NA.bind(null,xe,t),[e.memoizedState,t]}function Fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pS(){return hn().memoizedState}function Lc(t,e,n,r){var i=On();xe.flags|=t,i.memoizedState=Fa(1|e,n,void 0,r===void 0?null:r)}function kd(t,e,n,r){var i=hn();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&Pg(r,o.deps)){i.memoizedState=Fa(e,n,s,r);return}}xe.flags|=t,i.memoizedState=Fa(1|e,n,s,r)}function W_(t,e){return Lc(8390656,8,t,e)}function Ng(t,e){return kd(2048,8,t,e)}function mS(t,e){return kd(4,2,t,e)}function gS(t,e){return kd(4,4,t,e)}function yS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vS(t,e,n){return n=n!=null?n.concat([t]):null,kd(4,4,yS.bind(null,e,t),n)}function Og(){}function _S(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wS(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ES(t,e,n){return Bi&21?(xn(n,e)||(n=I1(),xe.lanes|=n,Hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function AA(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=gf.transition;gf.transition={};try{t(!1),e()}finally{pe=n,gf.transition=r}}function SS(){return hn().memoizedState}function kA(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TS(t))IS(e,n);else if(n=eS(t,e,n,r),n!==null){var i=Pt();In(n,t,r,i),CS(n,e,r)}}function NA(t,e,n){var r=Br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TS(t))IS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,xn(l,o)){var a=e.interleaved;a===null?(i.next=i,Ig(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=eS(t,e,i,r),n!==null&&(i=Pt(),In(n,t,r,i),CS(n,e,r))}}function TS(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function IS(t,e){ua=ku=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ug(t,n)}}var Nu={readContext:dn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},OA={readContext:dn,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:W_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lc(4194308,4,yS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lc(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kA.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:H_,useDebugValue:Og,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=H_(!1),e=t[0];return t=AA.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=On();if(Ce){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ye===null)throw Error(P(349));Bi&30||cS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,W_(dS.bind(null,r,s,t),[t]),r.flags|=2048,Fa(9,uS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=On(),e=Ye.identifierPrefix;if(Ce){var n=nr,r=tr;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DA={readContext:dn,useCallback:_S,useContext:dn,useEffect:Ng,useImperativeHandle:vS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:wS,useReducer:yf,useRef:pS,useState:function(){return yf(Va)},useDebugValue:Og,useDeferredValue:function(t){var e=hn();return ES(e,He.memoizedState,t)},useTransition:function(){var t=yf(Va)[0],e=hn().memoizedState;return[t,e]},useMutableSource:aS,useSyncExternalStore:lS,useId:SS,unstable_isNewReconciler:!1},jA={readContext:dn,useCallback:_S,useContext:dn,useEffect:Ng,useImperativeHandle:vS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:wS,useReducer:vf,useRef:pS,useState:function(){return vf(Va)},useDebugValue:Og,useDeferredValue:function(t){var e=hn();return He===null?e.memoizedState=t:ES(e,He.memoizedState,t)},useTransition:function(){var t=vf(Va)[0],e=hn().memoizedState;return[t,e]},useMutableSource:aS,useSyncExternalStore:lS,useId:SS,unstable_isNewReconciler:!1};function Ys(t,e){try{var n="",r=e;do n+=cP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LA=typeof WeakMap=="function"?WeakMap:Map;function RS(t,e,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Du||(Du=!0,qp=r),Lp(t,e)},n}function xS(t,e,n){n=or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lp(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function q_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YA.bind(null,t,e,n),e.then(t,t))}function K_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=or(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var $A=yr.ReactCurrentOwner,Mt=!1;function xt(t,e,n,r){e.child=t===null?sS(e,null,n,r):Gs(e,t.child,n,r)}function Q_(t,e,n,r,i){n=n.render;var s=e.ref;return Ms(e,i),r=Ag(t,e,n,r,s,i),n=kg(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dr(t,e,i)):(Ce&&n&&vg(e),e.flags|=1,xt(t,e,r,i),e.child)}function Y_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ug(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bS(t,e,s,r,i)):(t=Fc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(o,r)&&t.ref===e.ref)return dr(t,e,i)}return e.flags|=1,t=Hr(s,r),t.ref=e.ref,t.return=e,e.child=t}function bS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Na(s,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,dr(t,e,i)}return $p(t,e,n,r,i)}function PS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(As,Wt),Wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(As,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ge(As,Wt),Wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ge(As,Wt),Wt|=r;return xt(t,e,i,n),e.child}function AS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $p(t,e,n,r,i){var s=Ft(n)?Ui:Tt.current;return s=qs(e,s),Ms(e,i),n=Ag(t,e,n,r,s,i),r=kg(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dr(t,e,i)):(Ce&&r&&vg(e),e.flags|=1,xt(t,e,n,i),e.child)}function X_(t,e,n,r,i){if(Ft(n)){var s=!0;Iu(e)}else s=!1;if(Ms(e,i),e.stateNode===null)$c(t,e),rS(e,n,r),jp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=Ft(n)?Ui:Tt.current,c=qs(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&z_(e,o,r,c),Rr=!1;var f=e.memoizedState;o.state=f,Pu(e,r,o,i),a=e.memoizedState,l!==r||f!==a||Vt.current||Rr?(typeof u=="function"&&(Dp(e,n,u,r),a=e.memoizedState),(l=Rr||U_(e,n,l,r,f,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tS(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:_n(e.type,l),o.props=c,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=dn(a):(a=Ft(n)?Ui:Tt.current,a=qs(e,a));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&z_(e,o,r,a),Rr=!1,f=e.memoizedState,o.state=f,Pu(e,r,o,i);var v=e.memoizedState;l!==d||f!==v||Vt.current||Rr?(typeof g=="function"&&(Dp(e,n,g,r),v=e.memoizedState),(c=Rr||U_(e,n,c,r,f,v,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Mp(t,e,n,r,s,i)}function Mp(t,e,n,r,i,s){AS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&L_(e,n,!1),dr(t,e,s);r=e.stateNode,$A.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gs(e,t.child,null,s),e.child=Gs(e,null,l,s)):xt(t,e,l,s),e.memoizedState=r.state,i&&L_(e,n,!0),e.child}function kS(t){var e=t.stateNode;e.pendingContext?j_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j_(t,e.context,!1),Rg(t,e.containerInfo)}function J_(t,e,n,r,i){return Ks(),wg(i),e.flags|=256,xt(t,e,n,r),e.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function Fp(t){return{baseLanes:t,cachePool:null,transitions:null}}function NS(t,e,n){var r=e.pendingProps,i=Re.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(Re,i&1),t===null)return Np(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dd(o,r,0,null),t=ji(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fp(n),e.memoizedState=Vp,t):Dg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return MA(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Hr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Hr(l,s):(s=ji(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Fp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vp,r}return s=t.child,t=s.sibling,r=Hr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dg(t,e){return e=Dd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lc(t,e,n,r){return r!==null&&wg(r),Gs(e,t.child,null,n),t=Dg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=_f(Error(P(422))),lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Dd({mode:"visible",children:r.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gs(e,t.child,null,o),e.child.memoizedState=Fp(o),e.memoizedState=Vp,s);if(!(e.mode&1))return lc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=_f(s,r,void 0),lc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Mt||l){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ur(t,i),In(r,t,i,-1))}return Fg(),r=_f(Error(P(421))),lc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=Fr(i.nextSibling),Yt=e,Ce=!0,En=null,t!==null&&(on[an++]=tr,on[an++]=nr,on[an++]=zi,tr=t.id,nr=t.overflow,zi=e),e=Dg(e,r.children),e.flags|=4096,e)}function Z_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Op(t.return,e,n)}function wf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function OS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xt(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z_(t,n,e);else if(t.tag===19)Z_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Au(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Au(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wf(e,!0,n,null,s);break;case"together":wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VA(t,e,n){switch(e.tag){case 3:kS(e),Ks();break;case 5:oS(e);break;case 1:Ft(e.type)&&Iu(e);break;case 4:Rg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ge(xu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?NS(t,e,n):(ge(Re,Re.current&1),t=dr(t,e,n),t!==null?t.sibling:null);ge(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return OS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,PS(t,e,n)}return dr(t,e,n)}var DS,Up,jS,LS;DS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Up=function(){};jS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bi(Fn.current);var s=null;switch(n){case"input":i=cp(t,i),r=cp(t,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=hp(t,i),r=hp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Su)}pp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ca.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ve("scroll",t),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};LS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fo(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FA(t,e,n){var r=e.pendingProps;switch(_g(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Ft(e.type)&&Tu(),mt(e),null;case 3:return r=e.stateNode,Qs(),Te(Vt),Te(Tt),bg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Qp(En),En=null))),Up(t,e),mt(e),null;case 5:xg(e);var i=bi($a.current);if(n=e.type,t!==null&&e.stateNode!=null)jS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return mt(e),null}if(t=bi(Fn.current),oc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jn]=e,r[ja]=s,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<Qo.length;i++)ve(Qo[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":l_(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":u_(r,s),ve("invalid",r)}pp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,l,t),i=["children",""+l]):Ca.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Xl(r),c_(r,s,!0);break;case"textarea":Xl(r),d_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Su)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=c1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jn]=e,t[ja]=r,DS(t,e,!1,!1),e.stateNode=t;e:{switch(o=mp(n,r),n){case"dialog":ve("cancel",t),ve("close",t),i=r;break;case"iframe":case"object":case"embed":ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qo.length;i++)ve(Qo[i],t);i=r;break;case"source":ve("error",t),i=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=r;break;case"details":ve("toggle",t),i=r;break;case"input":l_(t,r),i=cp(t,r),ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),ve("invalid",t);break;case"textarea":u_(t,r),i=hp(t,r),ve("invalid",t);break;default:i=r}pp(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?h1(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&u1(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ra(t,a):typeof a=="number"&&Ra(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ca.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ve("scroll",t):a!=null&&ig(t,s,a,o))}switch(n){case"input":Xl(t),c_(t,r,!1);break;case"textarea":Xl(t),d_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ds(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)LS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=bi($a.current),bi(Fn.current),oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(s=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return mt(e),null;case 13:if(Te(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&qt!==null&&e.mode&1&&!(e.flags&128))Z1(),Ks(),e.flags|=98560,s=!1;else if(s=oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[jn]=e}else Ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else En!==null&&(Qp(En),En=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?We===0&&(We=3):Fg())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Qs(),Up(t,e),t===null&&Oa(e.stateNode.containerInfo),mt(e),null;case 10:return Tg(e.type._context),mt(e),null;case 17:return Ft(e.type)&&Tu(),mt(e),null;case 19:if(Te(Re),s=e.memoizedState,s===null)return mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fo(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Au(t),o!==null){for(e.flags|=128,Fo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Re,Re.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>Xs&&(e.flags|=128,r=!0,Fo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Au(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return mt(e),null}else 2*Oe()-s.renderingStartTime>Xs&&n!==1073741824&&(e.flags|=128,r=!0,Fo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,n=Re.current,ge(Re,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Vg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function UA(t,e){switch(_g(e),e.tag){case 1:return Ft(e.type)&&Tu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),Te(Vt),Te(Tt),bg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xg(e),null;case 13:if(Te(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Re),null;case 4:return Qs(),null;case 10:return Tg(e.type._context),null;case 22:case 23:return Vg(),null;case 24:return null;default:return null}}var cc=!1,vt=!1,zA=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function zp(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var ew=!1;function BA(t,e){if(Cp=_u,t=F1(),yg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(l=o),f===s&&++u===r&&(a=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rp={focusedElem:t,selectionRange:n},_u=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,S=v.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:_n(e.type,E),S);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){Ae(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return v=ew,ew=!1,v}function da(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zp(e,n,s)}i=i.next}while(i!==r)}}function Nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $S(t){var e=t.alternate;e!==null&&(t.alternate=null,$S(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[ja],delete e[Pp],delete e[CA],delete e[RA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MS(t){return t.tag===5||t.tag===3||t.tag===4}function tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Su));else if(r!==4&&(t=t.child,t!==null))for(Hp(t,e,n),t=t.sibling;t!==null;)Hp(t,e,n),t=t.sibling}function Wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wp(t,e,n),t=t.sibling;t!==null;)Wp(t,e,n),t=t.sibling}var nt=null,wn=!1;function Sr(t,e,n){for(n=n.child;n!==null;)VS(t,e,n),n=n.sibling}function VS(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Id,n)}catch{}switch(n.tag){case 5:vt||Ps(n,e);case 6:var r=nt,i=wn;nt=null,Sr(t,e,n),nt=r,wn=i,nt!==null&&(wn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(wn?(t=nt,n=n.stateNode,t.nodeType===8?ff(t.parentNode,n):t.nodeType===1&&ff(t,n),Aa(t)):ff(nt,n.stateNode));break;case 4:r=nt,i=wn,nt=n.stateNode.containerInfo,wn=!0,Sr(t,e,n),nt=r,wn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zp(n,e,o),i=i.next}while(i!==r)}Sr(t,e,n);break;case 1:if(!vt&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ae(n,e,l)}Sr(t,e,n);break;case 21:Sr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Sr(t,e,n),vt=r):Sr(t,e,n);break;default:Sr(t,e,n)}}function nw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zA),e.forEach(function(r){var i=JA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:nt=l.stateNode,wn=!1;break e;case 3:nt=l.stateNode.containerInfo,wn=!0;break e;case 4:nt=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(nt===null)throw Error(P(160));VS(s,o,i),nt=null,wn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){Ae(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FS(e,t),e=e.sibling}function FS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Nn(t),r&4){try{da(3,t,t.return),Nd(3,t)}catch(E){Ae(t,t.return,E)}try{da(5,t,t.return)}catch(E){Ae(t,t.return,E)}}break;case 1:yn(e,t),Nn(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(yn(e,t),Nn(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{Ra(i,"")}catch(E){Ae(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&a1(i,s),mp(l,o);var c=mp(l,s);for(o=0;o<a.length;o+=2){var u=a[o],d=a[o+1];u==="style"?h1(i,d):u==="dangerouslySetInnerHTML"?u1(i,d):u==="children"?Ra(i,d):ig(i,u,d,c)}switch(l){case"input":up(i,s);break;case"textarea":l1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ds(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ds(i,!!s.multiple,s.defaultValue,!0):Ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[ja]=s}catch(E){Ae(t,t.return,E)}}break;case 6:if(yn(e,t),Nn(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Ae(t,t.return,E)}}break;case 3:if(yn(e,t),Nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Aa(e.containerInfo)}catch(E){Ae(t,t.return,E)}break;case 4:yn(e,t),Nn(t);break;case 13:yn(e,t),Nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($g=Oe())),r&4&&nw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||u,yn(e,t),vt=c):yn(e,t),Nn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(d=L=u;L!==null;){switch(f=L,g=f.child,f.tag){case 0:case 11:case 14:case 15:da(4,f,f.return);break;case 1:Ps(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(E){Ae(r,n,E)}}break;case 5:Ps(f,f.return);break;case 22:if(f.memoizedState!==null){iw(d);continue}}g!==null?(g.return=f,L=g):iw(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=d1("display",o))}catch(E){Ae(t,t.return,E)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(E){Ae(t,t.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yn(e,t),Nn(t),r&4&&nw(t);break;case 21:break;default:yn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MS(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ra(i,""),r.flags&=-33);var s=tw(t);Wp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=tw(t);Hp(t,l,o);break;default:throw Error(P(161))}}catch(a){Ae(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HA(t,e,n){L=t,US(t)}function US(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cc;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||vt;l=cc;var c=vt;if(cc=o,(vt=a)&&!c)for(L=i;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?sw(i):a!==null?(a.return=o,L=a):sw(i);for(;s!==null;)L=s,US(s),s=s.sibling;L=i,cc=l,vt=c}rw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):rw(t)}}function rw(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&F_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F_(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Aa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}vt||e.flags&512&&Bp(e)}catch(f){Ae(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function iw(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function sw(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nd(4,e)}catch(a){Ae(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ae(e,i,a)}}var s=e.return;try{Bp(e)}catch(a){Ae(e,s,a)}break;case 5:var o=e.return;try{Bp(e)}catch(a){Ae(e,o,a)}}}catch(a){Ae(e,e.return,a)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var WA=Math.ceil,Ou=yr.ReactCurrentDispatcher,jg=yr.ReactCurrentOwner,un=yr.ReactCurrentBatchConfig,le=0,Ye=null,$e=null,at=0,Wt=0,As=si(0),We=0,Ua=null,Hi=0,Od=0,Lg=0,ha=null,Lt=null,$g=0,Xs=1/0,Jn=null,Du=!1,qp=null,zr=null,uc=!1,Dr=null,ju=0,fa=0,Kp=null,Mc=-1,Vc=0;function Pt(){return le&6?Oe():Mc!==-1?Mc:Mc=Oe()}function Br(t){return t.mode&1?le&2&&at!==0?at&-at:bA.transition!==null?(Vc===0&&(Vc=I1()),Vc):(t=pe,t!==0||(t=window.event,t=t===void 0?16:k1(t.type)),t):1}function In(t,e,n,r){if(50<fa)throw fa=0,Kp=null,Error(P(185));pl(t,n,r),(!(le&2)||t!==Ye)&&(t===Ye&&(!(le&2)&&(Od|=n),We===4&&br(t,at)),Ut(t,r),n===1&&le===0&&!(e.mode&1)&&(Xs=Oe()+500,Pd&&oi()))}function Ut(t,e){var n=t.callbackNode;bP(t,e);var r=vu(t,t===Ye?at:0);if(r===0)n!==null&&p_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p_(n),e===1)t.tag===0?xA(ow.bind(null,t)):Y1(ow.bind(null,t)),TA(function(){!(le&6)&&oi()}),n=null;else{switch(C1(r)){case 1:n=cg;break;case 4:n=S1;break;case 16:n=yu;break;case 536870912:n=T1;break;default:n=yu}n=QS(n,zS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zS(t,e){if(Mc=-1,Vc=0,le&6)throw Error(P(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var r=vu(t,t===Ye?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lu(t,r);else{e=r;var i=le;le|=2;var s=HS();(Ye!==t||at!==e)&&(Jn=null,Xs=Oe()+500,Di(t,e));do try{GA();break}catch(l){BS(t,l)}while(!0);Sg(),Ou.current=s,le=i,$e!==null?e=0:(Ye=null,at=0,e=We)}if(e!==0){if(e===2&&(i=wp(t),i!==0&&(r=i,e=Gp(t,i))),e===1)throw n=Ua,Di(t,0),br(t,r),Ut(t,Oe()),n;if(e===6)br(t,r);else{if(i=t.current.alternate,!(r&30)&&!qA(i)&&(e=Lu(t,r),e===2&&(s=wp(t),s!==0&&(r=s,e=Gp(t,s))),e===1))throw n=Ua,Di(t,0),br(t,r),Ut(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Ei(t,Lt,Jn);break;case 3:if(br(t,r),(r&130023424)===r&&(e=$g+500-Oe(),10<e)){if(vu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bp(Ei.bind(null,t,Lt,Jn),e);break}Ei(t,Lt,Jn);break;case 4:if(br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Tn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WA(r/1960))-r,10<r){t.timeoutHandle=bp(Ei.bind(null,t,Lt,Jn),r);break}Ei(t,Lt,Jn);break;case 5:Ei(t,Lt,Jn);break;default:throw Error(P(329))}}}return Ut(t,Oe()),t.callbackNode===n?zS.bind(null,t):null}function Gp(t,e){var n=ha;return t.current.memoizedState.isDehydrated&&(Di(t,e).flags|=256),t=Lu(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&Qp(e)),t}function Qp(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function qA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(t,e){for(e&=~Lg,e&=~Od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),r=1<<n;t[n]=-1,e&=~r}}function ow(t){if(le&6)throw Error(P(327));Vs();var e=vu(t,0);if(!(e&1))return Ut(t,Oe()),null;var n=Lu(t,e);if(t.tag!==0&&n===2){var r=wp(t);r!==0&&(e=r,n=Gp(t,r))}if(n===1)throw n=Ua,Di(t,0),br(t,e),Ut(t,Oe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ei(t,Lt,Jn),Ut(t,Oe()),null}function Mg(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Xs=Oe()+500,Pd&&oi())}}function Wi(t){Dr!==null&&Dr.tag===0&&!(le&6)&&Vs();var e=le;le|=1;var n=un.transition,r=pe;try{if(un.transition=null,pe=1,t)return t()}finally{pe=r,un.transition=n,le=e,!(le&6)&&oi()}}function Vg(){Wt=As.current,Te(As)}function Di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SA(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(_g(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tu();break;case 3:Qs(),Te(Vt),Te(Tt),bg();break;case 5:xg(r);break;case 4:Qs();break;case 13:Te(Re);break;case 19:Te(Re);break;case 10:Tg(r.type._context);break;case 22:case 23:Vg()}n=n.return}if(Ye=t,$e=t=Hr(t.current,null),at=Wt=e,We=0,Ua=null,Lg=Od=Hi=0,Lt=ha=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xi=null}return t}function BS(t,e){do{var n=$e;try{if(Sg(),jc.current=Nu,ku){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ku=!1}if(Bi=0,Ge=He=xe=null,ua=!1,Ma=0,jg.current=null,n===null||n.return===null){We=1,Ua=e,$e=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=at,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=K_(o);if(g!==null){g.flags&=-257,G_(g,o,l,s,e),g.mode&1&&q_(s,c,e),e=g,a=c;var v=e.updateQueue;if(v===null){var E=new Set;E.add(a),e.updateQueue=E}else v.add(a);break e}else{if(!(e&1)){q_(s,c,e),Fg();break e}a=Error(P(426))}}else if(Ce&&l.mode&1){var S=K_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),G_(S,o,l,s,e),wg(Ys(a,l));break e}}s=a=Ys(a,l),We!==4&&(We=2),ha===null?ha=[s]:ha.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=RS(s,a,e);V_(s,y);break e;case 1:l=a;var m=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zr===null||!zr.has(p)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=xS(s,l,e);V_(s,_);break e}}s=s.return}while(s!==null)}qS(n)}catch(T){e=T,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function HS(){var t=Ou.current;return Ou.current=Nu,t===null?Nu:t}function Fg(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(Hi&268435455)&&!(Od&268435455)||br(Ye,at)}function Lu(t,e){var n=le;le|=2;var r=HS();(Ye!==t||at!==e)&&(Jn=null,Di(t,e));do try{KA();break}catch(i){BS(t,i)}while(!0);if(Sg(),le=n,Ou.current=r,$e!==null)throw Error(P(261));return Ye=null,at=0,We}function KA(){for(;$e!==null;)WS($e)}function GA(){for(;$e!==null&&!_P();)WS($e)}function WS(t){var e=GS(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?qS(t):$e=e,jg.current=null}function qS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UA(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,$e=null;return}}else if(n=FA(n,e,Wt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);We===0&&(We=5)}function Ei(t,e,n){var r=pe,i=un.transition;try{un.transition=null,pe=1,QA(t,e,n,r)}finally{un.transition=i,pe=r}return null}function QA(t,e,n,r){do Vs();while(Dr!==null);if(le&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PP(t,s),t===Ye&&($e=Ye=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uc||(uc=!0,QS(yu,function(){return Vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=pe;pe=1;var l=le;le|=4,jg.current=null,BA(t,n),FS(n,t),mA(Rp),_u=!!Cp,Rp=Cp=null,t.current=n,HA(n),wP(),le=l,pe=o,un.transition=s}else t.current=n;if(uc&&(uc=!1,Dr=t,ju=i),s=t.pendingLanes,s===0&&(zr=null),TP(n.stateNode),Ut(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Du)throw Du=!1,t=qp,qp=null,t;return ju&1&&t.tag!==0&&Vs(),s=t.pendingLanes,s&1?t===Kp?fa++:(fa=0,Kp=t):fa=0,oi(),null}function Vs(){if(Dr!==null){var t=C1(ju),e=un.transition,n=pe;try{if(un.transition=null,pe=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,ju=0,le&6)throw Error(P(331));var i=le;for(le|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:da(8,u,s)}var d=u.child;if(d!==null)d.return=u,L=d;else for(;L!==null;){u=L;var f=u.sibling,g=u.return;if($S(u),u===c){L=null;break}if(f!==null){f.return=g,L=f;break}L=g}}}var v=s.alternate;if(v!==null){var E=v.child;if(E!==null){v.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:da(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,L=y;break e}L=s.return}}var m=t.current;for(L=m;L!==null;){o=L;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,L=p;else e:for(o=m;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nd(9,l)}}catch(T){Ae(l,l.return,T)}if(l===o){L=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,L=_;break e}L=l.return}}if(le=i,oi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Id,t)}catch{}r=!0}return r}finally{pe=n,un.transition=e}}return!1}function aw(t,e,n){e=Ys(n,e),e=RS(t,e,1),t=Ur(t,e,1),e=Pt(),t!==null&&(pl(t,1,e),Ut(t,e))}function Ae(t,e,n){if(t.tag===3)aw(t,t,n);else for(;e!==null;){if(e.tag===3){aw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=Ys(n,t),t=xS(e,t,1),e=Ur(e,t,1),t=Pt(),e!==null&&(pl(e,1,t),Ut(e,t));break}}e=e.return}}function YA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(at&n)===n&&(We===4||We===3&&(at&130023424)===at&&500>Oe()-$g?Di(t,0):Lg|=n),Ut(t,e)}function KS(t,e){e===0&&(t.mode&1?(e=ec,ec<<=1,!(ec&130023424)&&(ec=4194304)):e=1);var n=Pt();t=ur(t,e),t!==null&&(pl(t,e,n),Ut(t,n))}function XA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KS(t,n)}function JA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),KS(t,n)}var GS;GS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,VA(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,Ce&&e.flags&1048576&&X1(e,Ru,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$c(t,e),t=e.pendingProps;var i=qs(e,Tt.current);Ms(e,n),i=Ag(null,e,r,t,i,n);var s=kg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,Iu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cg(e),i.updater=Ad,e.stateNode=i,i._reactInternals=e,jp(e,r,t,n),e=Mp(null,e,r,!0,s,n)):(e.tag=0,Ce&&s&&vg(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ek(r),t=_n(r,t),i){case 0:e=$p(null,e,r,t,n);break e;case 1:e=X_(null,e,r,t,n);break e;case 11:e=Q_(null,e,r,t,n);break e;case 14:e=Y_(null,e,r,_n(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),$p(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),X_(t,e,r,i,n);case 3:e:{if(kS(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tS(t,e),Pu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ys(Error(P(423)),e),e=J_(t,e,r,n,i);break e}else if(r!==i){i=Ys(Error(P(424)),e),e=J_(t,e,r,n,i);break e}else for(qt=Fr(e.stateNode.containerInfo.firstChild),Yt=e,Ce=!0,En=null,n=sS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ks(),r===i){e=dr(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return oS(e),t===null&&Np(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xp(r,i)?o=null:s!==null&&xp(r,s)&&(e.flags|=32),AS(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&Np(e),null;case 13:return NS(t,e,n);case 4:return Rg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gs(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Q_(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ge(xu,r._currentValue),r._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===i.children&&!Vt.current){e=dr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=or(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Op(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Op(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ms(e,n),i=dn(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),Y_(t,e,r,i,n);case 15:return bS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),$c(t,e),e.tag=1,Ft(r)?(t=!0,Iu(e)):t=!1,Ms(e,n),rS(e,r,i),jp(e,r,i,n),Mp(null,e,r,!0,t,n);case 19:return OS(t,e,n);case 22:return PS(t,e,n)}throw Error(P(156,e.tag))};function QS(t,e){return E1(t,e)}function ZA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new ZA(t,e,n,r)}function Ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ek(t){if(typeof t=="function")return Ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===og)return 11;if(t===ag)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ug(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ws:return ji(n.children,i,s,e);case sg:o=8,i|=8;break;case sp:return t=cn(12,n,e,i|2),t.elementType=sp,t.lanes=s,t;case op:return t=cn(13,n,e,i),t.elementType=op,t.lanes=s,t;case ap:return t=cn(19,n,e,i),t.elementType=ap,t.lanes=s,t;case i1:return Dd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n1:o=10;break e;case r1:o=9;break e;case og:o=11;break e;case ag:o=14;break e;case Cr:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ji(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Dd(t,e,n,r){return t=cn(22,t,r,e),t.elementType=i1,t.lanes=n,t.stateNode={isHidden:!1},t}function Ef(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Sf(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tf(0),this.expirationTimes=tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zg(t,e,n,r,i,s,o,l,a){return t=new tk(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cg(s),t}function nk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YS(t){if(!t)return Xr;t=t._reactInternals;e:{if(is(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ft(n))return Q1(t,n,e)}return e}function XS(t,e,n,r,i,s,o,l,a){return t=zg(n,r,!0,t,i,s,o,l,a),t.context=YS(null),n=t.current,r=Pt(),i=Br(n),s=or(r,i),s.callback=e??null,Ur(n,s,i),t.current.lanes=i,pl(t,i,r),Ut(t,r),t}function jd(t,e,n,r){var i=e.current,s=Pt(),o=Br(i);return n=YS(n),e.context===null?e.context=n:e.pendingContext=n,e=or(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(i,e,o),t!==null&&(In(t,i,o,s),Dc(t,i,o)),o}function $u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bg(t,e){lw(t,e),(t=t.alternate)&&lw(t,e)}function rk(){return null}var JS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hg(t){this._internalRoot=t}Ld.prototype.render=Hg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));jd(t,e,null,null)};Ld.prototype.unmount=Hg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wi(function(){jd(null,t,null,null)}),e[cr]=null}};function Ld(t){this._internalRoot=t}Ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=b1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xr.length&&e!==0&&e<xr[n].priority;n++);xr.splice(n,0,t),n===0&&A1(t)}};function Wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cw(){}function ik(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=$u(o);s.call(c)}}var o=XS(e,r,t,0,null,!1,!1,"",cw);return t._reactRootContainer=o,t[cr]=o.current,Oa(t.nodeType===8?t.parentNode:t),Wi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=$u(a);l.call(c)}}var a=zg(t,0,!1,null,null,!1,!1,"",cw);return t._reactRootContainer=a,t[cr]=a.current,Oa(t.nodeType===8?t.parentNode:t),Wi(function(){jd(e,a,n,r)}),a}function Md(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=$u(o);l.call(a)}}jd(e,o,t,i)}else o=ik(n,e,t,i,r);return $u(o)}R1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Go(e.pendingLanes);n!==0&&(ug(e,n|1),Ut(e,Oe()),!(le&6)&&(Xs=Oe()+500,oi()))}break;case 13:Wi(function(){var r=ur(t,1);if(r!==null){var i=Pt();In(r,t,1,i)}}),Bg(t,1)}};dg=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=Pt();In(e,t,134217728,n)}Bg(t,134217728)}};x1=function(t){if(t.tag===13){var e=Br(t),n=ur(t,e);if(n!==null){var r=Pt();In(n,t,e,r)}Bg(t,e)}};b1=function(){return pe};P1=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};yp=function(t,e,n){switch(e){case"input":if(up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bd(r);if(!i)throw Error(P(90));o1(r),up(r,i)}}}break;case"textarea":l1(t,n);break;case"select":e=n.value,e!=null&&Ds(t,!!n.multiple,e,!1)}};m1=Mg;g1=Wi;var sk={usingClientEntryPoint:!1,Events:[gl,Is,bd,f1,p1,Mg]},Uo={findFiberByHostInstance:Ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ok={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_1(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||rk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Id=dc.inject(ok),Vn=dc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sk;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wg(e))throw Error(P(200));return nk(t,e,null,n)};tn.createRoot=function(t,e){if(!Wg(t))throw Error(P(299));var n=!1,r="",i=JS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zg(t,1,!1,null,null,n,!1,r,i),t[cr]=e.current,Oa(t.nodeType===8?t.parentNode:t),new Hg(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=_1(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return Wi(t)};tn.hydrate=function(t,e,n){if(!$d(e))throw Error(P(200));return Md(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!Wg(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=JS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=XS(e,null,t,1,n??null,i,!1,s,o),t[cr]=e.current,Oa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ld(e)};tn.render=function(t,e,n){if(!$d(e))throw Error(P(200));return Md(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!$d(t))throw Error(P(40));return t._reactRootContainer?(Wi(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};tn.unstable_batchedUpdates=Mg;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$d(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Md(t,e,n,!1,r)};tn.version="18.2.0-next-9e3b772b8-20220608";function ZS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZS)}catch(t){console.error(t)}}ZS(),XE.exports=tn;var ak=XE.exports,eT,uw=ak;eT=uw.createRoot,uw.hydrateRoot;var tT={exports:{}},nT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=w;function lk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ck=typeof Object.is=="function"?Object.is:lk,uk=vl.useSyncExternalStore,dk=vl.useRef,hk=vl.useEffect,fk=vl.useMemo,pk=vl.useDebugValue;nT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=dk(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=fk(function(){function a(g){if(!c){if(c=!0,u=g,g=r(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return d=v}return d=g}if(v=d,ck(u,g))return v;var E=r(g);return i!==void 0&&i(v,E)?v:(u=g,d=E)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return a(e())},f===null?void 0:function(){return a(f())}]},[e,n,r,i]);var l=uk(t,s[0],s[1]);return hk(function(){o.hasValue=!0,o.value=l},[l]),pk(l),l};tT.exports=nT;var mk=tT.exports,Kt="default"in rp?H:rp,dw=Symbol.for("react-redux-context"),hw=typeof globalThis<"u"?globalThis:{};function gk(){if(!Kt.createContext)return{};const t=hw[dw]??(hw[dw]=new Map);let e=t.get(Kt.createContext);return e||(e=Kt.createContext(null),t.set(Kt.createContext,e)),e}var Jr=gk(),yk=()=>{throw new Error("uSES not initialized!")};function qg(t=Jr){return function(){return Kt.useContext(t)}}var rT=qg(),iT=yk,vk=t=>{iT=t},_k=(t,e)=>t===e;function wk(t=Jr){const e=t===Jr?rT:qg(t),n=(r,i={})=>{const{equalityFn:s=_k,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:a,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();Kt.useRef(!0);const f=Kt.useCallback({[r.name](v){return r(v)}}[r.name],[r,u,o.stabilityCheck]),g=iT(a.addNestedSub,l.getState,c||l.getState,f,s);return Kt.useDebugValue(g),g};return Object.assign(n,{withTypes:()=>n}),n}var we=wk();function Ek(t){t()}function Sk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ek(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var fw={notify(){},get:()=>[]};function Tk(t,e){let n,r=fw,i=0,s=!1;function o(E){u();const S=r.subscribe(E);let y=!1;return()=>{y||(y=!0,S(),d())}}function l(){r.notify()}function a(){v.onStateChange&&v.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(a):t.subscribe(a),r=Sk())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fw)}function f(){s||(s=!0,u())}function g(){s&&(s=!1,d())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:c,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>r};return v}var Ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ck=Ik?Kt.useLayoutEffect:Kt.useEffect;function Rk({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Kt.useMemo(()=>{const c=Tk(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=Kt.useMemo(()=>t.getState(),[t]);Ck(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const a=e||Jr;return Kt.createElement(a.Provider,{value:o},n)}var xk=Rk;function sT(t=Jr){const e=t===Jr?rT:qg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var bk=sT();function Pk(t=Jr){const e=t===Jr?bk:sT(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Kg=Pk();vk(mk.useSyncExternalStoreWithSelector);function Uc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uc=function(n){return typeof n}:Uc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Uc(t)}function Ak(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kk(t,e,n){return e&&pw(t.prototype,e),n&&pw(t,n),t}function Nk(t,e){return e&&(Uc(e)==="object"||typeof e=="function")?e:zc(t)}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Yp(t)}function zc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ok(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xp(t,e)}function Xp(t,e){return Xp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Xp(t,e)}function Bc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oT=function(t){Ok(e,t);function e(){var n,r;Ak(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Nk(this,(n=Yp(e)).call.apply(n,[this].concat(s))),Bc(zc(r),"state",{bootstrapped:!1}),Bc(zc(r),"_unsubscribe",void 0),Bc(zc(r),"handlePersistorState",function(){var l=r.props.persistor,a=l.getState(),c=a.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return kk(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(w.PureComponent);Bc(oT,"defaultProps",{children:null,loading:null});function tt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Dk=typeof Symbol=="function"&&Symbol.observable||"@@observable",mw=Dk,Tf=()=>Math.random().toString(36).substring(7).split("").join("."),jk={INIT:`@@redux/INIT${Tf()}`,REPLACE:`@@redux/REPLACE${Tf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tf()}`},Mu=jk;function Gg(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Qg(t,e,n){if(typeof t!="function")throw new Error(tt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tt(1));return n(Qg)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,a=!1;function c(){o===s&&(o=new Map,s.forEach((S,y)=>{o.set(y,S)}))}function u(){if(a)throw new Error(tt(3));return i}function d(S){if(typeof S!="function")throw new Error(tt(4));if(a)throw new Error(tt(5));let y=!0;c();const m=l++;return o.set(m,S),function(){if(y){if(a)throw new Error(tt(6));y=!1,c(),o.delete(m),s=null}}}function f(S){if(!Gg(S))throw new Error(tt(7));if(typeof S.type>"u")throw new Error(tt(8));if(typeof S.type!="string")throw new Error(tt(17));if(a)throw new Error(tt(9));try{a=!0,i=r(i,S)}finally{a=!1}return(s=o).forEach(m=>{m()}),S}function g(S){if(typeof S!="function")throw new Error(tt(10));r=S,f({type:Mu.REPLACE})}function v(){const S=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(tt(11));function m(){const _=y;_.next&&_.next(u())}return m(),{unsubscribe:S(m)}},[mw](){return this}}}return f({type:Mu.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:g,[mw]:v}}function Lk(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Mu.INIT})>"u")throw new Error(tt(12));if(typeof n(void 0,{type:Mu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tt(13))})}function $k(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Lk(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let a=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],g=o[d],v=f(g,l);if(typeof v>"u")throw l&&l.type,new Error(tt(14));c[d]=v,a=a||v!==g}return a=a||r.length!==Object.keys(o).length,a?c:o}}function Vu(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Mk(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(tt(15))};const o={getState:i.getState,dispatch:(a,...c)=>s(a,...c)},l=t.map(a=>a(o));return s=Vu(...l)(i.dispatch),{...i,dispatch:s}}}function Vk(t){return Gg(t)&&"type"in t&&typeof t.type=="string"}var aT=Symbol.for("immer-nothing"),gw=Symbol.for("immer-draftable"),Jt=Symbol.for("immer-state");function Sn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Js=Object.getPrototypeOf;function Zr(t){return!!t&&!!t[Jt]}function hr(t){var e;return t?lT(t)||Array.isArray(t)||!!t[gw]||!!((e=t.constructor)!=null&&e[gw])||Fd(t)||Ud(t):!1}var Fk=Object.prototype.constructor.toString();function lT(t){if(!t||typeof t!="object")return!1;const e=Js(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Fk}function za(t,e){Vd(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Vd(t){const e=t[Jt];return e?e.type_:Array.isArray(t)?1:Fd(t)?2:Ud(t)?3:0}function Jp(t,e){return Vd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function cT(t,e,n){const r=Vd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Uk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Fd(t){return t instanceof Map}function Ud(t){return t instanceof Set}function Si(t){return t.copy_||t.base_}function Zp(t,e){if(Fd(t))return new Map(t);if(Ud(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&lT(t))return Js(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Jt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Js(t),n)}function Yg(t,e=!1){return zd(t)||Zr(t)||!hr(t)||(Vd(t)>1&&(t.set=t.add=t.clear=t.delete=zk),Object.freeze(t),e&&za(t,(n,r)=>Yg(r,!0))),t}function zk(){Sn(2)}function zd(t){return Object.isFrozen(t)}var Bk={};function qi(t){const e=Bk[t];return e||Sn(0,t),e}var Ba;function uT(){return Ba}function Hk(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yw(t,e){e&&(qi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function em(t){tm(t),t.drafts_.forEach(Wk),t.drafts_=null}function tm(t){t===Ba&&(Ba=t.parent_)}function vw(t){return Ba=Hk(Ba,t)}function Wk(t){const e=t[Jt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function _w(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Jt].modified_&&(em(e),Sn(4)),hr(t)&&(t=Fu(e,t),e.parent_||Uu(e,t)),e.patches_&&qi("Patches").generateReplacementPatches_(n[Jt].base_,t,e.patches_,e.inversePatches_)):t=Fu(e,n,[]),em(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==aT?t:void 0}function Fu(t,e,n){if(zd(e))return e;const r=e[Jt];if(!r)return za(e,(i,s)=>ww(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Uu(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),za(s,(l,a)=>ww(t,r,i,l,a,n,o)),Uu(t,i,!1),n&&t.patches_&&qi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function ww(t,e,n,r,i,s,o){if(Zr(i)){const l=s&&e&&e.type_!==3&&!Jp(e.assigned_,r)?s.concat(r):void 0,a=Fu(t,i,l);if(cT(n,r,a),Zr(a))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(hr(i)&&!zd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Fu(t,i),(!e||!e.scope_.parent_)&&Uu(t,i)}}function Uu(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Yg(e,n)}function qk(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:uT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Xg;n&&(i=[r],s=Ha);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var Xg={get(t,e){if(e===Jt)return t;const n=Si(t);if(!Jp(n,e))return Kk(t,n,e);const r=n[e];return t.finalized_||!hr(r)?r:r===If(t.base_,e)?(Cf(t),t.copy_[e]=rm(r,t)):r},has(t,e){return e in Si(t)},ownKeys(t){return Reflect.ownKeys(Si(t))},set(t,e,n){const r=dT(Si(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=If(Si(t),e),s=i==null?void 0:i[Jt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Uk(n,i)&&(n!==void 0||Jp(t.base_,e)))return!0;Cf(t),nm(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return If(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Cf(t),nm(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Si(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Sn(11)},getPrototypeOf(t){return Js(t.base_)},setPrototypeOf(){Sn(12)}},Ha={};za(Xg,(t,e)=>{Ha[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ha.deleteProperty=function(t,e){return Ha.set.call(this,t,e,void 0)};Ha.set=function(t,e,n){return Xg.set.call(this,t[0],e,n,t[0])};function If(t,e){const n=t[Jt];return(n?Si(n):t)[e]}function Kk(t,e,n){var i;const r=dT(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function dT(t,e){if(!(e in t))return;let n=Js(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Js(n)}}function nm(t){t.modified_||(t.modified_=!0,t.parent_&&nm(t.parent_))}function Cf(t){t.copy_||(t.copy_=Zp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Gk=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(a=s,...c){return o.produce(a,u=>n.call(this,u,...c))}}typeof n!="function"&&Sn(6),r!==void 0&&typeof r!="function"&&Sn(7);let i;if(hr(e)){const s=vw(this),o=rm(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?em(s):tm(s)}return yw(s,r),_w(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===aT&&(i=void 0),this.autoFreeze_&&Yg(i,!0),r){const s=[],o=[];qi("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Sn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,a=>e(a,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){hr(t)||Sn(8),Zr(t)&&(t=hT(t));const e=vw(this),n=rm(t,void 0);return n[Jt].isManual_=!0,tm(e),n}finishDraft(t,e){const n=t&&t[Jt];(!n||!n.isManual_)&&Sn(9);const{scope_:r}=n;return yw(r,e),_w(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=qi("Patches").applyPatches_;return Zr(t)?r(t,e):this.produce(t,i=>r(i,e))}};function rm(t,e){const n=Fd(t)?qi("MapSet").proxyMap_(t,e):Ud(t)?qi("MapSet").proxySet_(t,e):qk(t,e);return(e?e.scope_:uT()).drafts_.push(n),n}function hT(t){return Zr(t)||Sn(10,t),fT(t)}function fT(t){if(!hr(t)||zd(t))return t;const e=t[Jt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Zp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Zp(t,!0);return za(n,(r,i)=>{cT(n,r,fT(i))}),e&&(e.finalized_=!1),n}var Zt=new Gk,pT=Zt.produce;Zt.produceWithPatches.bind(Zt);Zt.setAutoFreeze.bind(Zt);Zt.setUseStrictShallowCopy.bind(Zt);Zt.applyPatches.bind(Zt);Zt.createDraft.bind(Zt);Zt.finishDraft.bind(Zt);function Qk(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Yk(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Xk(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Ew=t=>Array.isArray(t)?t:[t];function Jk(t){const e=Array.isArray(t[0])?t[0]:t;return Xk(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Zk(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var eN=class{constructor(t){this.value=t}deref(){return this.value}},tN=typeof WeakRef<"u"?WeakRef:eN,nN=0,Sw=1;function hc(){return{s:nN,v:void 0,o:null,p:null}}function Jg(t,e={}){let n=hc();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let l=n;const{length:a}=arguments;for(let f=0,g=a;f<g;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let E=l.o;E===null&&(l.o=E=new WeakMap);const S=E.get(v);S===void 0?(l=hc(),E.set(v,l)):l=S}else{let E=l.p;E===null&&(l.p=E=new Map);const S=E.get(v);S===void 0?(l=hc(),E.set(v,l)):l=S}}const c=l;let u;if(l.s===Sw?u=l.v:(u=t.apply(null,arguments),s++),c.s=Sw,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new tN(u):u}return c.v=u,u}return o.clearCache=()=>{n=hc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function mT(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,l,a={},c=i.pop();typeof c=="object"&&(a=c,c=i.pop()),Qk(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...a},{memoize:d,memoizeOptions:f=[],argsMemoize:g=Jg,argsMemoizeOptions:v=[],devModeChecks:E={}}=u,S=Ew(f),y=Ew(v),m=Jk(i),p=d(function(){return s++,c.apply(null,arguments)},...S),_=g(function(){o++;const I=Zk(m,arguments);return l=p.apply(null,I),l},...y);return Object.assign(_,{resultFunc:c,memoizedResultFunc:p,dependencies:m,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var rN=mT(Jg),iN=Object.assign((t,e=rN)=>{Yk(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,l,a)=>(o[n[a]]=l,o),{}))},{withTypes:()=>iN});function gT(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var sN=gT(),oN=gT,aN=(...t)=>{const e=mT(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...l)=>i(Zr(o)?hT(o):o,...l);return Object.assign(s,i),s},{withTypes:()=>n});return n};aN(Jg);var lN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vu:Vu.apply(null,arguments)},cN=t=>t&&typeof t.match=="function";function ar(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(zt(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Vk(r)&&r.type===t,n}var yT=class Yo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yo.prototype)}static get[Symbol.species](){return Yo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yo(...e[0].concat(this)):new Yo(...e.concat(this))}};function Tw(t){return hr(t)?pT(t,()=>{}):t}function Iw(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(zt(10));const r=n.insert(e,t);return t.set(e,r),r}function uN(t){return typeof t=="boolean"}var dN=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new yT;return n&&(uN(n)?o.push(sN):o.push(oN(n.extraArgument))),o},hN="RTK_autoBatch",vT=t=>e=>{setTimeout(e,t)},fN=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vT(10),pN=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,a=t.type==="tick"?queueMicrotask:t.type==="raf"?fN:t.type==="callback"?t.queueNotification:vT(t.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),f=r.subscribe(d);return l.add(u),()=>{f(),l.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[hN]),s=!i,s&&(o||(o=!0,a(c))),r.dispatch(u)}finally{i=!0}}})},mN=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new yT(t);return r&&i.push(pN(typeof r=="object"?r:void 0)),i},gN=!0;function yN(t){const e=dN(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Gg(n))l=$k(n);else throw new Error(zt(1));let a;typeof r=="function"?a=r(e):a=e();let c=Vu;i&&(c=lN({trace:!gN,...typeof i=="object"&&i}));const u=Mk(...a),d=mN(u);let f=typeof o=="function"?o(d):d();const g=c(...f);return Qg(l,s,g)}function _T(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(zt(28));if(l in e)throw new Error(zt(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function vN(t){return typeof t=="function"}function _N(t,e){let[n,r,i]=_T(e),s;if(vN(t))s=()=>Tw(t());else{const l=Tw(t);s=()=>l}function o(l=s(),a){let c=[n[a.type],...r.filter(({matcher:u})=>u(a)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Zr(u)){const g=d(u,a);return g===void 0?u:g}else{if(hr(u))return pT(u,f=>d(f,a));{const f=d(u,a);if(f===void 0){if(u===null)return u;throw new Error(zt(9))}return f}}return u},l)}return o.getInitialState=s,o}var wN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wT=(t=21)=>{let e="",n=t;for(;n--;)e+=wN[Math.random()*64|0];return e},EN=(t,e)=>cN(t)?t.match(e):t(e);function SN(...t){return e=>t.some(n=>EN(n,e))}var TN=["name","message","stack","code"],Rf=class{constructor(t,e){Qh(this,"_type");this.payload=t,this.meta=e}},Cw=class{constructor(t,e){Qh(this,"_type");this.payload=t,this.meta=e}},IN=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of TN)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},ai=(()=>{function t(e,n,r){const i=ar(e+"/fulfilled",(a,c,u,d)=>({payload:a,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=ar(e+"/pending",(a,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:a,requestStatus:"pending"}})),o=ar(e+"/rejected",(a,c,u,d,f)=>({payload:d,error:(r&&r.serializeError||IN)(a||"Rejected"),meta:{...f||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(c,u,d)=>{const f=r!=null&&r.idGenerator?r.idGenerator(a):wT(),g=new AbortController;let v,E;function S(m){E=m,g.abort()}const y=async function(){var _,T;let m;try{let I=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,a,{getState:u,extra:d});if(RN(I)&&(I=await I),I===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((R,M)=>{v=()=>{M({name:"AbortError",message:E||"Aborted"})},g.signal.addEventListener("abort",v)});c(s(f,a,(T=r==null?void 0:r.getPendingMeta)==null?void 0:T.call(r,{requestId:f,arg:a},{getState:u,extra:d}))),m=await Promise.race([C,Promise.resolve(n(a,{dispatch:c,getState:u,extra:d,requestId:f,signal:g.signal,abort:S,rejectWithValue:(R,M)=>new Rf(R,M),fulfillWithValue:(R,M)=>new Cw(R,M)})).then(R=>{if(R instanceof Rf)throw R;return R instanceof Cw?i(R.payload,f,a,R.meta):i(R,f,a)})])}catch(I){m=I instanceof Rf?o(null,f,a,I.payload,I.meta):o(I,f,a)}finally{v&&g.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&o.match(m)&&m.meta.condition||c(m),m}();return Object.assign(y,{abort:S,requestId:f,arg:a,unwrap(){return y.then(CN)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,settled:SN(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function CN(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function RN(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var xN=Symbol.for("rtk-slice-createasyncthunk");function bN(t,e){return`${t}/${e}`}function PN({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[xN];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(zt(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(kN()):i.reducers)||{},a=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(p,_){const T=typeof p=="string"?p:p.type;if(!T)throw new Error(zt(12));if(T in c.sliceCaseReducersByType)throw new Error(zt(13));return c.sliceCaseReducersByType[T]=_,u},addMatcher(p,_){return c.sliceMatchers.push({matcher:p,reducer:_}),u},exposeAction(p,_){return c.actionCreators[p]=_,u},exposeCaseReducer(p,_){return c.sliceCaseReducersByName[p]=_,u}};a.forEach(p=>{const _=l[p],T={reducerName:p,type:bN(s,p),createNotation:typeof i.reducers=="function"};ON(_)?jN(T,_,u,e):NN(T,_,u)});function d(){const[p={},_=[],T=void 0]=typeof i.extraReducers=="function"?_T(i.extraReducers):[i.extraReducers],I={...p,...c.sliceCaseReducersByType};return _N(i.initialState,C=>{for(let R in I)C.addCase(R,I[R]);for(let R of c.sliceMatchers)C.addMatcher(R.matcher,R.reducer);for(let R of _)C.addMatcher(R.matcher,R.reducer);T&&C.addDefaultCase(T)})}const f=p=>p,g=new Map;let v;function E(p,_){return v||(v=d()),v(p,_)}function S(){return v||(v=d()),v.getInitialState()}function y(p,_=!1){function T(C){let R=C[p];return typeof R>"u"&&_&&(R=S()),R}function I(C=f){const R=Iw(g,_,{insert:()=>new WeakMap});return Iw(R,C,{insert:()=>{const M={};for(const[$,he]of Object.entries(i.selectors??{}))M[$]=AN(he,C,S,_);return M}})}return{reducerPath:p,getSelectors:I,get selectors(){return I(T)},selectSlice:T}}const m={name:s,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...y(o),injectInto(p,{reducerPath:_,...T}={}){const I=_??o;return p.inject({reducerPath:I,reducer:E},T),{...m,...y(I,!0)}}};return m}}function AN(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var li=PN();function kN(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function NN({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!DN(r))throw new Error(zt(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?ar(t,o):ar(t))}function ON(t){return t._reducerDefinitionType==="asyncThunk"}function DN(t){return t._reducerDefinitionType==="reducerWithPrepare"}function jN({type:t,reducerName:e},n,r,i){if(!i)throw new Error(zt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:a,settled:c,options:u}=n,d=i(t,s,u);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),l&&r.addCase(d.pending,l),a&&r.addCase(d.rejected,a),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||fc,pending:l||fc,rejected:a||fc,settled:c||fc})}function fc(){}var LN=(t,e)=>{if(typeof t!="function")throw new Error(zt(32))},Zg="listenerMiddleware",$N=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=ar(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(zt(21));return LN(s),{predicate:i,type:e,effect:s}},MN=Object.assign(t=>{const{type:e,predicate:n,effect:r}=$N(t);return{id:wT(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(zt(22))}}},{withTypes:()=>MN}),VN=Object.assign(ar(`${Zg}/add`),{withTypes:()=>VN});ar(`${Zg}/removeAll`);var FN=Object.assign(ar(`${Zg}/remove`),{withTypes:()=>FN});function zt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ey="persist:",ty="persist/FLUSH",Bd="persist/REHYDRATE",ny="persist/PAUSE",ry="persist/PERSIST",iy="persist/PURGE",sy="persist/REGISTER",UN=-1;function Hc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hc=function(n){return typeof n}:Hc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hc(t)}function Rw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rw(n,!0).forEach(function(r){BN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HN(t,e,n,r){r.debug;var i=zN({},n);return t&&Hc(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function WN(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:ey).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(T){return T}:typeof t.serialize=="function"?l=t.serialize:l=qN;var a=t.writeFailHandler||null,c={},u={},d=[],f=null,g=null,v=function(T){Object.keys(T).forEach(function(I){y(I)&&c[I]!==T[I]&&d.indexOf(I)===-1&&d.push(I)}),Object.keys(c).forEach(function(I){T[I]===void 0&&y(I)&&d.indexOf(I)===-1&&c[I]!==void 0&&d.push(I)}),f===null&&(f=setInterval(E,i)),c=T};function E(){if(d.length===0){f&&clearInterval(f),f=null;return}var _=d.shift(),T=r.reduce(function(I,C){return C.in(I,_,c)},c[_]);if(T!==void 0)try{u[_]=l(T)}catch(I){console.error("redux-persist/createPersistoid: error serializing state",I)}else delete u[_];d.length===0&&S()}function S(){Object.keys(u).forEach(function(_){c[_]===void 0&&delete u[_]}),g=o.setItem(s,l(u)).catch(m)}function y(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function m(_){a&&a(_)}var p=function(){for(;d.length!==0;)E();return g||Promise.resolve()};return{update:v,flush:p}}function qN(t){return JSON.stringify(t)}function KN(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:ey).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=GN,r.getItem(n).then(function(s){if(s)try{var o={},l=i(s);return Object.keys(l).forEach(function(a){o[a]=e.reduceRight(function(c,u){return u.out(c,a,l)},i(l[a]))}),o}catch(a){throw a}else return})}function GN(t){return JSON.parse(t)}function QN(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:ey).concat(t.key);return e.removeItem(n,YN)}function YN(t){}function xw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xw(n,!0).forEach(function(r){XN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JN(t,e){if(t==null)return{};var n=ZN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var eO=5e3;function ci(t,e){var n=t.version!==void 0?t.version:UN;t.debug;var r=t.stateReconciler===void 0?HN:t.stateReconciler,i=t.getStoredState||KN,s=t.timeout!==void 0?t.timeout:eO,o=null,l=!1,a=!0,c=function(d){return d._persist.rehydrated&&o&&!a&&o.update(d),d};return function(u,d){var f=u||{},g=f._persist,v=JN(f,["_persist"]),E=v;if(d.type===ry){var S=!1,y=function(R,M){S||(d.rehydrate(t.key,R,M),S=!0)};if(s&&setTimeout(function(){!S&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),a=!1,o||(o=WN(t)),g)return Xn({},e(E,d),{_persist:g});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(C){var R=t.migrate||function(M,$){return Promise.resolve(M)};R(C,n).then(function(M){y(M)},function(M){y(void 0,M)})},function(C){y(void 0,C)}),Xn({},e(E,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===iy)return l=!0,d.result(QN(t)),Xn({},e(E,d),{_persist:g});if(d.type===ty)return d.result(o&&o.flush()),Xn({},e(E,d),{_persist:g});if(d.type===ny)a=!0;else if(d.type===Bd){if(l)return Xn({},E,{_persist:Xn({},g,{rehydrated:!0})});if(d.key===t.key){var m=e(E,d),p=d.payload,_=r!==!1&&p!==void 0?r(p,u,m,t):m,T=Xn({},_,{_persist:Xn({},g,{rehydrated:!0})});return c(T)}}}if(!g)return e(u,d);var I=e(E,d);return I===E?u:c(Xn({},I,{_persist:g}))}}function bw(t){return rO(t)||nO(t)||tO()}function tO(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nO(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function rO(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pw(n,!0).forEach(function(r){iO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ET={registry:[],bootstrapped:!1},sO=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ET,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case sy:return im({},e,{registry:[].concat(bw(e.registry),[n.key])});case Bd:var r=e.registry.indexOf(n.key),i=bw(e.registry);return i.splice(r,1),im({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function oO(t,e,n){var r=n||!1,i=Qg(sO,ET,e&&e.enhancer?e.enhancer:void 0),s=function(c){i.dispatch({type:sy,key:c})},o=function(c,u,d){var f={type:Bd,payload:u,err:d,key:c};t.dispatch(f),i.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=im({},i,{purge:function(){var c=[];return t.dispatch({type:iy,result:function(d){c.push(d)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:ty,result:function(d){c.push(d)}}),Promise.all(c)},pause:function(){t.dispatch({type:ny})},persist:function(){t.dispatch({type:ry,register:s,rehydrate:o})}});return e&&e.manualPersist||l.persist(),l}var oy={},ay={};ay.__esModule=!0;ay.default=cO;function Wc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wc=function(n){return typeof n}:Wc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wc(t)}function xf(){}var aO={getItem:xf,setItem:xf,removeItem:xf};function lO(t){if((typeof self>"u"?"undefined":Wc(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function cO(t){var e="".concat(t,"Storage");return lO(e)?self[e]:aO}oy.__esModule=!0;oy.default=hO;var uO=dO(ay);function dO(t){return t&&t.__esModule?t:{default:t}}function hO(t){var e=(0,uO.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var ST=void 0,fO=pO(oy);function pO(t){return t&&t.__esModule?t:{default:t}}var mO=(0,fO.default)("local");ST=mO;var Aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},IT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|c>>6,g=c&63;a||(g=64,o||(f=64)),r.push(n[u],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||d==null)throw new yO;const f=s<<2|l>>4;if(r.push(f),c!==64){const g=l<<4&240|c>>2;if(r.push(g),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vO=function(t){const e=TT(t);return IT.encodeByteArray(e,!0)},zu=function(t){return vO(t).replace(/\./g,"")},CT=function(t){try{return IT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=()=>_O().__FIREBASE_DEFAULTS__,EO=()=>{if(typeof process>"u"||typeof Aw>"u")return;const t=Aw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CT(t[1]);return e&&JSON.parse(e)},Hd=()=>{try{return wO()||EO()||SO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RT=t=>{var e,n;return(n=(e=Hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xT=t=>{const e=RT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bT=()=>{var t;return(t=Hd())===null||t===void 0?void 0:t.config},PT=t=>{var e;return(e=Hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zu(JSON.stringify(n)),zu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function CO(){var t;const e=(t=Hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bO(){const t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PO(){return!CO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kT(){try{return typeof indexedDB=="object"}catch{return!1}}function AO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kO,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NO(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Yn(i,l,r)}}function NO(t,e){return t.replace(OO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OO=/\{\$([^}]+)}/g;function DO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kw(s)&&kw(o)){if(!Bu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jO(t,e){const n=new LO(t,e);return n.subscribe.bind(n)}class LO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$O(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bf),i.error===void 0&&(i.error=bf),i.complete===void 0&&(i.complete=bf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $O(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FO(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VO(t){return t===Ti?void 0:t}function FO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const zO={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},BO=se.INFO,HO={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},WO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=BO,this._logHandler=WO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const qO=(t,e)=>e.some(n=>t instanceof n);let Nw,Ow;function KO(){return Nw||(Nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GO(){return Ow||(Ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NT=new WeakMap,sm=new WeakMap,OT=new WeakMap,Pf=new WeakMap,cy=new WeakMap;function QO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NT.set(n,t)}).catch(()=>{}),cy.set(e,t),e}function YO(t){if(sm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});sm.set(t,e)}let om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XO(t){om=t(om)}function JO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Af(this),e,...n);return OT.set(r,e.sort?e.sort():[e]),Wr(r)}:GO().includes(t)?function(...e){return t.apply(Af(this),e),Wr(NT.get(this))}:function(...e){return Wr(t.apply(Af(this),e))}}function ZO(t){return typeof t=="function"?JO(t):(t instanceof IDBTransaction&&YO(t),qO(t,KO())?new Proxy(t,om):t)}function Wr(t){if(t instanceof IDBRequest)return QO(t);if(Pf.has(t))return Pf.get(t);const e=ZO(t);return e!==t&&(Pf.set(t,e),cy.set(e,t)),e}const Af=t=>cy.get(t);function eD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Wr(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Wr(o.result),a.oldVersion,a.newVersion,Wr(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const tD=["get","getKey","getAll","getAllKeys","count"],nD=["put","add","delete","clear"],kf=new Map;function Dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tD.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return kf.set(e,s),s}XO(t=>({...t,get:(e,n,r)=>Dw(e,n)||t.get(e,n,r),has:(e,n)=>!!Dw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const am="@firebase/app",jw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new ly("@firebase/app"),sD="@firebase/app-compat",oD="@firebase/analytics-compat",aD="@firebase/analytics",lD="@firebase/app-check-compat",cD="@firebase/app-check",uD="@firebase/auth",dD="@firebase/auth-compat",hD="@firebase/database",fD="@firebase/database-compat",pD="@firebase/functions",mD="@firebase/functions-compat",gD="@firebase/installations",yD="@firebase/installations-compat",vD="@firebase/messaging",_D="@firebase/messaging-compat",wD="@firebase/performance",ED="@firebase/performance-compat",SD="@firebase/remote-config",TD="@firebase/remote-config-compat",ID="@firebase/storage",CD="@firebase/storage-compat",RD="@firebase/firestore",xD="@firebase/firestore-compat",bD="firebase",PD="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",AD={[am]:"fire-core",[sD]:"fire-core-compat",[aD]:"fire-analytics",[oD]:"fire-analytics-compat",[cD]:"fire-app-check",[lD]:"fire-app-check-compat",[uD]:"fire-auth",[dD]:"fire-auth-compat",[hD]:"fire-rtdb",[fD]:"fire-rtdb-compat",[pD]:"fire-fn",[mD]:"fire-fn-compat",[gD]:"fire-iid",[yD]:"fire-iid-compat",[vD]:"fire-fcm",[_D]:"fire-fcm-compat",[wD]:"fire-perf",[ED]:"fire-perf-compat",[SD]:"fire-rc",[TD]:"fire-rc-compat",[ID]:"fire-gcs",[CD]:"fire-gcs-compat",[RD]:"fire-fst",[xD]:"fire-fst-compat","fire-js":"fire-js",[bD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Map,cm=new Map;function kD(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gi(t){const e=t.name;if(cm.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,t);for(const n of Hu.values())kD(n,t);return!0}function Wd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qr=new _l("app","Firebase",ND);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=PD;function DT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=bT()),!n)throw qr.create("no-options");const s=Hu.get(i);if(s){if(Bu(n,s.options)&&Bu(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new UO(i);for(const a of cm.values())o.addComponent(a);const l=new OD(n,r,o);return Hu.set(i,l),l}function uy(t=lm){const e=Hu.get(t);if(!e&&t===lm&&bT())return DT();if(!e)throw qr.create("no-app",{appName:t});return e}function Un(t,e,n){var r;let i=(r=AD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(l.join(" "));return}Gi(new ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="firebase-heartbeat-database",jD=1,Wa="firebase-heartbeat-store";let Nf=null;function jT(){return Nf||(Nf=eD(DD,jD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),Nf}async function LD(t){try{const n=(await jT()).transaction(Wa),r=await n.objectStore(Wa).get(LT(t));return await n.done,r}catch(e){if(e instanceof Yn)Ki.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(n.message)}}}async function Lw(t,e){try{const r=(await jT()).transaction(Wa,"readwrite");await r.objectStore(Wa).put(e,LT(t)),await r.done}catch(n){if(n instanceof Yn)Ki.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(r.message)}}}function LT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1024,MD=30*24*60*60*1e3;class VD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$w();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=MD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$w(),{heartbeatsToSend:r,unsentEntries:i}=FD(this._heartbeatsCache.heartbeats),s=zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function $w(){return new Date().toISOString().substring(0,10)}function FD(t,e=$D){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kT()?AO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mw(t){return zu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){Gi(new ei("platform-logger",e=>new rD(e),"PRIVATE")),Gi(new ei("heartbeat",e=>new VD(e),"PRIVATE")),Un(am,jw,t),Un(am,jw,"esm2017"),Un("fire-js","")}zD("");var BD="firebase",HD="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(BD,HD,"app");function dy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WD=$T,MT=new _l("auth","Firebase",$T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new ly("@firebase/auth");function qD(t,...e){Wu.logLevel<=se.WARN&&Wu.warn(`Auth (${ss}): ${t}`,...e)}function qc(t,...e){Wu.logLevel<=se.ERROR&&Wu.error(`Auth (${ss}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw hy(t,...e)}function zn(t,...e){return hy(t,...e)}function KD(t,e,n){const r=Object.assign(Object.assign({},WD()),{[e]:n});return new _l("auth","Firebase",r).create(e,{appName:t.name})}function hy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MT.create(t,...e)}function U(t,e,...n){if(!t)throw hy(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qc(e),new Error(e)}function fr(t,e){t||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GD(){return Vw()==="http:"||Vw()==="https:"}function Vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GD()||RO()||"connection"in navigator)?navigator.onLine:!0}function YD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=IO()||xO()}get(){return QD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new El(3e4,6e4);function vr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _r(t,e,n,r,i={}){return FT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=wl(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),VT.fetch()(UT(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function FT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XD),e);try{const i=new e2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw pc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,c]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw pc(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw pc(t,"user-disabled",o);const u=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw KD(t,u,c);bn(t,u)}}catch(i){if(i instanceof Yn)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function Sl(t,e,n,r,i={}){const s=await _r(t,e,n,r,i);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function UT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fy(t.config,i):`${t.config.apiScheme}://${i}`}function ZD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),JD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(t,e,r);return i.customData._tokenResponse=n,i}function Fw(t){return t!==void 0&&t.enterprise!==void 0}class t2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function n2(t,e){return _r(t,"GET","/v2/recaptchaConfig",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t,e){return _r(t,"POST","/v1/accounts:delete",e)}async function i2(t,e){return _r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s2(t,e=!1){const n=Fe(t),r=await n.getIdToken(e),i=py(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pa(Of(i.auth_time)),issuedAtTime:pa(Of(i.iat)),expirationTime:pa(Of(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Of(t){return Number(t)*1e3}function py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=CT(n);return i?JSON.parse(i):(qc("Failed to decode base64 JWT payload"),null)}catch(i){return qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function o2(t){const e=py(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&a2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qa(t,i2(n,{idToken:r}));U(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?d2(s.providerUserInfo):[],l=u2(t.providerData,o),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),u=a?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new zT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function c2(t){const e=Fe(t);await qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function d2(t){return t.map(e=>{var{providerId:n}=e,r=dy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e){const n=await FT(t,{},async()=>{const r=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=UT(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",VT.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f2(t,e){return _r(t,"POST","/v2/accounts:revokeToken",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return U(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await h2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ka;return r&&(U(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(U(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){U(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qa(this,this.stsTokenManager.getToken(this.auth,e));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s2(this,e)}reload(){return c2(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qa(this,r2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,a,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,S=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:p,emailVerified:_,isAnonymous:T,providerData:I,stsTokenManager:C}=n;U(p&&C,e,"internal-error");const R=Ka.fromJSON(this.name,C);U(typeof p=="string",e,"internal-error"),Tr(d,e.name),Tr(f,e.name),U(typeof _=="boolean",e,"internal-error"),U(typeof T=="boolean",e,"internal-error"),Tr(g,e.name),Tr(v,e.name),Tr(E,e.name),Tr(S,e.name),Tr(y,e.name),Tr(m,e.name);const M=new Li({uid:p,auth:e,email:f,emailVerified:_,displayName:d,isAnonymous:T,photoURL:v,phoneNumber:g,tenantId:E,stsTokenManager:R,createdAt:y,lastLoginAt:m});return I&&Array.isArray(I)&&(M.providerData=I.map($=>Object.assign({},$))),S&&(M._redirectEventId=S),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ka;i.updateFromServerResponse(n);const s=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;function ir(t){fr(t instanceof Function,"Expected a class definition");let e=Uw.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Uw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BT.type="NONE";const zw=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e,n){return`firebase:${t}:${e}:${n}`}class Fs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fs(ir(zw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ir(zw);const o=Kc(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Li._fromJSON(e,u);c!==s&&(l=d),s=c;break}}catch{}const a=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new Fs(s,e,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Fs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GT(e))return"Blackberry";if(QT(e))return"Webos";if(my(e))return"Safari";if((e.includes("chrome/")||WT(e))&&!e.includes("edge/"))return"Chrome";if(KT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HT(t=Ve()){return/firefox\//i.test(t)}function my(t=Ve()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WT(t=Ve()){return/crios\//i.test(t)}function qT(t=Ve()){return/iemobile/i.test(t)}function KT(t=Ve()){return/android/i.test(t)}function GT(t=Ve()){return/blackberry/i.test(t)}function QT(t=Ve()){return/webos/i.test(t)}function qd(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p2(t=Ve()){var e;return qd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m2(){return bO()&&document.documentMode===10}function YT(t=Ve()){return qd(t)||KT(t)||QT(t)||GT(t)||/windows phone/i.test(t)||qT(t)}function g2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t,e=[]){let n;switch(t){case"Browser":n=Bw(Ve());break;case"Worker":n=`${Bw(Ve())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ss}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(t,e={}){return _r(t,"GET","/v2/passwordPolicy",vr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=6;class w2{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Fe(e):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v2(this),n=new w2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=await Fs.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,i);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ui(t){return Fe(t)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=jO(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S2(t){Kd=t}function JT(t){return Kd.loadJS(t)}function T2(){return Kd.recaptchaEnterpriseScript}function I2(){return Kd.gapiScript}function C2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const R2="recaptcha-enterprise",x2="NO_RECAPTCHA";class b2{constructor(e){this.type=R2,this.auth=ui(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{n2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new t2(a);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;Fw(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(x2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&Fw(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=T2();a.length!==0&&(a+=l),JT(a).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function Ww(t,e,n,r=!1){const i=new b2(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ku(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Ww(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ww(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){const n=Wd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bu(s,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function A2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k2(t,e,n){const r=ui(t);U(r._canInitEmulator,r,"emulator-config-failed"),U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ZT(e),{host:o,port:l}=N2(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||O2()}function ZT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N2(t){const e=ZT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:qw(o)}}}function qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function O2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function D2(t,e){return _r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e){return Sl(t,"POST","/v1/accounts:signInWithPassword",vr(t,e))}async function eI(t,e){return _r(t,"POST","/v1/accounts:sendOobCode",vr(t,e))}async function L2(t,e){return eI(t,e)}async function $2(t,e){return eI(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){return Sl(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,e))}async function V2(t,e){return Sl(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends gy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ga(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ga(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ku(e,n,"signInWithPassword",j2);case"emailLink":return M2(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ku(e,r,"signUpPassword",D2);case"emailLink":return V2(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t,e){return Sl(t,"POST","/v1/accounts:signInWithIdp",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="http://localhost";class Qi extends gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=dy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Qi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Us(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Us(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Us(e,n)}buildRequest(){const e={requestUri:F2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z2(t){const e=Xo(Jo(t)).link,n=e?Xo(Jo(e)).deep_link_id:null,r=Xo(Jo(t)).deep_link_id;return(r?Xo(Jo(r)).link:null)||r||n||e||t}class yy{constructor(e){var n,r,i,s,o,l;const a=Xo(Jo(e)),c=(n=a.apiKey)!==null&&n!==void 0?n:null,u=(r=a.oobCode)!==null&&r!==void 0?r:null,d=U2((i=a.mode)!==null&&i!==void 0?i:null);U(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=z2(e);try{return new yy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Ga._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yy.parseLink(n);return U(r,"argument-error"),Ga._fromEmailAndCode(e,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends tI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Tl{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qi._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Tl{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Tl{constructor(){super("twitter.com")}static credential(e,n){return Qi._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(t,e){return Sl(t,"POST","/v1/accounts:signUp",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Li._fromIdTokenResponse(e,r,i),o=Kw(r);return new Yi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Kw(r);return new Yi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Kw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Yn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gu(e,n,r,i)}}function nI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gu._fromErrorAndOperation(t,s,e,r):s})}async function H2(t,e,n=!1){const r=await qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await qa(t,nI(r,i,e,t),n);U(s.idToken,r,"internal-error");const o=py(s.idToken);U(o,r,"internal-error");const{sub:l}=o;return U(t.uid===l,r,"user-mismatch"),Yi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t,e,n=!1){const r="signIn",i=await nI(t,r,e),s=await Yi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function q2(t,e){return rI(ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t,e,n){var r;U(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),U(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(U(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(U(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(t){const e=ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K2(t,e,n){const r=ui(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&iI(r,i,n),await Ku(r,i,"getOobCode",$2)}async function G2(t,e,n){const r=ui(t),o=await Ku(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B2).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&sI(t),a}),l=await Yi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function Q2(t,e,n){return q2(Fe(t),vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sI(t),r})}async function Y2(t,e){const n=Fe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&iI(n.auth,i,e);const{email:s}=await L2(n.auth,i);s!==t.email&&await t.reload()}function X2(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function J2(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}const Qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qu,"1"),this.storage.removeItem(Qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(){const t=Ve();return my(t)||qd(t)}const ej=1e3,tj=10;class aI extends oI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Z2()&&g2(),this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);m2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aI.type="LOCAL";const nj=aI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends oI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lI.type="SESSION";const cI=lI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),a=await rj(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const c=vy("",20);i.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(u),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function sj(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function oj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lj(){return uI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebaseLocalStorageDb",cj=1,Yu="firebaseLocalStorage",hI="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qd(t,e){return t.transaction([Yu],e?"readwrite":"readonly").objectStore(Yu)}function uj(){const t=indexedDB.deleteDatabase(dI);return new Il(t).toPromise()}function dm(){const t=indexedDB.open(dI,cj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yu,{keyPath:hI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yu)?e(r):(r.close(),await uj(),e(await dm()))})})}async function Gw(t,e,n){const r=Qd(t,!0).put({[hI]:e,value:n});return new Il(r).toPromise()}async function dj(t,e){const n=Qd(t,!1).get(e),r=await new Il(n).toPromise();return r===void 0?null:r.value}function Qw(t,e){const n=Qd(t,!0).delete(e);return new Il(n).toPromise()}const hj=800,fj=3;class fI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(lj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oj(),!this.activeServiceWorker)return;this.sender=new ij(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await Gw(e,Qu,"1"),await Qw(e,Qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qd(i,!1).getAll();return new Il(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fI.type="LOCAL";const pj=fI;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t,e){return e?ir(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Us(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Us(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Us(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gj(t){return rI(t.auth,new _y(t),t.bypassAuthState)}function yj(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),W2(n,new _y(t),t.bypassAuthState)}async function vj(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),H2(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gj;case"linkViaPopup":case"linkViaRedirect":return vj;case"reauthViaPopup":case"reauthViaRedirect":return yj;default:bn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new El(2e3,1e4);class ks extends pI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return U(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_j.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="pendingRedirect",Gc=new Map;class Ej extends pI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await Sj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sj(t,e){const n=Cj(e),r=Ij(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Tj(t,e){Gc.set(t._key(),e)}function Ij(t){return ir(t._redirectPersistence)}function Cj(t){return Kc(wj,t.config.apiKey,t.name)}async function Rj(t,e,n=!1){const r=ui(t),i=mj(r,e),o=await new Ej(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=10*60*1e3;class bj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Pj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yw(e))}saveEventToCache(e){this.cachedEventUids.add(Yw(e)),this.lastProcessedEventTime=Date.now()}}function Yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Pj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e={}){return _r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nj=/^https?/;async function Oj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Aj(t);for(const n of e)try{if(Dj(n))return}catch{}bn(t,"unauthorized-domain")}function Dj(t){const e=um(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Nj.test(n))return!1;if(kj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new El(3e4,6e4);function Xw(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Lj(t){return new Promise((e,n)=>{var r,i,s;function o(){Xw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xw(),n(zn(t,"network-request-failed"))},timeout:jj.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bn().gapi)===null||s===void 0)&&s.load)o();else{const l=C2("iframefcb");return Bn()[l]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},JT(`${I2()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function $j(t){return Qc=Qc||Lj(t),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new El(5e3,15e3),Vj="__/auth/iframe",Fj="emulator/auth/iframe",Uj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bj(t){const e=t.config;U(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fy(e,Fj):`https://${t.config.authDomain}/${Vj}`,r={apiKey:e.apiKey,appName:t.name,v:ss},i=zj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wl(r).slice(1)}`}async function Hj(t){const e=await $j(t),n=Bn().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:Bj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),l=Bn().setTimeout(()=>{s(o)},Mj.get());function a(){Bn().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qj=500,Kj=600,Gj="_blank",Qj="http://localhost";class Jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yj(t,e,n,r=qj,i=Kj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},Wj),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ve().toLowerCase();n&&(l=WT(c)?Gj:n),HT(c)&&(e=e||Qj,a.scrollbars="yes");const u=Object.entries(a).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(p2(c)&&l!=="_self")return Xj(e||"",l),new Jw(null);const d=window.open(e||"",l,u);U(d,t,"popup-blocked");try{d.focus()}catch{}return new Jw(d)}function Xj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="__/auth/handler",Zj="emulator/auth/handler",eL=encodeURIComponent("fac");async function Zw(t,e,n,r,i,s){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ss,eventId:i};if(e instanceof tI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Tl){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const a=await t._getAppCheckToken(),c=a?`#${eL}=${encodeURIComponent(a)}`:"";return`${tL(t)}?${wl(l).slice(1)}${c}`}function tL({config:t}){return t.emulator?fy(t,Zj):`https://${t.authDomain}/${Jj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="webStorageSupport";class nL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cI,this._completeRedirectFn=Rj,this._overrideRedirectResult=Tj}async _openPopup(e,n,r,i){var s;fr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Zw(e,n,r,um(),i);return Yj(e,o,vy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Zw(e,n,r,um(),i);return sj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(fr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Hj(e),r=new bj(e);return n.register("authEvent",i=>(U(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Df,{type:Df},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Df];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Oj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YT()||my()||qd()}}const rL=nL;var e0="@firebase/auth",t0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oL(t){Gi(new ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;U(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(t)},c=new E2(r,i,s,a);return A2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gi(new ei("auth-internal",e=>{const n=ui(e.getProvider("auth").getImmediate());return(r=>new iL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(e0,t0,sL(t)),Un(e0,t0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=5*60,lL=PT("authIdTokenMaxAge")||aL;let n0=null;const cL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lL)return;const i=n==null?void 0:n.token;n0!==i&&(n0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uL(t=uy()){const e=Wd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P2(t,{popupRedirectResolver:rL,persistence:[pj,nj,cI]}),r=PT("authTokenSyncURL");if(r){const s=cL(r);J2(n,s,()=>s(n.currentUser)),X2(n,o=>s(o))}const i=RT("auth");return i&&k2(n,`http://${i}`),n}function dL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebasestorage.googleapis.com",yI="storageBucket",hL=2*60*1e3,fL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends Yn{constructor(e,n,r=0){super(jf(e),`Firebase Storage: ${n} (${jf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function jf(t){return"storage/"+t}function vI(){const t="An unknown error occurred, please check the error payload for server response.";return new Ze(Xe.UNKNOWN,t)}function pL(t){return new Ze(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function mL(t){return new Ze(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Xe.UNAUTHENTICATED,t)}function yL(){return new Ze(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vL(t){return new Ze(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _L(){return new Ze(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wL(){return new Ze(Xe.CANCELED,"User canceled the upload/download.")}function EL(t){return new Ze(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function SL(t){return new Ze(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TL(){return new Ze(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yI+"' property when initializing the app?")}function IL(){return new Ze(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hm(t){return new Ze(Xe.INVALID_ARGUMENT,t)}function _I(){return new Ze(Xe.APP_DELETED,"The Firebase app was deleted.")}function CL(t){return new Ze(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zo(t){throw new Ze(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gt.makeFromUrl(e,n)}catch{return new Gt(e,"")}if(r.path==="")return r;throw SL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function c(_){_.path_=decodeURIComponent(_.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},E=n===gI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",y=new RegExp(`^https?://${E}/${i}/${S}`,"i"),p=[{regex:l,indices:a,postModify:s},{regex:g,indices:v,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let _=0;_<p.length;_++){const T=p[_],I=T.regex.exec(e);if(I){const C=I[T.indices.bucket];let R=I[T.indices.path];R||(R=""),r=new Gt(C,R),T.postModify(r);break}}if(r==null)throw EL(e);return r}}class RL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function a(){return l===2}let c=!1;function u(...S){c||(c=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(g,a())},S)}function f(){s&&clearTimeout(s)}function g(S,...y){if(c){f();return}if(S){f(),u.call(null,S,...y);return}if(a()||o){f(),u.call(null,S,...y);return}r<64&&(r*=2);let p;l===1?(l=2,p=0):p=(r+Math.random())*1e3,d(p)}let v=!1;function E(S){v||(v=!0,f(),!c&&(i!==null?(S||(l=2),clearTimeout(i),d(0)):S||(l=1)))}return d(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function bL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){return t!==void 0}function AL(t){return typeof t=="object"&&!Array.isArray(t)}function wI(t){return typeof t=="string"||t instanceof String}function r0(t,e,n,r){if(r<e)throw hm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function SI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($i||($i={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,i,s,o,l,a,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new mc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const a=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===$i.NO_ERROR,a=s.getStatus();if(!l||kL(a,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===$i.ABORT;r(!1,new mc(!1,null,u));return}const c=this.successCodes_.indexOf(a)!==-1;r(!0,new mc(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());PL(a)?s(a):s()}catch(a){o(a)}else if(l!==null){const a=vI();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(i.canceled){const a=this.appDelete_?_I():wL();o(a)}else{const a=_L();o(a)}};this.canceled_?n(!1,new mc(!1,null,!0)):this.backoffId_=xL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function OL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function DL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function LL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $L(t,e,n,r,i,s,o=!0){const l=SI(t.urlParams),a=t.url+l,c=Object.assign({},t.headers);return jL(c,e),OL(c,n),DL(c,s),LL(c,r),new NL(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){let e;try{e=JSON.parse(t)}catch{return null}return AL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function II(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){return e}class Rt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||FL}}let gc=null;function UL(t){return!wI(t)||t.length<2?t:II(t)}function zL(){if(gc)return gc;const t=[];t.push(new Rt("bucket")),t.push(new Rt("generation")),t.push(new Rt("metageneration")),t.push(new Rt("name","fullPath",!0));function e(s,o){return UL(o)}const n=new Rt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Rt("size");return i.xform=r,t.push(i),t.push(new Rt("timeCreated")),t.push(new Rt("updated")),t.push(new Rt("md5Hash",null,!0)),t.push(new Rt("cacheControl",null,!0)),t.push(new Rt("contentDisposition",null,!0)),t.push(new Rt("contentEncoding",null,!0)),t.push(new Rt("contentLanguage",null,!0)),t.push(new Rt("contentType",null,!0)),t.push(new Rt("metadata","customMetadata",!0)),gc=t,gc}function BL(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Gt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function HL(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return BL(r,t),r}function WL(t,e,n){const r=TI(e);return r===null?null:HL(t,r,n)}function qL(t,e,n,r){const i=TI(e);if(i===null||!wI(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),g=EI(f,n,r),v=SI({alt:"media",token:c});return g+v})[0]}class KL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){if(!t)throw vI()}function QL(t,e){function n(r,i){const s=WL(t,i,e);return GL(s!==null),qL(s,i,t.host,t._protocol)}return n}function YL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=yL():i=gL():n.getStatus()===402?i=mL(t.bucket):n.getStatus()===403?i=vL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function XL(t){const e=YL(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=pL(t.path)),s.serverResponse=i.serverResponse,s}return n}function JL(t,e,n){const r=e.fullServerUrl(),i=EI(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new KL(i,s,QL(t,n),o);return l.errorHandler=XL(e),l}class ZL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$i.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$i.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$i.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw zo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class e$ extends ZL{initXhr(){this.xhr_.responseType="text"}}function t$(){return new e$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this._service=e,n instanceof Gt?this._location=n:this._location=Gt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xi(e,n)}get root(){const e=new Gt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return II(this._location.path)}get storage(){return this._service}get parent(){const e=ML(this._location.path);if(e===null)return null;const n=new Gt(this._location.bucket,e);return new Xi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CL(e)}}function n$(t){t._throwIfRoot("getDownloadURL");const e=JL(t.storage,t._location,zL());return t.storage.makeRequestWithTokens(e,t$).then(n=>{if(n===null)throw IL();return n})}function r$(t,e){const n=VL(t._location.path,e),r=new Gt(t._location.bucket,n);return new Xi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){return/^[A-Za-z]+:\/\//.test(t)}function s$(t,e){return new Xi(t,e)}function CI(t,e){if(t instanceof wy){const n=t;if(n._bucket==null)throw TL();const r=new Xi(n,n._bucket);return e!=null?CI(r,e):r}else return e!==void 0?r$(t,e):t}function o$(t,e){if(e&&i$(e)){if(t instanceof wy)return s$(t,e);throw hm("To use ref(service, url), the first argument must be a Storage instance.")}else return CI(t,e)}function i0(t,e){const n=e==null?void 0:e[yI];return n==null?null:Gt.makeFromBucketSpec(n,t)}function a$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:AT(i,t.app.options.projectId))}class wy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=gI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hL,this._maxUploadRetryTime=fL,this._requests=new Set,i!=null?this._bucket=Gt.makeFromBucketSpec(i,this._host):this._bucket=i0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gt.makeFromBucketSpec(this._url,e):this._bucket=i0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){r0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){r0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xi(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new RL(_I());{const o=$L(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const s0="@firebase/storage",o0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="storage";function Yd(t){return t=Fe(t),n$(t)}function Xd(t,e){return t=Fe(t),o$(t,e)}function l$(t=uy(),e){t=Fe(t);const r=Wd(t,RI).getImmediate({identifier:e}),i=xT("storage");return i&&c$(r,...i),r}function c$(t,e,n,r={}){a$(t,e,n,r)}function u$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wy(n,r,i,e,ss)}function d$(){Gi(new ei(RI,u$,"PUBLIC").setMultipleInstances(!0)),Un(s0,o0,""),Un(s0,o0,"esm2017")}d$();var h$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,Ey=Ey||{},Q=h$||self;function Jd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function f$(t){return Object.prototype.hasOwnProperty.call(t,Lf)&&t[Lf]||(t[Lf]=++p$)}var Lf="closure_uid_"+(1e9*Math.random()>>>0),p$=0;function m$(t,e,n){return t.call.apply(t.bind,arguments)}function g$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Et(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Et=m$:Et=g$,Et.apply(null,arguments)}function yc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function di(){this.s=this.s,this.o=this.o}var y$=0;di.prototype.s=!1;di.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),y$!=0)&&f$(this)};di.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Sy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function a0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Jd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function St(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var v$=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Qa(t){return/^[\s\xa0]*$/.test(t)}function Zd(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Ln(t){return Zd().indexOf(t)!=-1}function Ty(t){return Ty[" "](t),t}Ty[" "]=function(){};function _$(t,e){var n=dM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var w$=Ln("Opera"),Zs=Ln("Trident")||Ln("MSIE"),bI=Ln("Edge"),fm=bI||Zs,PI=Ln("Gecko")&&!(Zd().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),E$=Zd().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function AI(){var t=Q.document;return t?t.documentMode:void 0}var pm;e:{var $f="",Mf=function(){var t=Zd();if(PI)return/rv:([^\);]+)(\)|;)/.exec(t);if(bI)return/Edge\/([\d\.]+)/.exec(t);if(Zs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(E$)return/WebKit\/(\S+)/.exec(t);if(w$)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mf&&($f=Mf?Mf[1]:""),Zs){var Vf=AI();if(Vf!=null&&Vf>parseFloat($f)){pm=String(Vf);break e}}pm=$f}var mm;if(Q.document&&Zs){var l0=AI();mm=l0||parseInt(pm,10)||void 0}else mm=void 0;var S$=mm;function Ya(t,e){if(St.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PI){e:{try{Ty(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:T$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ya.$.h.call(this)}}et(Ya,St);var T$={2:"touch",3:"pen",4:"mouse"};Ya.prototype.h=function(){Ya.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Rl="closure_listenable_"+(1e6*Math.random()|0),I$=0;function C$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++I$,this.fa=this.ia=!1}function eh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Iy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function R$(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function kI(t){const e={};for(const n in t)e[n]=t[n];return e}const c0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<c0.length;s++)n=c0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function th(t){this.src=t,this.g={},this.h=0}th.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ym(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new C$(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function gm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=xI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(eh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ym(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Cy="closure_lm_"+(1e6*Math.random()|0),Ff={};function OI(t,e,n,r,i){if(r&&r.once)return jI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)OI(t,e[s],n,r,i);return null}return n=by(n),t&&t[Rl]?t.O(e,n,Cl(r)?!!r.capture:!!r,i):DI(t,e,n,!1,r,i)}function DI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Cl(i)?!!i.capture:!!i,l=xy(t);if(l||(t[Cy]=l=new th(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=x$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)v$||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($I(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function x$(){function t(n){return e.call(t.src,t.listener,n)}const e=b$;return t}function jI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)jI(t,e[s],n,r,i);return null}return n=by(n),t&&t[Rl]?t.P(e,n,Cl(r)?!!r.capture:!!r,i):DI(t,e,n,!0,r,i)}function LI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)LI(t,e[s],n,r,i);else r=Cl(r)?!!r.capture:!!r,n=by(n),t&&t[Rl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ym(s,n,r,i),-1<n&&(eh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=xy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ym(e,n,r,i)),(n=-1<t?e[t]:null)&&Ry(n))}function Ry(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Rl])gm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($I(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xy(e))?(gm(n,t),n.h==0&&(n.src=null,e[Cy]=null)):eh(t)}}}function $I(t){return t in Ff?Ff[t]:Ff[t]="on"+t}function b$(t,e){if(t.fa)t=!0;else{e=new Ya(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ry(t),t=n.call(r,e)}return t}function xy(t){return t=t[Cy],t instanceof th?t:null}var Uf="__closure_events_fn_"+(1e9*Math.random()>>>0);function by(t){return typeof t=="function"?t:(t[Uf]||(t[Uf]=function(e){return t.handleEvent(e)}),t[Uf])}function Je(){di.call(this),this.i=new th(this),this.S=this,this.J=null}et(Je,di);Je.prototype[Rl]=!0;Je.prototype.removeEventListener=function(t,e,n,r){LI(this,t,e,n,r)};function lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new St(e,t);else if(e instanceof St)e.target=e.target||t;else{var i=e;e=new St(r,t),NI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=vc(o,r,!0,e)&&i}if(o=e.g=t,i=vc(o,r,!0,e)&&i,i=vc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=vc(o,r,!1,e)&&i}Je.prototype.N=function(){if(Je.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)eh(n[r]);delete t.g[e],t.h--}}this.J=null};Je.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Je.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,a=o.la||o.src;o.ia&&gm(t.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Py=Q.JSON.stringify;class P${constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function A$(){var t=Ay;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class k${constructor(){this.h=this.g=null}add(e,n){const r=MI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var MI=new P$(()=>new N$,t=>t.reset());class N${constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function O$(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function D$(t){Q.setTimeout(()=>{throw t},0)}let Xa,Ja=!1,Ay=new k$,VI=()=>{const t=Q.Promise.resolve(void 0);Xa=()=>{t.then(j$)}};var j$=()=>{for(var t;t=A$();){try{t.h.call(t.g)}catch(n){D$(n)}var e=MI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ja=!1};function nh(t,e){Je.call(this),this.h=t||1,this.g=e||Q,this.j=Et(this.qb,this),this.l=Date.now()}et(nh,Je);N=nh.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(ky(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ky(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){nh.$.N.call(this),ky(this),delete this.g};function Ny(t,e,n){if(typeof t=="function")n&&(t=Et(t,n));else if(t&&typeof t.handleEvent=="function")t=Et(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function FI(t){t.g=Ny(()=>{t.g=null,t.i&&(t.i=!1,FI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class L$ extends di{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:FI(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(t){di.call(this),this.h=t,this.g={}}et(Za,di);var u0=[];function UI(t,e,n,r){Array.isArray(n)||(n&&(u0[0]=n.toString()),n=u0);for(var i=0;i<n.length;i++){var s=OI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function zI(t){Iy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ry(e)},t),t.g={}}Za.prototype.N=function(){Za.$.N.call(this),zI(this)};Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function rh(){this.g=!0}rh.prototype.Ea=function(){this.g=!1};function $$(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var c=l[a].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function M$(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ns(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+F$(t,n)+(r?" "+r:"")})}function V$(t,e){t.info(function(){return"TIMEOUT: "+e})}rh.prototype.info=function(){};function F$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Py(n)}catch{return e}}var os={},d0=null;function ih(){return d0=d0||new Je}os.Ta="serverreachability";function BI(t){St.call(this,os.Ta,t)}et(BI,St);function el(t){const e=ih();lt(e,new BI(e))}os.STAT_EVENT="statevent";function HI(t,e){St.call(this,os.STAT_EVENT,t),this.stat=e}et(HI,St);function bt(t){const e=ih();lt(e,new HI(e,t))}os.Ua="timingevent";function WI(t,e){St.call(this,os.Ua,t),this.size=e}et(WI,St);function xl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var sh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Oy(){}Oy.prototype.h=null;function h0(t){return t.h||(t.h=t.i())}function KI(){}var bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dy(){St.call(this,"d")}et(Dy,St);function jy(){St.call(this,"c")}et(jy,St);var vm;function oh(){}et(oh,Oy);oh.prototype.g=function(){return new XMLHttpRequest};oh.prototype.i=function(){return{}};vm=new oh;function Pl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Za(this),this.P=U$,t=fm?125:void 0,this.V=new nh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new GI}function GI(){this.i=null,this.g="",this.h=!1}var U$=45e3,QI={},_m={};N=Pl.prototype;N.setTimeout=function(t){this.P=t};function wm(t,e,n){t.L=1,t.A=lh(pr(e)),t.u=n,t.S=!0,YI(t,null)}function YI(t,e){t.G=Date.now(),Al(t),t.B=pr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),iC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new GI,t.g=CC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new L$(Et(t.Pa,t,t.g),t.O)),UI(t.U,t.g,"readystatechange",t.nb),e=t.I?kI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),el(),$$(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;const e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const u=$n(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||fm||this.g&&(this.h.h||this.g.ja()||g0(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?el(3):el(2)),ah(this);var n=this.g.da();this.ca=n;t:if(XI(this)){var r=g0(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),ma(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,M$(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qa(l)){var c=l;break t}}c=null}if(n=c)Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Em(this,n);else{this.i=!1,this.s=3,bt(12),Pi(this),ma(this);break e}}this.S?(JI(this,u,o),fm&&this.i&&u==3&&(UI(this.U,this.V,"tick",this.mb),this.V.start())):(Ns(this.j,this.m,o,null),Em(this,o)),u==4&&Pi(this),this.i&&!this.J&&(u==4?EC(this.l,this):(this.i=!1,Al(this)))}else lM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Pi(this),ma(this)}}}catch{}finally{}};function XI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function JI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=z$(t,n),i==_m){e==4&&(t.s=4,bt(14),r=!1),Ns(t.j,t.m,null,"[Incomplete Response]");break}else if(i==QI){t.s=4,bt(15),Ns(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ns(t.j,t.m,i,null),Em(t,i);XI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,bt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uy(e),e.M=!0,bt(11))):(Ns(t.j,t.m,n,"[Invalid Chunked Response]"),Pi(t),ma(t))}N.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.o<e.length&&(ah(this),JI(this,t,e),this.i&&t!=4&&Al(this))}};function z$(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?_m:(n=Number(e.substring(n,r)),isNaN(n)?QI:(r+=1,r+n>e.length?_m:(e=e.slice(r,r+n),t.o=r+n,e)))}N.cancel=function(){this.J=!0,Pi(this)};function Al(t){t.Y=Date.now()+t.P,ZI(t,t.P)}function ZI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=xl(Et(t.lb,t),e)}function ah(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(V$(this.j,this.B),this.L!=2&&(el(),bt(17)),Pi(this),this.s=2,ma(this)):ZI(this,this.Y-t)};function ma(t){t.l.H==0||t.J||EC(t.l,t)}function Pi(t){ah(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ky(t.V),zI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Em(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sm(n.i,t))){if(!t.K&&Sm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zu(n),hh(n);else break e;Fy(n),bt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=xl(Et(n.ib,n),6e3));if(1>=aC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ai(n,11)}else if((t.K||n.g==t)&&Zu(n),!Qa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ly(s,s.h),s.h=null))}if(r.F){const E=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Ee(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=IC(r,r.J?r.pa:null,r.Y),o.K){lC(r.i,o);var l=o,a=r.L;a&&l.setTimeout(a),l.C&&(ah(l),Al(l)),r.g=o}else _C(r);0<n.j.length&&fh(n)}else c[0]!="stop"&&c[0]!="close"||Ai(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ai(n,7):Vy(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}el(4)}catch{}}function B$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Jd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function H$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Jd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function eC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Jd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=H$(t),r=B$(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var tC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Mi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mi){this.h=t.h,Xu(this,t.j),this.s=t.s,this.g=t.g,Ju(this,t.m),this.l=t.l;var e=t.i,n=new tl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),f0(this,n),this.o=t.o}else t&&(e=String(t).match(tC))?(this.h=!1,Xu(this,e[1]||"",!0),this.s=Zo(e[2]||""),this.g=Zo(e[3]||"",!0),Ju(this,e[4]),this.l=Zo(e[5]||"",!0),f0(this,e[6]||"",!0),this.o=Zo(e[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}Mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ea(e,p0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ea(e,p0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ea(n,n.charAt(0)=="/"?G$:K$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ea(n,Y$)),t.join("")};function pr(t){return new Mi(t)}function Xu(t,e,n){t.j=n?Zo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ju(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function f0(t,e,n){e instanceof tl?(t.i=e,X$(t.i,t.h)):(n||(e=ea(e,Q$)),t.i=new tl(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function lh(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ea(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,q$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function q$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var p0=/[#\/\?@]/g,K$=/[#\?:]/g,G$=/[#\?]/g,Q$=/[#\?@]/g,Y$=/#/g;function tl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hi(t){t.g||(t.g=new Map,t.h=0,t.i&&W$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=tl.prototype;N.add=function(t,e){hi(this),this.i=null,t=_o(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nC(t,e){hi(t),e=_o(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rC(t,e){return hi(t),e=_o(t,e),t.g.has(e)}N.forEach=function(t,e){hi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};N.ta=function(){hi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};N.Z=function(t){hi(this);let e=[];if(typeof t=="string")rC(this,t)&&(e=e.concat(this.g.get(_o(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return hi(this),this.i=null,t=_o(this,t),rC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function iC(t,e,n){nC(t,e),0<n.length&&(t.i=null,t.g.set(_o(t,e),Sy(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function _o(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function X$(t,e){e&&!t.j&&(hi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nC(this,r),iC(this,i,n))},t)),t.j=e}var J$=class{constructor(t,e){this.g=t,this.map=e}};function sC(t){this.l=t||Z$,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Z$=10;function oC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function aC(t){return t.h?1:t.g?t.g.size:0}function Sm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ly(t,e){t.g?t.g.add(e):t.h=e}function lC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sC.prototype.cancel=function(){if(this.i=cC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function cC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Sy(t.i)}var eM=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function tM(){this.g=new eM}function nM(t,e,n){const r=n||"";try{eC(t,function(i,s){let o=i;Cl(i)&&(o=Py(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rM(t,e){const n=new rh;if(Q.Image){const r=new Image;r.onload=yc(_c,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yc(_c,n,r,"TestLoadImage: error",!1,e),r.onabort=yc(_c,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yc(_c,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _c(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ch(t){this.l=t.ec||null,this.j=t.ob||!1}et(ch,Oy);ch.prototype.g=function(){return new uh(this.l,this.j)};ch.prototype.i=function(t){return function(){return t}}({});function uh(t,e){Je.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$y,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(uh,Je);var $y=0;N=uh.prototype;N.open=function(t,e){if(this.readyState!=$y)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nl(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kl(this)),this.readyState=$y};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function uC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kl(this):nl(this),this.readyState==3&&uC(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,kl(this))};N.Ya=function(t){this.g&&(this.response=t,kl(this))};N.ka=function(){this.g&&kl(this)};function kl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nl(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var iM=Q.JSON.parse;function Ne(t){Je.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dC,this.L=this.M=!1}et(Ne,Je);var dC="",sM=/^https?$/i,oM=["POST","PUT"];N=Ne.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vm.g(),this.C=this.u?h0(this.u):h0(vm),this.g.onreadystatechange=Et(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){m0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=xI(oM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pC(this),0<this.B&&((this.L=aM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.ua,this)):this.A=Ny(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){m0(this,s)}};function aM(t){return Zs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof Ey<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function m0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hC(t),dh(t)}function hC(t){t.F||(t.F=!0,lt(t,"complete"),lt(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lt(this,"complete"),lt(this,"abort"),dh(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dh(this,!0)),Ne.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?fC(this):this.kb())};N.kb=function(){fC(this)};function fC(t){if(t.h&&typeof Ey<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)Ny(t.La,0,t);else if(lt(t,"readystatechange"),$n(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(tC)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!sM.test(i?i.toLowerCase():"")}n=r}if(n)lt(t,"complete"),lt(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",hC(t)}}finally{dh(t)}}}}function dh(t,e){if(t.g){pC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function pC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),iM(e)}};function g0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function lM(t){const e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qa(t[r]))continue;var n=O$(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}R$(e,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mC(t){let e="";return Iy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function My(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ee(t,e,n))}function Bo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gC(t){this.Ga=0,this.j=[],this.l=new rh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bo("baseRetryDelayMs",5e3,t),this.hb=Bo("retryDelaySeedMs",1e4,t),this.eb=Bo("forwardChannelMaxRetries",2,t),this.xa=Bo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sC(t&&t.concurrentRequestLimit),this.Ja=new tM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=gC.prototype;N.ra=8;N.H=1;function Vy(t){if(yC(t),t.H==3){var e=t.W++,n=pr(t.I);if(Ee(n,"SID",t.K),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),Nl(t,n),e=new Pl(t,t.l,e),e.L=2,e.A=lh(pr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=CC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Al(e)}TC(t)}function hh(t){t.g&&(Uy(t),t.g.cancel(),t.g=null)}function yC(t){hh(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Zu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function fh(t){if(!oC(t.i)&&!t.m){t.m=!0;var e=t.Na;Xa||VI(),Ja||(Xa(),Ja=!0),Ay.add(e,t),t.C=0}}function cM(t,e){return aC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=xl(Et(t.Na,t,e),SC(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=kI(s),NI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vC(this,i,e),n=pr(this.I),Ee(n,"RID",t),Ee(n,"CVER",22),this.F&&Ee(n,"X-HTTP-Session-Id",this.F),Nl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(mC(s)))+"&"+e:this.o&&My(n,this.o,s)),Ly(this.i,i),this.bb&&Ee(n,"TYPE","init"),this.P?(Ee(n,"$req",e),Ee(n,"SID","null"),i.aa=!0,wm(i,n,null)):wm(i,n,e),this.H=2}}else this.H==3&&(t?y0(this,t):this.j.length==0||oC(this.i)||y0(this))};function y0(t,e){var n;e?n=e.m:n=t.W++;const r=pr(t.I);Ee(r,"SID",t.K),Ee(r,"RID",n),Ee(r,"AID",t.V),Nl(t,r),t.o&&t.s&&My(r,t.o,t.s),n=new Pl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ly(t.i,n),wm(n,r,e)}function Nl(t,e){t.na&&Iy(t.na,function(n,r){Ee(e,r,n)}),t.h&&eC({},function(n,r){Ee(e,r,n)})}function vC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Et(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let c=i[a].g;const u=i[a].map;if(c-=s,0>c)s=Math.max(0,i[a].g-100),l=!1;else try{nM(u,o,"req"+c+"_")}catch{r&&r(u)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function _C(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xa||VI(),Ja||(Xa(),Ja=!0),Ay.add(e,t),t.A=0}}function Fy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=xl(Et(t.Ma,t),SC(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,wC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=xl(Et(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bt(10),hh(this),wC(this))};function Uy(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function wC(t){t.g=new Pl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=pr(t.wa);Ee(e,"RID","rpc"),Ee(e,"SID",t.K),Ee(e,"AID",t.V),Ee(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ee(e,"TO",t.qa),Ee(e,"TYPE","xmlhttp"),Nl(t,e),t.o&&t.s&&My(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=lh(pr(e)),n.u=null,n.S=!0,YI(n,t)}N.ib=function(){this.v!=null&&(this.v=null,hh(this),Fy(this),bt(19))};function Zu(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function EC(t,e){var n=null;if(t.g==e){Zu(t),Uy(t),t.g=null;var r=2}else if(Sm(t.i,e))n=e.F,lC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ih(),lt(r,new WI(r,n)),fh(t)}else _C(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&cM(t,e)||r==2&&Fy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}}function SC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Et(t.pb,t);n||(n=new Mi("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Xu(n,"https"),lh(n)),rM(n.toString(),r)}else bt(2);t.H=0,t.h&&t.h.za(e),TC(t),yC(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bt(2)):(this.l.info("Failed to ping google.com"),bt(1))};function TC(t){if(t.H=0,t.ma=[],t.h){const e=cC(t.i);(e.length!=0||t.j.length!=0)&&(a0(t.ma,e),a0(t.ma,t.j),t.i.i.length=0,Sy(t.j),t.j.length=0),t.h.ya()}}function IC(t,e,n){var r=n instanceof Mi?pr(n):new Mi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ju(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Mi(null);r&&Xu(s,r),e&&(s.g=e),i&&Ju(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ee(r,n,e),Ee(r,"VER",t.ra),Nl(t,r),r}function CC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ne(new ch({ob:n})):new Ne(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function RC(){}N=RC.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function ed(){if(Zs&&!(10<=Number(S$)))throw Error("Environmental error: no available transport.")}ed.prototype.g=function(t,e){return new en(t,e)};function en(t,e){Je.call(this),this.g=new gC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wo(this)}et(en,Je);en.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IC(t,null,t.Y),fh(t)};en.prototype.close=function(){Vy(this.g)};en.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Py(t),t=n);e.j.push(new J$(e.fb++,t)),e.H==3&&fh(e)};en.prototype.N=function(){this.g.h=null,delete this.j,Vy(this.g),delete this.g,en.$.N.call(this)};function xC(t){Dy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}et(xC,Dy);function bC(){jy.call(this),this.status=1}et(bC,jy);function wo(t){this.g=t}et(wo,RC);wo.prototype.Ba=function(){lt(this.g,"a")};wo.prototype.Aa=function(t){lt(this.g,new xC(t))};wo.prototype.za=function(t){lt(this.g,new bC)};wo.prototype.ya=function(){lt(this.g,"b")};function uM(){this.blockSize=-1}function Pn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}et(Pn,uM);Pn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function zf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Pn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)zf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){zf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){zf(this,r),i=0;break}}this.h=i,this.i+=e};Pn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var dM={};function zy(t){return-128<=t&&128>t?_$(t,function(e){return new me([e|0],0>e?-1:0)}):new me([t|0],0>t?-1:0)}function Mn(t){if(isNaN(t)||!isFinite(t))return zs;if(0>t)return it(Mn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Tm;return new me(e,0)}function PC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return it(PC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mn(Math.pow(e,8)),r=zs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Mn(Math.pow(e,s)),r=r.R(s).add(Mn(o))):(r=r.R(n),r=r.add(Mn(o)))}return r}var Tm=4294967296,zs=zy(0),Im=zy(1),v0=zy(16777216);N=me.prototype;N.ea=function(){if(ln(this))return-it(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Tm+r)*e,e*=Tm}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(sr(this))return"0";if(ln(this))return"-"+it(this).toString(t);for(var e=Mn(Math.pow(t,6)),n=this,r="";;){var i=nd(n,e).g;n=td(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,sr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function sr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ln(t){return t.h==-1}N.X=function(t){return t=td(this,t),ln(t)?-1:sr(t)?0:1};function it(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new me(n,~t.h).add(Im)}N.abs=function(){return ln(this)?it(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new me(n,n[n.length-1]&-2147483648?-1:0)};function td(t,e){return t.add(it(e))}N.R=function(t){if(sr(this)||sr(t))return zs;if(ln(this))return ln(t)?it(this).R(it(t)):it(it(this).R(t));if(ln(t))return it(this.R(it(t)));if(0>this.X(v0)&&0>t.X(v0))return Mn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,a=t.D(i)&65535;n[2*r+2*i]+=o*a,wc(n,2*r+2*i),n[2*r+2*i+1]+=s*a,wc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,wc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,wc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new me(n,0)};function wc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ho(t,e){this.g=t,this.h=e}function nd(t,e){if(sr(e))throw Error("division by zero");if(sr(t))return new Ho(zs,zs);if(ln(t))return e=nd(it(t),e),new Ho(it(e.g),it(e.h));if(ln(e))return e=nd(t,it(e)),new Ho(it(e.g),e.h);if(30<t.g.length){if(ln(t)||ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Im,r=e;0>=r.X(t);)n=_0(n),r=_0(r);var i=ps(n,1),s=ps(r,1);for(r=ps(r,2),n=ps(n,2);!sr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ps(r,1),n=ps(n,1)}return e=td(t,i.R(e)),new Ho(i,e)}for(i=zs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Mn(n),o=s.R(e);ln(o)||0<o.X(t);)n-=r,s=Mn(n),o=s.R(e);sr(s)&&(s=Im),i=i.add(s),t=td(t,o)}return new Ho(i,t)}N.gb=function(t){return nd(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new me(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new me(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new me(n,this.h^t.h)};function _0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new me(n,t.h)}function ps(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new me(i,t.h)}ed.prototype.createWebChannel=ed.prototype.g;en.prototype.send=en.prototype.u;en.prototype.open=en.prototype.m;en.prototype.close=en.prototype.close;sh.NO_ERROR=0;sh.TIMEOUT=8;sh.HTTP_ERROR=6;qI.COMPLETE="complete";KI.EventType=bl;bl.OPEN="a";bl.CLOSE="b";bl.ERROR="c";bl.MESSAGE="d";Je.prototype.listen=Je.prototype.O;Ne.prototype.listenOnce=Ne.prototype.P;Ne.prototype.getLastError=Ne.prototype.Sa;Ne.prototype.getLastErrorCode=Ne.prototype.Ia;Ne.prototype.getStatus=Ne.prototype.da;Ne.prototype.getResponseJson=Ne.prototype.Wa;Ne.prototype.getResponseText=Ne.prototype.ja;Ne.prototype.send=Ne.prototype.ha;Ne.prototype.setWithCredentials=Ne.prototype.Oa;Pn.prototype.digest=Pn.prototype.l;Pn.prototype.reset=Pn.prototype.reset;Pn.prototype.update=Pn.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=Mn;me.fromString=PC;var hM=function(){return new ed},fM=function(){return ih()},Bf=sh,pM=qI,mM=os,w0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ec=KI,gM=Ne,yM=Pn,Bs=me;const E0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new ly("@firebase/firestore");function Wo(){return Ji.logLevel}function k(t,...e){if(Ji.logLevel<=se.DEBUG){const n=e.map(By);Ji.debug(`Firestore (${Eo}): ${t}`,...n)}}function Kn(t,...e){if(Ji.logLevel<=se.ERROR){const n=e.map(By);Ji.error(`Firestore (${Eo}): ${t}`,...n)}}function eo(t,...e){if(Ji.logLevel<=se.WARN){const n=e.map(By);Ji.warn(`Firestore (${Eo}): ${t}`,...n)}}function By(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function ye(t,e){t||G()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class _M{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wM{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new AC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new yt(e)}}class EM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new EM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new TM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=CM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ie(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Ie(0,0))}static max(){return new Y(new Ie(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends rl{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const RM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends rl{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return RM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new D(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new D(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new D(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new D(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(Se.fromString(e))}static fromName(e){return new F(Se.fromString(e).popFirst(5))}static empty(){return new F(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new Se(e.slice()))}}function xM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new ti(i,F.empty(),e)}function bM(t){return new ti(t.readTime,t.key,-1)}class ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ti(Y.min(),F.empty(),-1)}static max(){return new ti(Y.max(),F.empty(),-1)}}function PM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==AM)throw t;k("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let a=0;a<s;a++){const c=a;n(e[c]).next(u=>{o[c]=u,++l,l===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new b((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Hn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ga(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Wy(r.target.error);this.V.reject(new ga(e,i))}}static open(e,n,r,i){try{return new Hy(n,e.transaction(i,r))}catch(s){throw new ga(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(k("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new OM(n)}}class ki{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ki.S(Ve())===12.2&&Kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return k("SimpleDb","Removing database:",e),Ci(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!kT())return!1;if(ki.C())return!0;const e=Ve(),n=ki.S(e),r=0<n&&n<10,i=ki.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(k("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new ga(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new D(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new D(x.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ga(e,o))},i.onupgradeneeded=s=>{k("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{k("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=Hy.open(this.db,e,s?"readonly":"readwrite",r),a=i(l).next(c=>(l.g(),c)).catch(c=>(l.abort(c),b.reject(c))).toPromise();return a.catch(()=>{}),await l.m,a}catch(l){const a=l,c=a.name!=="FirebaseError"&&o<3;if(k("SimpleDb","Transaction failed with error:",a.message,"Retrying:",c),this.close(),!c)return Promise.reject(a)}}}close(){this.db&&this.db.close(),this.db=void 0}}class NM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ci(this.k.delete())}}class ga extends D{constructor(e,n){super(x.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Dl(t){return t.name==="IndexedDbTransactionError"}class OM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(k("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ci(r)}add(e){return k("SimpleDb","ADD",this.store.name,e,e),Ci(this.store.add(e))}get(e){return Ci(this.store.get(e)).next(n=>(n===void 0&&(n=null),k("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return k("SimpleDb","DELETE",this.store.name,e),Ci(this.store.delete(e))}count(){return k("SimpleDb","COUNT",this.store.name),Ci(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new b((o,l)=>{s.onerror=a=>{l(a.target.error)},s.onsuccess=a=>{o(a.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(l,a)=>{o.push(a)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new b((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){k("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new b((r,i)=>{n.onerror=s=>{const o=Wy(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new b((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const a=new NM(l),c=n(l.primaryKey,l.value,a);if(c instanceof b){const u=c.catch(d=>(a.done(),b.reject(d)));r.push(u)}a.isDone?i():a.$===null?l.continue():l.continue(a.$)}}).next(()=>b.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ci(t){return new b((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Wy(r.target.error);n(i)}})}let S0=!1;function Wy(t){const e=ki.S(Ve());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new D("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return S0||(S0=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}qy._e=-1;function ph(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function DM(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function as(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rt.RED,this.left=i??rt.EMPTY,this.right=s??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(e){return new I0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class I0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new ct(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OC("Invalid base64 string: "+s):s}}(e);return new It(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const jM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(ye(!!t),typeof t=="string"){let e=0;const n=jM.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gy(t){const e=t.mapValue.fields.__previous_value__;return Ky(e)?Gy(e):e}function il(t){const e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,r,i,s,o,l,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=c}}class sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ky(t)?4:$M(t)?9007199254740991:10:G()}function Gn(t,e){if(t===e)return!0;const n=es(t);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return il(t).isEqual(il(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ni(i.timestampValue),l=ni(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zi(i.bytesValue).isEqual(Zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=je(i.doubleValue),l=je(s.doubleValue);return o===l?rd(o)===rd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(T0(o)!==T0(l))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(l[a]===void 0||!Gn(o[a],l[a])))return!1;return!0}(t,e);default:return G()}}function ol(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=es(t),r=es(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=je(s.integerValue||s.doubleValue),a=je(o.integerValue||o.doubleValue);return l<a?-1:l>a?1:l===a?0:isNaN(l)?isNaN(a)?0:-1:1}(t,e);case 3:return C0(t.timestampValue,e.timestampValue);case 4:return C0(il(t),il(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Zi(s),a=Zi(o);return l.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),a=o.split("/");for(let c=0;c<l.length&&c<a.length;c++){const u=de(l[c],a[c]);if(u!==0)return u}return de(l.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=de(je(s.latitude),je(o.latitude));return l!==0?l:de(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],a=o.values||[];for(let c=0;c<l.length&&c<a.length;++c){const u=no(l[c],a[c]);if(u)return u}return de(l.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Tc.mapValue&&o===Tc.mapValue)return 0;if(s===Tc.mapValue)return 1;if(o===Tc.mapValue)return-1;const l=s.fields||{},a=Object.keys(l),c=o.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const f=de(a[d],u[d]);if(f!==0)return f;const g=no(l[a[d]],c[u[d]]);if(g!==0)return g}return de(a.length,u.length)}(t.mapValue,e.mapValue);default:throw G()}}function C0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=ni(t),r=ni(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function ro(t){return Cm(t)}function Cm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return F.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Cm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Cm(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function R0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rm(t){return!!t&&"integerValue"in t}function Qy(t){return!!t&&"arrayValue"in t}function x0(t){return!!t&&"nullValue"in t}function b0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yc(t){return!!t&&"mapValue"in t}function ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return as(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ya(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $M(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=ya(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){as(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(ya(this.value))}}function DC(t){const e=[];return as(t.fields,(n,r)=>{const i=new ot([n]);if(Yc(r)){const s=DC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new _t(e,0,Y.min(),Y.min(),Y.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new _t(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new _t(e,2,n,Y.min(),Y.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,Y.min(),Y.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function P0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=F.comparator(F.fromName(o.referenceValue),n.key):r=no(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function A0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function MM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{}class Me extends jC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FM(e,n,r):n==="array-contains"?new BM(e,r):n==="in"?new HM(e,r):n==="not-in"?new WM(e,r):n==="array-contains-any"?new qM(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UM(e,r):new zM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends jC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new An(e,n)}matches(e){return LC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function LC(t){return t.op==="and"}function $C(t){return VM(t)&&LC(t)}function VM(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function xm(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+ro(t.value);if($C(t))return t.filters.map(e=>xm(e)).join(",");{const e=t.filters.map(n=>xm(n)).join(",");return`${t.op}(${e})`}}function MC(t,e){return t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)}(t,e):t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&MC(o,i.filters[l]),!0):!1}(t,e):void G()}function VC(t){return t instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(VC).join(" ,")+"}"}(t):"Filter"}class FM extends Me{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.matchesComparison(n)}}class UM extends Me{constructor(e,n){super(e,"in",n),this.keys=FC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zM extends Me{constructor(e,n){super(e,"not-in",n),this.keys=FC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class BM extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qy(n)&&ol(n.arrayValue,this.value)}}class HM extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ol(this.value.arrayValue,n)}}class WM extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ol(this.value.arrayValue,n)}}class qM extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ce=null}}function k0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new KM(t,e,n,r,i,s,o)}function Yy(t){const e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.ce=n}return e.ce}function Xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A0(t.startAt,e.startAt)&&A0(t.endAt,e.endAt)}function bm(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function GM(t,e,n,r,i,s,o,l){return new jl(t,e,n,r,i,s,o,l)}function Jy(t){return new jl(t)}function N0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UC(t){return t.collectionGroup!==null}function va(t){const e=X(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ct(ot.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new sd(s,r))}),n.has(ot.keyField().canonicalString())||e.le.push(new sd(ot.keyField(),r))}return e.le}function Wn(t){const e=X(t);return e.he||(e.he=QM(e,va(t))),e.he}function QM(t,e){if(t.limitType==="F")return k0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sd(i.field,s)});const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return k0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pm(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Am(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return Xy(Wn(t),Wn(e))&&t.limitType===e.limitType}function zC(t){return`${Yy(Wn(t))}|lt:${t.limitType}`}function gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VC(i)).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ro(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):F.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of va(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,a){const c=P0(o,l,a);return o.inclusive?c<=0:c<0}(r.startAt,va(r),i)||r.endAt&&!function(o,l,a){const c=P0(o,l,a);return o.inclusive?c>=0:c>0}(r.endAt,va(r),i))}(t,e)}function YM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BC(t){return(e,n)=>{let r=!1;for(const i of va(t)){const s=XM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function XM(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(s,o,l){const a=o.data.field(s),c=l.data.field(s);return a!==null&&c!==null?no(a,c):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return NC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Pe(F.comparator);function mr(){return JM}const HC=new Pe(F.comparator);function ta(...t){let e=HC;for(const n of t)e=e.insert(n.key,n);return e}function WC(t){let e=HC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ni(){return _a()}function qC(){return _a()}function _a(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZM=new Pe(F.comparator),eV=new ct(F.comparator);function re(...t){let e=eV;for(const n of t)e=e.add(n);return e}const tV=new ct(de);function nV(){return tV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function GC(t){return{integerValue:""+t}}function rV(t,e){return DM(e)?GC(e):KC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function iV(t,e,n){return t instanceof od?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ky(s)&&(s=Gy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof al?YC(t,e):t instanceof ll?XC(t,e):function(i,s){const o=QC(i,s),l=O0(o)+O0(i.Ie);return Rm(o)&&Rm(i.Ie)?GC(l):KC(i.serializer,l)}(t,e)}function sV(t,e,n){return t instanceof al?YC(t,e):t instanceof ll?XC(t,e):n}function QC(t,e){return t instanceof ad?function(r){return Rm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class od extends yh{}class al extends yh{constructor(e){super(),this.elements=e}}function YC(t,e){const n=JC(e);for(const r of t.elements)n.some(i=>Gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ll extends yh{constructor(e){super(),this.elements=e}}function XC(t,e){let n=JC(e);for(const r of t.elements)n=n.filter(i=>!Gn(i,r));return{arrayValue:{values:n}}}class ad extends yh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function O0(t){return je(t.integerValue||t.doubleValue)}function JC(t){return Qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof al&&i instanceof al||r instanceof ll&&i instanceof ll?to(r.elements,i.elements,Gn):r instanceof ad&&i instanceof ad?Gn(r.Ie,i.Ie):r instanceof od&&i instanceof od}(t.transform,e.transform)}class aV{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vh{}function ZC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tR(t.key,Cn.none()):new Ll(t.key,t.data,Cn.none());{const n=t.data,r=$t.empty();let i=new ct(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fi(t.key,r,new Qt(i.toArray()),Cn.none())}}function lV(t,e,n){t instanceof Ll?function(i,s,o){const l=i.value.clone(),a=j0(i.fieldTransforms,s,o.transformResults);l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fi?function(i,s,o){if(!Xc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=j0(i.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(eR(i)),a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wa(t,e,n,r){return t instanceof Ll?function(s,o,l,a){if(!Xc(s.precondition,o))return l;const c=s.value.clone(),u=L0(s.fieldTransforms,a,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fi?function(s,o,l,a){if(!Xc(s.precondition,o))return l;const c=L0(s.fieldTransforms,a,o),u=o.data;return u.setAll(eR(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,l){return Xc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function cV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QC(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function D0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&to(r,i,(s,o)=>oV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ll extends vh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fi extends vh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j0(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,sV(o,l,n[i]))}return r}function L0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,iV(s,o,e))}return r}class tR extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uV extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const a=ZC(o,l);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>D0(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>D0(n,r))}}class Zy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=function(){return ZM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Zy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,oe;function pV(t){switch(t){default:return G();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function nR(t){if(t===void 0)return Kn("GRPC error has no .code"),x.UNKNOWN;switch(t){case De.OK:return x.OK;case De.CANCELLED:return x.CANCELLED;case De.UNKNOWN:return x.UNKNOWN;case De.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case De.INTERNAL:return x.INTERNAL;case De.UNAVAILABLE:return x.UNAVAILABLE;case De.UNAUTHENTICATED:return x.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case De.NOT_FOUND:return x.NOT_FOUND;case De.ALREADY_EXISTS:return x.ALREADY_EXISTS;case De.PERMISSION_DENIED:return x.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case De.ABORTED:return x.ABORTED;case De.OUT_OF_RANGE:return x.OUT_OF_RANGE;case De.UNIMPLEMENTED:return x.UNIMPLEMENTED;case De.DATA_LOSS:return x.DATA_LOSS;default:return G()}}(oe=De||(De={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=new Bs([4294967295,4294967295],0);function $0(t){const e=mV().encode(t),n=new yM;return n.update(e),new Uint8Array(n.digest())}function M0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,s],0)]}class ev{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new na(`Invalid padding: ${n}`);if(r<0)throw new na(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new na(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new na(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Bs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Bs.fromNumber(r)));return i.compare(gV)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=$0(e),[r,i]=M0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ev(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=$0(e),[r,i]=M0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _h(Y.min(),i,new Pe(de),mr(),re())}}class $l{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $l(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class rR{constructor(e,n){this.targetId=e,this.fe=n}}class iR{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class V0{constructor(){this.ge=0,this.pe=U0(),this.ye=It.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=re(),n=re(),r=re();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new $l(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=U0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ye(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yV{constructor(e){this.Le=e,this.ke=new Map,this.qe=mr(),this.Qe=F0(),this.Ke=new Pe(de)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(bm(s))if(r===0){const o=new F(s.path);this.We(n,o,_t.newNoDocument(o,Y.min()))}else ye(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),a=l?this.et(l,e,o):1;if(a!==0){this.He(n);const c=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Zi(r).toUint8Array()}catch(a){if(a instanceof OC)return eo("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{l=new ev(o,i,s)}catch(a){return eo(a instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&bm(l.target)){const a=new F(l.target.path);this.qe.get(a)!==null||this.st(o,a)||this.We(o,a,_t.newNoDocument(a,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=re();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(a=>{const c=this.Ye(a);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new _h(e,n,this.Ke,this.qe,r);return this.qe=mr(),this.Qe=F0(),this.Ke=new Pe(de),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new V0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ct(de),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||k("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new V0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function F0(){return new Pe(F.comparator)}function U0(){return new Pe(F.comparator)}const vV={asc:"ASCENDING",desc:"DESCENDING"},_V={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wV={and:"AND",or:"OR"};class EV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SV(t,e){return ld(t,e.toTimestamp())}function qn(t){return ye(!!t),Y.fromTimestamp(function(n){const r=ni(n);return new Ie(r.seconds,r.nanos)}(t))}function tv(t,e){return Nm(t,e).canonicalString()}function Nm(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oR(t){const e=Se.fromString(t);return ye(dR(e)),e}function Om(t,e){return tv(t.databaseId,e.path)}function Hf(t,e){const n=oR(e);if(n.get(1)!==t.databaseId.projectId)throw new D(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(lR(n))}function aR(t,e){return tv(t.databaseId,e)}function TV(t){const e=oR(t);return e.length===4?Se.emptyPath():lR(e)}function Dm(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lR(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function z0(t,e,n){return{name:Om(t,e),fields:n.value.mapValue.fields}}function IV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ye(u===void 0||typeof u=="string"),It.fromBase64String(u||"")):(ye(u===void 0||u instanceof Uint8Array),It.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const u=c.code===void 0?x.UNKNOWN:nR(c.code);return new D(u,c.message||"")}(o);n=new iR(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hf(t,r.document.name),s=qn(r.document.updateTime),o=r.document.createTime?qn(r.document.createTime):Y.min(),l=new $t({mapValue:{fields:r.document.fields}}),a=_t.newFoundDocument(i,s,o,l),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Jc(c,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hf(t,r.document),s=r.readTime?qn(r.readTime):Y.min(),o=_t.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Jc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hf(t,r.document),s=r.removedTargetIds||[];n=new Jc([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new fV(i,s),l=r.targetId;n=new rR(l,o)}}return n}function CV(t,e){let n;if(e instanceof Ll)n={update:z0(t,e.key,e.value)};else if(e instanceof tR)n={delete:Om(t,e.key)};else if(e instanceof fi)n={update:z0(t,e.key,e.data),updateMask:DV(e.fieldMask)};else{if(!(e instanceof uV))return G();n={verify:Om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ad)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:SV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function RV(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?qn(i.updateTime):qn(s);return o.isEqual(Y.min())&&(o=qn(s)),new aV(o,i.transformResults||[])}(n,e))):[]}function xV(t,e){return{documents:[aR(t,e.path)]}}function bV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aR(t,i);const s=function(c){if(c.length!==0)return uR(An.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:ys(f.field),direction:kV(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=km(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function PV(t){let e=TV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=cR(d);return f instanceof An&&$C(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new sd(vs(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(d){let f;return f=typeof d=="object"?d.value:d,ph(f)?null:f}(n.limit));let a=null;n.startAt&&(a=function(d){const f=!!d.before,g=d.values||[];return new id(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new id(g,f)}(n.endAt)),GM(e,i,o,s,l,"F",a,c)}function AV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vs(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vs(n.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vs(n.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vs(n.unaryFilter.field);return Me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Me.create(vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>cR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function kV(t){return vV[t]}function NV(t){return _V[t]}function OV(t){return wV[t]}function ys(t){return{fieldPath:t.canonicalString()}}function vs(t){return ot.fromServerFormat(t.fieldPath)}function uR(t){return t instanceof Me?function(n){if(n.op==="=="){if(b0(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NAN"}};if(x0(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b0(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NAN"}};if(x0(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(n.field),op:NV(n.op),value:n.value}}}(t):t instanceof An?function(n){const r=n.getFilters().map(i=>uR(i));return r.length===1?r[0]:{compositeFilter:{op:OV(n.op),filters:r}}}(t):G()}function DV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r,i,s=Y.min(),o=Y.min(),l=It.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.ct=e}}function LV(t){const e=PV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this._n=new MV}addToCollectionParentIndex(e,n){return this._n.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(ti.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class MV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new io(0)}static Bn(){return new io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wa(r.mutation,i,Qt.empty(),Ie.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Ni();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ta();return s.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=mr();const o=_a(),l=function(){return _a()}();return n.forEach((a,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof fi)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),wa(u.mutation,c,u.mutation.getFieldMask(),Ie.now())):o.set(c.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return l.set(c,new FV(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,n){const r=_a();let i=new Pe((o,l)=>o-l),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const c=n.get(a);if(c===null)return;let u=r.get(a)||Qt.empty();u=l.applyToLocalView(c,u),r.set(a,u);const d=(i.get(l.batchId)||re()).add(a);i=i.insert(l.batchId,d)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),c=a.key,u=a.value,d=qC();u.forEach(f=>{if(!s.has(f)){const g=ZC(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return F.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve(Ni());let l=-1,a=s;return o.next(c=>b.forEach(c,(u,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{a=a.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,a,c,re())).next(u=>({batchId:l,changes:WC(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(r=>{let i=ta();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ta();return this.indexManager.getCollectionParents(e,s).next(l=>b.forEach(l,a=>{const c=function(d,f){return new jl(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((a,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,_t.newInvalidDocument(u)))});let l=ta();return o.forEach((a,c)=>{const u=s.get(a);u!==void 0&&wa(u.mutation,c,Qt.empty(),Ie.now()),gh(n,c)&&(l=l.insert(a,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qn(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:LV(i.bundledQuery),readTime:qn(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.overlays=new Pe(F.comparator),this.hr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ni();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=Ni(),s=n.length+1,o=new F(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,c=a.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ni(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const l=Ni(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((c,u)=>l.set(c,u)),!(l.size()>=i)););return b.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hV(n,r));let s=this.hr.get(n);s===void 0&&(s=re(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.Pr=new ct(Ke.Ir),this.Tr=new ct(Ke.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ke(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new F(new Se([])),r=new Ke(n,e),i=new Ke(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new F(new Se([])),r=new Ke(n,e),i=new Ke(n,e+1);let s=re();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ke(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return F.comparator(e.key,n.key)||de(e.pr,n.pr)}static Er(e,n){return de(e.pr,n.pr)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ct(Ke.Ir)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new dV(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new Ke(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(de);return n.forEach(i=>{const s=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),b.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new Ke(new F(s),0);let l=new ct(de);return this.wr.forEachWhile(a=>{const c=a.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(a.pr)),!0)},o),b.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return b.forEach(n.mutations,i=>{const s=new Ke(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ke(n,0),i=this.wr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.vr=e,this.docs=function(){return new Pe(F.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=mr();const o=n.path,l=new F(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:c,value:{document:u}}=a.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||PM(bM(u),r)<=0||(i.has(u.key)||gh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Fr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qV(this)}getSize(e){return b.resolve(this.size)}}class qV extends VV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.persistence=e,this.Mr=new So(n=>Yy(n),Xy),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Or=0,this.Nr=new nv,this.targetCount=0,this.Br=io.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),b.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new io(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.qn(n),b.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n){this.Lr={},this.overlays={},this.kr=new qy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new KV(this),this.indexManager=new $V,this.remoteDocumentCache=function(i){return new WV(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new jV(n),this.$r=new zV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new HV(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){k("MemoryPersistence","Starting transaction:",e);const i=new QV(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return b.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class QV extends kM{constructor(e){super(),this.currentSequenceNumber=e}}class rv{constructor(e){this.persistence=e,this.zr=new nv,this.jr=null}static Hr(e){return new rv(e)}get Jr(){if(this.jr)return this.jr;throw G()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,r=>{const i=F.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new iv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return PO()?8:ki.v(Ve())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new YV;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Wo()<=se.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(Wo()<=se.DEBUG&&k("QueryEngine","Query:",gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Wo()<=se.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):b.resolve())}ji(e,n){if(N0(n))return b.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Am(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(a=>{const c=this.Zi(n,l);return this.Xi(n,c,o,a.readTime)?this.ji(e,Am(n,null,"F")):this.es(e,c,n,a)}))})))}Hi(e,n,r,i){return N0(n)||i.isEqual(Y.min())?b.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?b.resolve(null):(Wo()<=se.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gs(n)),this.es(e,o,n,xM(i,-1)).next(l=>l))})}Zi(e,n){let r=new ct(BC(e));return n.forEach((i,s)=>{gh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Wo()<=se.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",gs(n)),this.zi.getDocumentsMatchingQuery(e,n,ti.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Pe(de),this.rs=new So(s=>Yy(s),Xy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function ZV(t,e,n,r){return new JV(t,e,n,r)}async function hR(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let a=re();for(const c of i){o.push(c.batchId);for(const u of c.mutations)a=a.add(u.key)}for(const c of s){l.push(c.batchId);for(const u of c.mutations)a=a.add(u.key)}return n.localDocuments.getDocuments(r,a).next(c=>({us:c,removedBatchIds:o,addedBatchIds:l}))})})}function e4(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,a,c,u){const d=c.batch,f=d.keys();let g=b.resolve();return f.forEach(v=>{g=g.next(()=>u.getEntry(a,v)).next(E=>{const S=c.docVersions.get(v);ye(S!==null),E.version.compareTo(S)<0&&(d.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),u.addEntry(E)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(a,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let a=re();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(a=a.add(l.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fR(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function t4(t,e){const n=X(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;l.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(It.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(d,g),function(E,S,y){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,u)&&l.push(n.Qr.updateTargetData(s,g))});let a=mr(),c=re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),l.push(n4(s,o,e.documentUpdates).next(u=>{a=u.cs,c=u.ls})),!r.isEqual(Y.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(u)}return b.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,c)).next(()=>a)}).then(s=>(n.ns=i,s))}function n4(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=mr();return n.forEach((l,a)=>{const c=s.get(l);a.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(Y.min())?(e.removeEntry(l,a.readTime),o=o.insert(l,a)):!c.isValidDocument()||a.version.compareTo(c.version)>0||a.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(a),o=o.insert(l,a)):k("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",a.version)}),{cs:o,ls:i}})}function r4(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function i4(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function jm(t,e,n){const r=X(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Dl(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function B0(t,e,n){const r=X(t);let i=Y.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,c,u){const d=X(a),f=d.rs.get(u);return f!==void 0?b.resolve(d.ns.get(f)):d.Qr.getTargetData(c,u)}(r,o,Wn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(a=>{s=a})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:re())).next(l=>(s4(r,YM(e),l),{documents:l,hs:s})))}function s4(t,e,n){let r=t.ss.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class H0{constructor(){this.activeTargetIds=nV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o4{constructor(){this.no=new H0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new H0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function Wf(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class u4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const l=Wf(),a=this.bo(n,r.toUriEncodedString());k("RestConnection",`Sending RPC '${n}' ${l}:`,a,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,a,c,i).then(u=>(k("RestConnection",`Received RPC '${n}' ${l}: `,u),u),u=>{throw eo("RestConnection",`RPC '${n}' ${l} failed with error: `,u,"url: ",a,"request:",i),u})}vo(n,r,i,s,o,l){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=l4[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Wf();return new Promise((o,l)=>{const a=new gM;a.setWithCredentials(!0),a.listenOnce(pM.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Bf.NO_ERROR:const u=a.getResponseJson();k(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Bf.TIMEOUT:k(gt,`RPC '${e}' ${s} timed out`),l(new D(x.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const d=a.getStatus();if(k(gt,`RPC '${e}' ${s} failed with status:`,d,"response text:",a.getResponseText()),d>0){let f=a.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(y)>=0?y:x.UNKNOWN}(g.status);l(new D(v,g.message))}else l(new D(x.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new D(x.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{k(gt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);k(gt,`RPC '${e}' ${s} sending request:`,i),a.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Wf(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hM(),l=fM(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=s.join("");k(gt,`Creating RPC '${e}' stream ${i}: ${u}`,a);const d=o.createWebChannel(u,a);let f=!1,g=!1;const v=new c4({lo:S=>{g?k(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(k(gt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),k(gt,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},ho:()=>d.close()}),E=(S,y,m)=>{S.listen(y,p=>{try{m(p)}catch(_){setTimeout(()=>{throw _},0)}})};return E(d,Ec.EventType.OPEN,()=>{g||k(gt,`RPC '${e}' stream ${i} transport opened.`)}),E(d,Ec.EventType.CLOSE,()=>{g||(g=!0,k(gt,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),E(d,Ec.EventType.ERROR,S=>{g||(g=!0,eo(gt,`RPC '${e}' stream ${i} transport errored:`,S),v.Vo(new D(x.UNAVAILABLE,"The operation could not be completed")))}),E(d,Ec.EventType.MESSAGE,S=>{var y;if(!g){const m=S.data[0];ye(!!m);const p=m,_=p.error||((y=p[0])===null||y===void 0?void 0:y.error);if(_){k(gt,`RPC '${e}' stream ${i} received error:`,_);const T=_.status;let I=function(M){const $=De[M];if($!==void 0)return nR($)}(T),C=_.message;I===void 0&&(I=x.INTERNAL,C="Unknown error status: "+T+" with message "+_.message),g=!0,v.Vo(new D(I,C)),d.close()}else k(gt,`RPC '${e}' stream ${i} received:`,m),v.mo(m)}}),E(l,mM.STAT_EVENT,S=>{S.stat===w0.PROXY?k(gt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===w0.NOPROXY&&k(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){return new EV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,i,s,o,l,a){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new pR(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new D(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d4 extends mR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=IV(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?qn(o.readTime):Y.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Dm(this.serializer),n.addTarget=function(s,o){let l;const a=o.target;if(l=bm(a)?{documents:xV(s,a)}:{query:bV(s,a).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=sR(s,o.resumeToken);const c=km(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(Y.min())>0){l.readTime=ld(s,o.snapshotVersion.toTimestamp());const c=km(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=AV(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Dm(this.serializer),n.removeTarget=e,this.t_(n)}}class h4 extends mR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=RV(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.T_(r,n)}return ye(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Dm(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CV(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new D(x.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Nm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(x.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,Nm(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(x.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class p4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Kn(n),this.g_=!1):k("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{ls(this)&&(k("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=X(a);c.v_.add(4),await Ml(c),c.x_.set("Unknown"),c.v_.delete(4),await Eh(c)}(this))})}),this.x_=new p4(r,i)}}async function Eh(t){if(ls(t))for(const e of t.F_)await e(!0)}async function Ml(t){for(const e of t.F_)await e(!1)}function gR(t,e){const n=X(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),av(n)?ov(n):To(n).Jo()&&sv(n,e))}function yR(t,e){const n=X(t),r=To(n);n.C_.delete(e),r.Jo()&&vR(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ls(n)&&n.x_.set("Unknown"))}function sv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).c_(e)}function vR(t,e){t.O_.Oe(e),To(t).l_(e)}function ov(t){t.O_=new yV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.x_.p_()}function av(t){return ls(t)&&!To(t).Ho()&&t.C_.size>0}function ls(t){return X(t).v_.size===0}function _R(t){t.O_=void 0}async function g4(t){t.C_.forEach((e,n)=>{sv(t,e)})}async function y4(t,e){_R(t),av(t)?(t.x_.S_(e),ov(t)):t.x_.set("Unknown")}async function v4(t,e,n){if(t.x_.set("Online"),e instanceof iR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.C_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.C_.delete(l),i.O_.removeTarget(l))}(t,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cd(t,r)}else if(e instanceof Jc?t.O_.$e(e):e instanceof rR?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Y.min()))try{const r=await fR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.O_.it(o);return l.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(a.resumeToken,o))}}),l.targetMismatches.forEach((a,c)=>{const u=s.C_.get(a);if(!u)return;s.C_.set(a,u.withResumeToken(It.EMPTY_BYTE_STRING,u.snapshotVersion)),vR(s,a);const d=new jr(u.target,a,c,u.sequenceNumber);sv(s,d)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){k("RemoteStore","Failed to raise snapshot:",r),await cd(t,r)}}async function cd(t,e,n){if(!Dl(e))throw e;t.v_.add(1),await Ml(t),t.x_.set("Offline"),n||(n=()=>fR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{k("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Eh(t)})}function wR(t,e){return e().catch(n=>cd(t,n,e))}async function Sh(t){const e=X(t),n=ri(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;_4(e);)try{const i=await r4(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,w4(e,i)}catch(i){await cd(e,i)}ER(e)&&SR(e)}function _4(t){return ls(t)&&t.D_.length<10}function w4(t,e){t.D_.push(e);const n=ri(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function ER(t){return ls(t)&&!ri(t).Ho()&&t.D_.length>0}function SR(t){ri(t).start()}async function E4(t){ri(t).d_()}async function S4(t){const e=ri(t);for(const n of t.D_)e.I_(n.mutations)}async function T4(t,e,n){const r=t.D_.shift(),i=Zy.from(r,e,n);await wR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sh(t)}async function I4(t,e){e&&ri(t).P_&&await async function(r,i){if(function(o){return pV(o)&&o!==x.ABORTED}(i.code)){const s=r.D_.shift();ri(r).Zo(),await wR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Sh(r)}}(t,e),ER(t)&&SR(t)}async function q0(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const r=ls(n);n.v_.add(3),await Ml(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Eh(n)}async function C4(t,e){const n=X(t);e?(n.v_.delete(2),await Eh(n)):e||(n.v_.add(2),await Ml(n),n.x_.set("Unknown"))}function To(t){return t.N_||(t.N_=function(n,r,i){const s=X(n);return s.R_(),new d4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:g4.bind(null,t),To:y4.bind(null,t),u_:v4.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),av(t)?ov(t):t.x_.set("Unknown")):(await t.N_.stop(),_R(t))})),t.N_}function ri(t){return t.B_||(t.B_=function(n,r,i){const s=X(n);return s.R_(),new h4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:E4.bind(null,t),To:I4.bind(null,t),E_:S4.bind(null,t),T_:T4.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Sh(t)):(await t.B_.stop(),t.D_.length>0&&(k("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new lv(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),Dl(t))return new D(x.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=ta(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.L_=new Pe(F.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):G():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class so{constructor(e,n,r,i,s,o,l,a,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new so(e,n,Hs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.q_=void 0,this.Q_=[]}}class x4{constructor(){this.queries=new So(e=>zC(e),mh),this.onlineState="Unknown",this.K_=new Set}}async function TR(t,e){const n=X(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new R4),i)try{s.q_=await n.onListen(r)}catch(o){const l=cv(o,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&uv(n)}async function IR(t,e){const n=X(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function b4(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Q_)l.W_(i)&&(r=!0);o.q_=i}}r&&uv(n)}function P4(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function uv(t){t.K_.forEach(e=>{e.next()})}class CR{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.key=e}}class xR{constructor(e){this.key=e}}class A4{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=re(),this.mutatedKeys=re(),this.ua=BC(e),this.ca=new Hs(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new K0,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),g=gh(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?v!==E&&(r.track({type:3,doc:g}),S=!0):this.Ia(f,g)||(r.track({type:2,doc:g}),S=!0,(a&&this.ua(g,a)>0||c&&this.ua(g,c)<0)&&(l=!0)):!f&&g?(r.track({type:0,doc:g}),S=!0):f&&!g&&(r.track({type:1,doc:f}),S=!0,(a||c)&&(l=!0)),S&&(g?(o=o.add(g),s=E?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:l,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,d)=>function(g,v){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return E(g)-E(v)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(r),i=i!=null&&i;const l=n&&!i?this.Ea():[],a=this.aa.size===0&&this.current&&!i?1:0,c=a!==this._a;return this._a=a,o.length!==0||c?{snapshot:new so(this.query,e.ca,s,o,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new K0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=re(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new xR(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new RR(r))}),n}Ra(e){this.oa=e.hs,this.aa=re();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return so.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class k4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N4{constructor(e){this.key=e,this.ma=!1}}class O4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new So(l=>zC(l),mh),this.pa=new Map,this.ya=new Set,this.wa=new Pe(F.comparator),this.Sa=new Map,this.ba=new nv,this.Da={},this.Ca=new Map,this.va=io.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function D4(t,e){const n=H4(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await i4(n.localStore,Wn(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await j4(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&gR(n.remoteStore,o)}return i}async function j4(t,e,n,r,i){t.Ma=(d,f,g)=>async function(E,S,y,m){let p=S.view.ha(y);p.Xi&&(p=await B0(E.localStore,S.query,!1).then(({documents:C})=>S.view.ha(C,p)));const _=m&&m.targetChanges.get(S.targetId),T=m&&m.targetMismatches.get(S.targetId)!=null,I=S.view.applyChanges(p,E.isPrimaryClient,_,T);return Q0(E,S.targetId,I.da),I.snapshot}(t,d,f,g);const s=await B0(t.localStore,e,!0),o=new A4(e,s.hs),l=o.ha(s.documents),a=$l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,a);Q0(t,n,c.da);const u=new k4(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function L4(t,e){const n=X(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!mh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await jm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),yR(n.remoteStore,r.targetId),Lm(n,r.targetId)}).catch(Ol)):(Lm(n,r.targetId),await jm(n.localStore,r.targetId,!0))}async function $4(t,e,n){const r=W4(t);try{const i=await function(o,l){const a=X(o),c=Ie.now(),u=l.reduce((g,v)=>g.add(v.key),re());let d,f;return a.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=mr(),E=re();return a.os.getEntries(g,u).next(S=>{v=S,v.forEach((y,m)=>{m.isValidDocument()||(E=E.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(g,v)).next(S=>{d=S;const y=[];for(const m of l){const p=cV(m,d.get(m.key).overlayedDocument);p!=null&&y.push(new fi(m.key,p,DC(p.value.mapValue),Cn.exists(!0)))}return a.mutationQueue.addMutationBatch(g,c,y,l)}).next(S=>{f=S;const y=S.applyToLocalDocumentSet(d,E);return a.documentOverlayCache.saveOverlays(g,S.batchId,y)})}).then(()=>({batchId:f.batchId,changes:WC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,a){let c=o.Da[o.currentUser.toKey()];c||(c=new Pe(de)),c=c.insert(l,a),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await Vl(r,i.changes),await Sh(r.remoteStore)}catch(i){const s=cv(i,"Failed to persist write");n.reject(s)}}async function bR(t,e){const n=X(t);try{const r=await t4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ye(o.ma):i.removedDocuments.size>0&&(ye(o.ma),o.ma=!1))}),await Vl(n,r,e)}catch(r){await Ol(r)}}function G0(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const l=o.view.U_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const a=X(o);a.onlineState=l;let c=!1;a.queries.forEach((u,d)=>{for(const f of d.Q_)f.U_(l)&&(c=!0)}),c&&uv(a)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M4(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Pe(F.comparator);o=o.insert(s,_t.newNoDocument(s,Y.min()));const l=re().add(s),a=new _h(Y.min(),new Map,new Pe(de),o,l);await bR(r,a),r.wa=r.wa.remove(s),r.Sa.delete(e),dv(r)}else await jm(r.localStore,e,!1).then(()=>Lm(r,e,n)).catch(Ol)}async function V4(t,e){const n=X(t),r=e.batch.batchId;try{const i=await e4(n.localStore,e);AR(n,r,null),PR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vl(n,i)}catch(i){await Ol(i)}}async function F4(t,e,n){const r=X(t);try{const i=await function(o,l){const a=X(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,l).next(d=>(ye(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(c,d))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,l)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);AR(r,e,n),PR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vl(r,i)}catch(i){await Ol(i)}}function PR(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function AR(t,e,n){const r=X(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Lm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||kR(t,r)})}function kR(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(yR(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),dv(t))}function Q0(t,e,n){for(const r of n)r instanceof RR?(t.ba.addReference(r.key,e),U4(t,r)):r instanceof xR?(k("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||kR(t,r.key)):G()}function U4(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(k("SyncEngine","New document in limbo: "+n),t.ya.add(r),dv(t))}function dv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new F(Se.fromString(e)),r=t.va.next();t.Sa.set(r,new N4(n)),t.wa=t.wa.insert(n,r),gR(t.remoteStore,new jr(Wn(Jy(n.path)),r,"TargetPurposeLimboResolution",qy._e))}}async function Vl(t,e,n){const r=X(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,a)=>{o.push(r.Ma(a,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=iv.Ki(a.targetId,c);s.push(u)}}))}),await Promise.all(o),r.fa.u_(i),await async function(a,c){const u=X(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(c,f=>b.forEach(f.qi,g=>u.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>b.forEach(f.Qi,g=>u.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!Dl(d))throw d;k("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=u.ns.get(f),v=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(v);u.ns=u.ns.insert(f,E)}}}(r.localStore,s))}async function z4(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const r=await hR(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(l=>{l.forEach(a=>{a.reject(new D(x.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vl(n,r.us)}}function B4(t,e){const n=X(t),r=n.Sa.get(e);if(r&&r.ma)return re().add(r.key);{let i=re();const s=n.pa.get(e);if(!s)return i;for(const o of s){const l=n.ga.get(o);i=i.unionWith(l.view.la)}return i}}function H4(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M4.bind(null,e),e.fa.u_=b4.bind(null,e.eventManager),e.fa.xa=P4.bind(null,e.eventManager),e}function W4(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F4.bind(null,e),e}class Y0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZV(this.persistence,new XV,e.initialUser,this.serializer)}createPersistence(e){return new GV(rv.Hr,this.serializer)}createSharedClientState(e){return new o4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class q4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z4.bind(null,this.syncEngine),await C4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x4}()}createDatastore(e){const n=wh(e.databaseInfo.databaseId),r=function(s){return new u4(s)}(e.databaseInfo);return function(s,o,l,a){return new f4(s,o,l,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new m4(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>G0(this.syncEngine,n,0),function(){return W0.D()?new W0:new a4}())}createSyncEngine(e,n){return function(i,s,o,l,a,c,u){const d=new O4(i,s,o,l,a,c);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=X(r);k("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Ml(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=kC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{k("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(k("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kf(t,e){t.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function X0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q4(t);k("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>q0(e.remoteStore,i)),t._onlineComponents=e}function G4(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Q4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!G4(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Kf(t,new Y0)}}else k("FirestoreClient","Using default OfflineComponentProvider"),await Kf(t,new Y0);return t._offlineComponents}async function OR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),await X0(t,t._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),await X0(t,new q4))),t._onlineComponents}function Y4(t){return OR(t).then(e=>e.syncEngine)}async function DR(t){const e=await OR(t),n=e.eventManager;return n.onListen=D4.bind(null,e.syncEngine),n.onUnlisten=L4.bind(null,e.syncEngine),n}function X4(t,e,n={}){const r=new Hn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,a,c){const u=new NR({next:f=>{o.enqueueAndForget(()=>IR(s,d));const g=f.docs.has(l);!g&&f.fromCache?c.reject(new D(x.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&a&&a.source==="server"?c.reject(new D(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new CR(Jy(l.path),u,{includeMetadataChanges:!0,Z_:!0});return TR(s,d)}(await DR(t),t.asyncQueue,e,n,r)),r.promise}function J4(t,e,n={}){const r=new Hn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,a,c){const u=new NR({next:f=>{o.enqueueAndForget(()=>IR(s,d)),f.fromCache&&a.source==="server"?c.reject(new D(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new CR(l,u,{includeMetadataChanges:!0,Z_:!0});return TR(s,d)}(await DR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e,n){if(!n)throw new D(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z4(t,e,n,r){if(e===!0&&r===!0)throw new D(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z0(t){if(!F.isDocumentKey(t))throw new D(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eE(t){if(F.isDocumentKey(t))throw new D(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(t);throw new D(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new D(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new D(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new D(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vM;switch(r.type){case"firstParty":return new SM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=J0.get(n);r&&(k("ComponentProvider","Removing Datastore"),J0.delete(n),r.terminate())}(this),Promise.resolve()}}function eF(t,e,n,r={}){var i;const s=(t=Qn(t,Ih))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,a;if(typeof r.mockUserToken=="string")l=r.mockUserToken,a=yt.MOCK_USER;else{l=AT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new yt(c)}t._authCredentials=new _M(new AC(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class Kr extends Io{constructor(e,n,r){super(e,n,Jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new F(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function Co(t,e,...n){if(t=Fe(t),LR("collection","path",e),t instanceof Ih){const r=Se.fromString(e,...n);return eE(r),new Kr(t,null,r)}{if(!(t instanceof At||t instanceof Kr))throw new D(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return eE(r),new Kr(t.firestore,null,r)}}function Ch(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=kC.newId()),LR("doc","path",e),t instanceof Ih){const r=Se.fromString(e,...n);return Z0(r),new At(t,null,new F(r))}{if(!(t instanceof At||t instanceof Kr))throw new D(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Z0(r),new At(t.firestore,t instanceof Kr?t.converter:null,new F(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new pR(this,"async_queue_retry"),this._u=()=>{const n=qf();n&&k("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=qf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Hn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Dl(e))throw e;k("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=lv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&G()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Ro extends Ih{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$R(this),this._firestoreClient.terminate()}}function nF(t,e){const n=typeof t=="object"?t:uy(),r=typeof t=="string"?t:e||"(default)",i=Wd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xT("firestore");s&&eF(i,...s)}return i}function hv(t){return t._firestoreClient||$R(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $R(t){var e,n,r;const i=t._freezeSettings(),s=function(l,a,c,u){return new LM(l,a,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,jR(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new K4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(It.fromBase64String(e))}catch(n){throw new D(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=/^__.*__$/;class iF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(e,this.data,n,this.fieldTransforms)}}class MR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class mv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return ud(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(VR(this.du)&&rF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class sF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wh(e)}Su(e,n,r,i=!1){return new mv({du:e,methodName:n,wu:r,path:ot.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xh(t){const e=t._freezeSettings(),n=wh(t._databaseId);return new sF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FR(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);gv("Data must be an object, but it was:",o,r);const l=UR(r,o);let a,c;if(s.merge)a=new Qt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=$m(e,d,n);if(!o.contains(f))throw new D(x.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);BR(u,f)||u.push(f)}a=new Qt(u),c=o.fieldTransforms.filter(d=>a.covers(d.field))}else a=null,c=o.fieldTransforms;return new iF(new $t(l),a,c)}class bh extends fv{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bh}}function oF(t,e,n,r){const i=t.Su(1,e,n);gv("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();as(r,(a,c)=>{const u=yv(e,a,n);c=Fe(c);const d=i.fu(u);if(c instanceof bh)s.push(u);else{const f=Fl(c,d);f!=null&&(s.push(u),o.set(u,f))}});const l=new Qt(s);return new MR(o,l,i.fieldTransforms)}function aF(t,e,n,r,i,s){const o=t.Su(1,e,n),l=[$m(e,r,n)],a=[i];if(s.length%2!=0)throw new D(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push($m(e,s[f])),a.push(s[f+1]);const c=[],u=$t.empty();for(let f=l.length-1;f>=0;--f)if(!BR(c,l[f])){const g=l[f];let v=a[f];v=Fe(v);const E=o.fu(g);if(v instanceof bh)c.push(g);else{const S=Fl(v,E);S!=null&&(c.push(g),u.set(g,S))}}const d=new Qt(c);return new MR(u,d,o.fieldTransforms)}function lF(t,e,n,r=!1){return Fl(n,t.Su(r?4:3,e))}function Fl(t,e){if(zR(t=Fe(t)))return gv("Unsupported field value:",e,t),UR(t,e);if(t instanceof fv)return function(r,i){if(!VR(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let a=Fl(l,i.gu(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ie.fromDate(r);return{timestampValue:ld(i.serializer,s)}}if(r instanceof Ie){const s=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ld(i.serializer,s)}}if(r instanceof pv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oo)return{bytesValue:sR(i.serializer,r._byteString)};if(r instanceof At){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Th(r)}`)}(t,e)}function UR(t,e){const n={};return NC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(t,(r,i)=>{const s=Fl(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof pv||t instanceof oo||t instanceof At||t instanceof fv)}function gv(t,e,n){if(!zR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Th(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function $m(t,e,n){if((e=Fe(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return yv(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const cF=new RegExp("[~\\*/\\[\\]]");function yv(t,e,n){if(e.search(cF)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rh(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new D(x.INVALID_ARGUMENT,l+t+a)}function BR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uF extends HR{data(){return super.data()}}function vv(t,e){return typeof e=="string"?yv(t,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _v{}class hF extends _v{}function wv(t,e,...n){let r=[];e instanceof _v&&r.push(e),r=r.concat(n),function(s){const o=s.filter(a=>a instanceof Sv).length,l=s.filter(a=>a instanceof Ph).length;if(o>1||o>0&&l>0)throw new D(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ph extends hF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ph(e,n,r)}_apply(e){const n=this._parse(e);return WR(e._query,n),new Io(e.firestore,e.converter,Pm(e._query,n))}_parse(e){const n=xh(e.firestore);return function(s,o,l,a,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new D(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){rE(d,u);const g=[];for(const v of d)g.push(nE(a,s,v));f={arrayValue:{values:g}}}else f=nE(a,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||rE(d,u),f=lF(l,o,d,u==="in"||u==="not-in");return Me.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ev(t,e,n){const r=e,i=vv("where",t);return Ph._create(i,r,n)}class Sv extends _v{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const a of l)WR(o,a),o=Pm(o,a)}(e._query,n),new Io(e.firestore,e.converter,Pm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new D(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UC(e)&&n.indexOf("/")!==-1)throw new D(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!F.isDocumentKey(r))throw new D(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R0(t,new F(r))}if(n instanceof At)return R0(t,n._key);throw new D(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function rE(t,e){if(!Array.isArray(t)||t.length===0)throw new D(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WR(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fF{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return as(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new pv(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const n=ni(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ye(dR(r));const i=new sl(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(n)||Kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KR extends HR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zc extends KR{data(e={}){return super.data(e)}}class pF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ra(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const a=new Zc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ra(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const a=new Zc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ra(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:mF(l.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){t=Qn(t,At);const e=Qn(t.firestore,Ro);return X4(hv(e),t._key).then(n=>_F(e,t,n))}class QR extends fF{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Ul(t){t=Qn(t,Io);const e=Qn(t.firestore,Ro),n=hv(e),r=new QR(e);return dF(t._query),J4(n,t._query).then(i=>new pF(e,r,t,i))}function gF(t,e,n){t=Qn(t,At);const r=Qn(t.firestore,Ro),i=qR(t.converter,e,n);return Tv(r,[FR(xh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cn.none())])}function yF(t,e,n,...r){t=Qn(t,At);const i=Qn(t.firestore,Ro),s=xh(i);let o;return o=typeof(e=Fe(e))=="string"||e instanceof Rh?aF(s,"updateDoc",t._key,e,n,r):oF(s,"updateDoc",t._key,e),Tv(i,[o.toMutation(t._key,Cn.exists(!0))])}function vF(t,e){const n=Qn(t.firestore,Ro),r=Ch(t),i=qR(t.converter,e);return Tv(n,[FR(xh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function Tv(t,e){return function(r,i){const s=new Hn;return r.asyncQueue.enqueueAndForget(async()=>$4(await Y4(r),i,s)),s.promise}(hv(t),e)}function _F(t,e,n){const r=n.docs.get(e._key),i=new QR(t);return new KR(t,i,e._key,r,new ra(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Eo=i})(ss),Gi(new ei("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ro(new wM(r.getProvider("auth-internal")),new IM(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new D(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Un(E0,"4.4.2",e),Un(E0,"4.4.2","esm2017")})();const wF={apiKey:"AIzaSyCYLJeEfFs7lQUJbczLFP87sLr7oDGK73Y",authDomain:"acguatuso-sys.firebaseapp.com",projectId:"acguatuso-sys",storageBucket:"acguatuso-sys.appspot.com",messagingSenderId:"148217571881",appId:"1:148217571881:web:5b959afe3352b16dae0a38"},Iv=DT(wF),gr=nF(Iv),Cv=uL(Iv),Ah=l$(Iv),EF={notification:null,emailVerified:!1,loggedIn:!1,user:null,error:null},YR=li({name:"auth",initialState:EF,reducers:{loginSuccess:(t,e)=>{t.loggedIn=!0,t.user=e.payload,t.emailVerified=!0,t.error=null},loginFailure:(t,e)=>{t.loggedIn=!1,t.user=null,t.error=e.payload},signupSuccess:(t,e)=>{t.notification=e.payload.msg,t.emailVerified=e.payload.emailVerified,t.error=null},signupFailure:(t,e)=>{t.error=e.payload},logOut:t=>{t.loggedIn=!1,t.user=null},editInfo:(t,e)=>{t.user=e.payload}}}),{loginSuccess:SF,loginFailure:TF,signupSuccess:IF,signupFailure:Mm,logOut:CF,editInfo:RF}=YR.actions,xF=YR.reducer,bF=(t,e)=>async n=>{try{if(!(await Q2(Cv,t,e)).user.emailVerified)throw new Error("Por favor, verifica tu dirección de correo electrónico antes de iniciar sesión.");const i=await XR(t);n(SF(i))}catch(r){const i=r.message.replace("Firebase: ","");n(TF(i))}},XR=async t=>{const e=Co(gr,"Usuarios");try{const n=wv(e,Ev("correo","==",t)),i=(await Ul(n)).docs[0];if(i){const s=i.data(),o=s.fechaNacimiento instanceof Ie?s.fechaNacimiento.toDate().toDateString():s.fechaNacimiento.toString();return{nombre:s.nombre,correo:s.correo,cedula:s.cedula,telefono:s.telefono,provincia:s.provincia,canton:s.canton,distrito:s.distrito,direccion:s.direccion,fechaNacimiento:o,genero:s.genero,user_type:s.user_type,estado:s.estado}}else return console.log("No se encontró el documento del usuario"),null}catch(n){return console.error("Error al obtener el documento del usuario: ",n),null}},PF=t=>async e=>{try{const n=await G2(Cv,t.correo,t.password);await AF(t),await Y2(n.user),e(IF({msg:"Cuenta creada con éxito!",emailVerified:n.user.emailVerified}))}catch(n){n.message==="Firebase: Error (auth/email-already-in-use)."?e(Mm("El correo electrónico ya se encuentra en uso, inténte con otro porfavor.")):e(Mm("El correo electrónico está en un formato no permitido, revíselo porfavor."))}},AF=async t=>{const e={nombre:t.nombre,correo:t.correo,cedula:t.cedula,telefono:t.telefono,provincia:t.provincia,canton:t.canton,distrito:t.distrito,direccion:t.direccion,fechaNacimiento:Ie.fromDate(new Date(t.fechaNacimiento)),genero:t.genero,user_type:0,estado:0},n=Co(gr,"Usuarios");try{await vF(n,e)}catch{}},kF=(t,e,n)=>async r=>{const i=Co(gr,"Usuarios");try{const s=wv(i,Ev("correo","==",e)),o=await Ul(s);if(!o.empty){const l=o.docs[0],a=Ch(gr,"Usuarios",l.id);await gF(a,t);const c=await XR(e);n||r(RF(c))}}catch{}},NF=async t=>{try{await K2(Cv,t),alert("Se ha enviado un correo electrónico para restablecer tu contraseña.")}catch{}},OF={dataEmpresa:null},JR=li({name:"empresa",initialState:OF,reducers:{setEmpresaData(t,e){t.dataEmpresa=e.payload}}}),DF=()=>async t=>{try{const e=await Co(gr,"Empresa"),s=(await Ul(e)).docs[0].data();if(s){const o={correo:s.correo,facebookUrl:s.redes[0].red_url,titulo_footer:s.titulo_principal,subtitulo_footer:s.subtitulo_principal,direccionCorta:s.direccion_corta,telefonos:[s.telefonos[0],s.telefonos[1]],horarios:[s.horarios[0],s.horarios[1],s.horarios[2],s.horarios[3],s.horarios[4],s.horarios[5],s.horarios[6]]};t(jF(o))}}catch(e){console.error("Error al obtener los datos de la empresa:",e)}},{setEmpresaData:jF}=JR.actions,LF=JR.reducer,kh=async t=>{try{const e=Ch(gr,t);return(await GR(e)).data()}catch(e){console.log(e)}},xo=async t=>(await Ul(Co(gr,t))).docs.map(r=>({...r.data(),id:r.id})),eu=ai("about/fetchMainSectionClient",async()=>{const t=await kh("/Empresa/ZktZQqsBnqVVoL4dfRHv");return{image_principal_url:t.image_principal_url,subtitulo_principal:t.subtitulo_principal,titulo_principal:t.titulo_principal,download_url_principal:t.download_url_principal}}),tu=ai("about/fetchSectionsClient",async()=>await xo("/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones")),$F={head:{image_principal_url:"",subtitulo_principal:"",titulo_principal:"",download_url_principal:""},sections:[],loading:!1,error:void 0},MF=li({name:"about",initialState:$F,reducers:{},extraReducers:t=>{t.addCase(eu.pending,e=>{e.loading=!0}),t.addCase(eu.fulfilled,(e,n)=>{e.loading=!1,e.head=n.payload}),t.addCase(eu.rejected,(e,n)=>{e.loading=!1,e.head={},e.error=n.error.message}),t.addCase(tu.pending,e=>{e.loading=!0}),t.addCase(tu.fulfilled,(e,n)=>{e.loading=!1,e.sections=n.payload}),t.addCase(tu.rejected,(e,n)=>{e.loading=!1,e.sections=[],e.error=n.error.message})}}),ZR=t=>t.about,VF=MF.reducer,FF={datosPais:null,loading:!1,error:null},dd=li({name:"paisInfo",initialState:FF,reducers:{fetchDataStart(t){t.loading=!0,t.error=null},fetchDataSuccess(t,e){t.loading=!1,t.datosPais=e.payload},fetchDataFailure(t,e){t.loading=!1,t.error=e.payload}}});dd.actions;const UF=dd.reducer,zF=async()=>{const e=await(await fetch("https://gist.githubusercontent.com/josuenoel/80daca657b71bc1cfd95a4e27d547abe/raw")).json();localStorage.setItem("data-paises",JSON.stringify(e))},BF=()=>JSON.parse(localStorage.getItem("data-paises")),ex=()=>async t=>{try{await zF();const e=await BF(),n={};Object.values(e.provincias).forEach(r=>{const i={};Object.values(r.cantones).forEach(s=>{i[s.nombre]=s}),n[r.nombre]={...r,cantones:i}}),t(dd.actions.fetchDataSuccess(n))}catch(e){console.error("Ocurrió un error al obtener el JSON:",e),t(dd.actions.fetchDataFailure(e.message||"Ha ocurrido un error"))}};function Vm(t){return Object.keys(t)}function nu(t,e){if(!e||!e[t]||!e[t].cantones)return[];const n=e[t];return Object.keys(n.cantones)}function ru(t){return Object.values(t)}const HF={loading:!1,cursos:[],numSolicitantes:{},error:void 0};function WF(t){switch(t){case 0:return"Presencial";case 1:return"Virtual";case 2:return"Mixta";default:return"No Definida"}}const Ea=ai("users/fetchCursos",async()=>{const e=await xo("Cursos"),n={};return e.forEach(s=>{s.id&&(n[s.id]=s.postulados.length)}),{cursos:e.filter(s=>s.fechaCreacion!==void 0).sort((s,o)=>o.fechaCreacion.toMillis()-s.fechaCreacion.toMillis()),numSolicitantes:n}}),qF=li({name:"cursos",initialState:HF,extraReducers:t=>{t.addCase(Ea.pending,e=>{e.loading=!0}),t.addCase(Ea.fulfilled,(e,n)=>{e.loading=!1,e.cursos=n.payload.cursos,e.numSolicitantes=n.payload.numSolicitantes}),t.addCase(Ea.rejected,(e,n)=>{e.loading=!1,e.cursos=[],e.error=n.error.message})},reducers:{}}),tx=t=>t.cursos,KF=qF.reducer,iu=ai("ads/fetchMainAdsClient",async()=>await kh("/Avisos/1x9cYIlY1FaQcw9jZhf6")),su=ai("ads/fetchAdsClient",async()=>await xo("/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios")),GF={loading:!1,error:void 0,adsList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},QF=li({name:"ads",initialState:GF,reducers:{},extraReducers:t=>{t.addCase(iu.pending,e=>{e.loading=!0}),t.addCase(iu.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(iu.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(su.pending,e=>{e.loading=!0}),t.addCase(su.fulfilled,(e,n)=>{e.loading=!1,e.adsList=n.payload}),t.addCase(su.rejected,(e,n)=>{e.loading=!1,e.adsList=[],e.error=n.error.message})}}),nx=t=>t.avisos,YF=QF.reducer,ou=ai("Service/fetchMainServiceClient",async()=>await kh("/Servicios/xsc94XcgZ4Agn9IisLop")),au=ai("Service/fetchServiceClient",async()=>await xo("/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios")),XF={loading:!1,error:void 0,ServiceList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},JF=li({name:"Service",initialState:XF,reducers:{},extraReducers:t=>{t.addCase(ou.pending,e=>{e.loading=!0}),t.addCase(ou.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(ou.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(au.pending,e=>{e.loading=!0}),t.addCase(au.fulfilled,(e,n)=>{e.loading=!1,e.ServiceList=n.payload}),t.addCase(au.rejected,(e,n)=>{e.loading=!1,e.ServiceList=[],e.error=n.error.message})}}),rx=t=>t.servicios,ZF=JF.reducer,Gf=ai("mycourses/fetchMyCourses",async()=>{const e=(await xo("/Cursos")).map(n=>({nombre:n.nombre,horario:n.horario,modalidad:n.modalidad,postulados:n.postulados,matriculados:n.matriculados,aprobados:n.aprobados,reprobados:n.reprobados}));return console.log(e,"data"),e}),e3={loading:!1,error:void 0,courses:[]},t3=li({name:"mycourses",initialState:e3,reducers:{},extraReducers:t=>{t.addCase(Gf.pending,e=>{e.loading=!0}),t.addCase(Gf.fulfilled,(e,n)=>{e.loading=!1,e.courses=n.payload}),t.addCase(Gf.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message})}}),n3=t3.reducer,pi={key:"root",storage:ST},r3=ci(pi,xF),i3=ci(pi,LF),s3=ci(pi,VF),o3=ci(pi,UF),a3=ci(pi,KF),l3=ci(pi,YF),c3=ci(pi,ZF),u3=ci(pi,n3),ix=yN({reducer:{auth:r3,empresa:i3,about:s3,paisInfo:o3,cursos:a3,avisos:l3,servicios:c3,misCursos:u3},middleware:t=>t({serializableCheck:{ignoredActions:[ty,Bd,ny,ry,iy,sy]}})}),d3=oO(ix);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}var Lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lr||(Lr={}));const iE="popstate";function h3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Fm("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hd(i)}return p3(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f3(){return Math.random().toString(36).substr(2,8)}function sE(t,e){return{usr:t.state,key:t.key,idx:e}}function Fm(t,e,n,r){return n===void 0&&(n=null),cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:n,key:e&&e.key||r||f3()})}function hd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function p3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Lr.Pop,a=null,c=u();c==null&&(c=0,o.replaceState(cl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){l=Lr.Pop;let S=u(),y=S==null?null:S-c;c=S,a&&a({action:l,location:E.location,delta:y})}function f(S,y){l=Lr.Push;let m=Fm(E.location,S,y);n&&n(m,S),c=u()+1;let p=sE(m,c),_=E.createHref(m);try{o.pushState(p,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(_)}s&&a&&a({action:l,location:E.location,delta:1})}function g(S,y){l=Lr.Replace;let m=Fm(E.location,S,y);n&&n(m,S),c=u();let p=sE(m,c),_=E.createHref(m);o.replaceState(p,"",_),s&&a&&a({action:l,location:E.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof S=="string"?S:hd(S);return ke(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let E={get action(){return l},get location(){return t(i,o)},listen(S){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(iE,d),a=S,()=>{i.removeEventListener(iE,d),a=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(S){return o.go(S)}};return E}var oE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oE||(oE={}));function m3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?bo(e):e,i=ao(r.pathname||"/",n);if(i==null)return null;let s=sx(t);g3(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=C3(s[l],x3(i));return o}function sx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ke(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Gr([r,a.relativePath]),u=n.concat(a);s.children&&s.children.length>0&&(ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sx(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:T3(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of ox(s.path))i(s,o,a)}),e}function ox(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ox(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function g3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const y3=/^:[\w-]+$/,v3=3,_3=2,w3=1,E3=10,S3=-2,aE=t=>t==="*";function T3(t,e){let n=t.split("/"),r=n.length;return n.some(aE)&&(r+=S3),e&&(r+=_3),n.filter(i=>!aE(i)).reduce((i,s)=>i+(y3.test(s)?v3:s===""?w3:E3),r)}function I3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function C3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Um({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},c);if(!u)return null;Object.assign(r,u.params);let d=l.route;s.push({params:r,pathname:Gr([i,u.pathname]),pathnameBase:N3(Gr([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Gr([i,u.pathnameBase]))}return s}function Um(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=R3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let E=l[d]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const v=l[d];return g&&!v?c[f]=void 0:c[f]=b3(v||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function R3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Rv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function x3(t){try{return decodeURI(t)}catch(e){return Rv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function b3(t,e){try{return decodeURIComponent(t)}catch(n){return Rv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ao(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function P3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bo(t):t;return{pathname:n?n.startsWith("/")?n:A3(n,e):e,search:O3(r),hash:D3(i)}}function A3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ax(t,e){let n=k3(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bo(t):(i=cl({},t),ke(!i.pathname||!i.pathname.includes("?"),Qf("?","pathname","search",i)),ke(!i.pathname||!i.pathname.includes("#"),Qf("#","pathname","hash",i)),ke(!i.search||!i.search.includes("#"),Qf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=P3(i,l),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),N3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cx=["post","put","patch","delete"];new Set(cx);const L3=["get",...cx];new Set(L3);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}const Nh=w.createContext(null),ux=w.createContext(null),mi=w.createContext(null),Oh=w.createContext(null),cs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),dx=w.createContext(null);function $3(t,e){let{relative:n}=e===void 0?{}:e;zl()||ke(!1);let{basename:r,navigator:i}=w.useContext(mi),{hash:s,pathname:o,search:l}=Dh(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Gr([r,o])),i.createHref({pathname:a,search:l,hash:s})}function zl(){return w.useContext(Oh)!=null}function Po(){return zl()||ke(!1),w.useContext(Oh).location}function hx(t){w.useContext(mi).static||w.useLayoutEffect(t)}function Bl(){let{isDataRoute:t}=w.useContext(cs);return t?Y3():M3()}function M3(){zl()||ke(!1);let t=w.useContext(Nh),{basename:e,future:n,navigator:r}=w.useContext(mi),{matches:i}=w.useContext(cs),{pathname:s}=Po(),o=JSON.stringify(ax(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return hx(()=>{l.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let d=lx(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function Dh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(mi),{matches:i}=w.useContext(cs),{pathname:s}=Po(),o=JSON.stringify(ax(i,r.v7_relativeSplatPath));return w.useMemo(()=>lx(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function V3(t,e){return F3(t,e)}function F3(t,e,n,r){zl()||ke(!1);let{navigator:i}=w.useContext(mi),{matches:s}=w.useContext(cs),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=Po(),u;if(e){var d;let S=typeof e=="string"?bo(e):e;a==="/"||(d=S.pathname)!=null&&d.startsWith(a)||ke(!1),u=S}else u=c;let f=u.pathname||"/",g=a==="/"?f:f.slice(a.length)||"/",v=m3(t,{pathname:g}),E=W3(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Gr([a,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:Gr([a,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&E?w.createElement(Oh.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Lr.Pop}},E):E}function U3(){let t=Q3(),e=j3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const z3=w.createElement(U3,null);class B3 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(cs.Provider,{value:this.props.routeContext},w.createElement(dx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H3(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Nh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(cs.Provider,{value:e},r)}function W3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id]));u>=0||ke(!1),o=o.slice(0,Math.min(o.length,u+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let g,v=!1,E=null,S=null;n&&(g=l&&d.route.id?l[d.route.id]:void 0,E=d.route.errorElement||z3,a&&(c<0&&f===0?(X3("route-fallback",!1),v=!0,S=null):c===f&&(v=!0,S=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),m=()=>{let p;return g?p=E:v?p=S:d.route.Component?p=w.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=u,w.createElement(H3,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(B3,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var fx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fx||{}),fd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fd||{});function q3(t){let e=w.useContext(Nh);return e||ke(!1),e}function K3(t){let e=w.useContext(ux);return e||ke(!1),e}function G3(t){let e=w.useContext(cs);return e||ke(!1),e}function px(t){let e=G3(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function Q3(){var t;let e=w.useContext(dx),n=K3(fd.UseRouteError),r=px(fd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Y3(){let{router:t}=q3(fx.UseNavigateStable),e=px(fd.UseNavigateStable),n=w.useRef(!1);return hx(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ul({fromRouteId:e},s)))},[t,e])}const lE={};function X3(t,e,n){!e&&!lE[t]&&(lE[t]=!0)}function sn(t){ke(!1)}function J3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Lr.Pop,navigator:s,static:o=!1,future:l}=t;zl()&&ke(!1);let a=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:a,navigator:s,static:o,future:ul({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=bo(r));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:v="default"}=r,E=w.useMemo(()=>{let S=ao(u,a);return S==null?null:{location:{pathname:S,search:d,hash:f,state:g,key:v},navigationType:i}},[a,u,d,f,g,v,i]);return E==null?null:w.createElement(mi.Provider,{value:c},w.createElement(Oh.Provider,{children:n,value:E}))}function Z3(t){let{children:e,location:n}=t;return V3(zm(e),n)}new Promise(()=>{});function zm(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,zm(r.props.children,s));return}r.type!==sn&&ke(!1),!r.props.index||!r.props.children||ke(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}function mx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tU(t,e){return t.button===0&&(!e||e==="_self")&&!eU(t)}const nU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],rU=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],iU="6";try{window.__reactRouterVersion=iU}catch{}const sU=w.createContext({isTransitioning:!1}),oU="startTransition",cE=rp[oU];function aU(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=h3({window:i,v5Compat:!0}));let o=s.current,[l,a]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=w.useCallback(d=>{c&&cE?cE(()=>a(d)):a(d)},[a,c]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.createElement(J3,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const lU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jh=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=mx(e,nU),{basename:g}=w.useContext(mi),v,E=!1;if(typeof c=="string"&&cU.test(c)&&(v=c,lU))try{let p=new URL(window.location.href),_=c.startsWith("//")?new URL(p.protocol+c):new URL(c),T=ao(_.pathname,g);_.origin===p.origin&&T!=null?c=T+_.search+_.hash:E=!0}catch{}let S=$3(c,{relative:i}),y=dU(c,{replace:o,state:l,target:a,preventScrollReset:u,relative:i,unstable_viewTransition:d});function m(p){r&&r(p),p.defaultPrevented||y(p)}return w.createElement("a",pd({},f,{href:v||S,onClick:E||s?r:m,ref:n,target:a}))}),vn=w.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:a,unstable_viewTransition:c,children:u}=e,d=mx(e,rU),f=Dh(a,{relative:d.relative}),g=Po(),v=w.useContext(ux),{navigator:E,basename:S}=w.useContext(mi),y=v!=null&&hU(f)&&c===!0,m=E.encodeLocation?E.encodeLocation(f).pathname:f.pathname,p=g.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(p=p.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase()),_&&S&&(_=ao(_,S)||_);const T=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let I=p===m||!o&&p.startsWith(m)&&p.charAt(T)==="/",C=_!=null&&(_===m||!o&&_.startsWith(m)&&_.charAt(m.length)==="/"),R={isActive:I,isPending:C,isTransitioning:y},M=I?r:void 0,$;typeof s=="function"?$=s(R):$=[s,I?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let he=typeof l=="function"?l(R):l;return w.createElement(jh,pd({},d,{"aria-current":M,className:$,ref:n,style:he,to:a,unstable_viewTransition:c}),typeof u=="function"?u(R):u)});var Bm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bm||(Bm={}));var uE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uE||(uE={}));function uU(t){let e=w.useContext(Nh);return e||ke(!1),e}function dU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,a=Bl(),c=Po(),u=Dh(t,{relative:o});return w.useCallback(d=>{if(tU(d,n)){d.preventDefault();let f=r!==void 0?r:hd(c)===hd(u);a(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,a,u,r,i,n,t,s,o,l])}function hU(t,e){e===void 0&&(e={});let n=w.useContext(sU);n==null&&ke(!1);let{basename:r}=uU(Bm.useViewTransitionState),i=Dh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ao(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ao(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Um(i.pathname,o)!=null||Um(i.pathname,s)!=null}var gx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dE=H.createContext&&H.createContext(gx),fU=["attr","size","title"];function pU(t,e){if(t==null)return{};var n=mU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},md.apply(this,arguments)}function hE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){gU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gU(t,e,n){return e=yU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yU(t){var e=vU(t,"string");return typeof e=="symbol"?e:String(e)}function vU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yx(t){return t&&t.map((e,n)=>H.createElement(e.tag,gd({key:n},e.attr),yx(e.child)))}function Lh(t){return e=>H.createElement(_U,md({attr:gd({},t.attr)},e),yx(t.child))}function _U(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=pU(t,fU),l=i||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),H.createElement("svg",md({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:gd(gd({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&H.createElement("title",null,s),t.children)};return dE!==void 0?H.createElement(dE.Consumer,null,n=>e(n)):e(gx)}function wU(t){return Lh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function EU(t){return Lh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function SU(t){return Lh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function vx(t){return Lh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}const TU=({isOpen:t,onClose:e})=>{const[n,r]=w.useState(""),i=()=>{NF(n),e()};return h.jsx(h.Fragment,{children:t&&h.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:h.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h5",{className:"modal-title",children:"Enviar Correo Electrónico para Cambiar Contraseña"}),h.jsx("button",{title:"Cerrar",type:"button",className:"btn-close",onClick:e})]}),h.jsx("div",{className:"modal-body",children:h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Correo Electrónico:"}),h.jsx("input",{id:"email",type:"email",className:"form-control",value:n,onChange:s=>r(s.target.value),required:!0})]})}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{type:"button",className:"btn btn-primary",onClick:i,children:"Enviar Correo"}),h.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cerrar"})]})]})})})})},IU=()=>{const t=Bl(),[e,n]=w.useState(""),[r,i]=w.useState(""),[s,o]=w.useState(!1),[l,a]=w.useState(!1),c=Kg(),u=we(_=>_.auth.loggedIn),d=we(_=>_.auth.user),f=we(_=>_.auth.error),g=we(_=>_.auth.emailVerified),v=_=>{_.preventDefault(),setTimeout(()=>{c(bF(e,r))},1e3)},E=_=>{n(_.target.value)},S=_=>{i(_.target.value)},y=()=>{o(!s)},[m,p]=w.useState("");return w.useEffect(()=>{(async()=>{const _=Xd(Ah,"Empresa/Logo/logo");Yd(_).then(T=>{p(T)}).catch(T=>{console.error("Error descargando el logo:",T)})})()},[]),w.useEffect(()=>{if(u&&d&&g){const _=setTimeout(()=>{t("/client-system/home")},3e3);return()=>clearTimeout(_)}},[u,d,g]),h.jsx(h.Fragment,{children:h.jsx("div",{className:"container",children:h.jsx("div",{className:"row justify-content-center",children:h.jsx("div",{className:"col-md-6",children:h.jsxs("div",{className:"card shadow-lg",children:[f&&h.jsx("div",{className:"alert-popup",children:h.jsx("div",{className:"alert-message alert alert-danger",children:h.jsx("span",{children:f})})}),!d&&h.jsxs("form",{onSubmit:v,children:[h.jsxs("div",{children:[h.jsx("img",{src:m,alt:"logo",width:"200",height:"150"}),h.jsx("h3",{children:"Bienvenido!"}),h.jsx("h3",{children:"Inicio de Sesión"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"email",className:"form-label text-start text-muted",children:"Correo:"}),h.jsx("input",{type:"email",id:"email",value:e,onChange:E,className:"form-control",placeholder:"Ej: correo@example.com"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"password",className:"form-label text-start text-muted",children:"Contraseña:"}),h.jsxs("div",{className:"input-group",children:[h.jsx("input",{type:s?"text":"password",id:"password",value:r,onChange:S,className:"form-control",placeholder:"Ej: contraseña123"}),h.jsxs("button",{className:"btn btn-outline-secondary",type:"button",onClick:y,children:[s?h.jsx(vx,{}):h.jsx(SU,{})," "]})]})]}),h.jsx("button",{type:"submit",className:"btn btn-primary",children:"Iniciar Sesión"}),h.jsxs("div",{children:[h.jsx("br",{}),h.jsx("label",{children:"¿No tiene cuenta?"}),h.jsx(jh,{to:"/crear-cuenta",children:"Crear Cuenta"})]}),h.jsxs("div",{children:[h.jsx("span",{children:"¿Olvidaste tu contraseña? "}),h.jsx("span",{className:"link-style",onClick:()=>a(!0),children:"Haz clic aquí"}),h.jsx(TU,{isOpen:l,onClose:()=>a(!1)})]})]}),d&&h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx("img",{src:m,alt:"logo",width:"200",height:"150"}),h.jsx("h3",{children:"Bienvenido!"})]}),h.jsx("label",{children:"Credenciales Correctas!"}),h.jsxs("label",{children:["Hola ",d.nombre,"!"]})]})]})})})})})},gi=()=>Kg(),yi=we,CU={nombre:"",correo:"",password:"",cedula:"",telefono:"",provincia:"",canton:"",distrito:"",direccion:"",fechaNacimiento:"",genero:""},RU=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState([]),[o,l]=w.useState(""),a=gi(),c=we(p=>p.auth.emailVerified),u=we(p=>p.auth.notification),d=we(p=>p.auth.error),f=we(p=>p.paisInfo.datosPais),g=we(p=>p.auth.loggedIn),v=we(p=>p.auth.user),[E,S]=w.useState(CU);w.useEffect(()=>{if(a(ex()),f){const p=Vm(f);e(p)}},[]);const y=p=>{const{name:_,value:T}=p.target;if(_==="provincia"){l(T);const I=nu(T,f);r(I),s([]),S({...E,[_]:T})}else if(_==="canton"){S({...E,[_]:T,distrito:""});const I=ru(f[o].cantones[T].distritos);s(I)}else S({...E,[_]:T})},m=p=>{if(p.preventDefault(),!Object.values(E).every(T=>T.trim()!=="")){a(Mm("Porfavor llene todos los campos."));return}a(PF(E))};return h.jsxs("div",{children:[h.jsxs("div",{className:"container",children:[h.jsxs("div",{children:[h.jsx("img",{src:"/src/assets/LogoUCAG.png",alt:"Bootstrap",width:"200",height:"150"}),!v&&!g&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{children:"Bienvenido!"}),h.jsx("h2",{children:"Crear Cuenta de Usuario "})]})]}),!c&&u&&h.jsx("div",{children:h.jsxs("p",{children:[u,", Debes confirmar tu correo electrónico! "]})}),!u&&h.jsx("div",{className:"card shadow-lg",children:h.jsxs("form",{onSubmit:m,className:"signup-form",children:[d&&h.jsx("div",{className:"alert-popup",children:h.jsx("div",{className:"alert-message alert alert-danger",children:h.jsx("span",{children:d})})}),h.jsxs("div",{className:"row",children:[h.jsxs("div",{className:"col",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"nombre",children:"Nombre Completo:"}),h.jsx("input",{type:"text",id:"nombre",name:"nombre",value:E.nombre,onChange:y,className:"form-control",placeholder:"Ej: Juan Pérez"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"fechaNacimiento",children:"Fecha de Nacimiento:"}),h.jsx("input",{type:"date",id:"fechaNacimiento",name:"fechaNacimiento",value:E.fechaNacimiento,onChange:y,className:"form-control"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"provincia",children:"Provincia:"}),h.jsxs("select",{id:"provincia",name:"provincia",value:E.provincia,onChange:y,className:"form-control",children:[h.jsx("option",{value:"",children:"Seleccione una provincia..."}),t.map((p,_)=>h.jsx("option",{value:p,children:p},_))]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"direccion",children:"Dirección Exacta:"}),h.jsx("input",{type:"text",id:"direccion",name:"direccion",value:E.direccion,onChange:y,className:"form-control",placeholder:"Ej: 123 Calle Principal, Barrio Los Ángeles",required:!0})]})]}),h.jsxs("div",{className:"col",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"correo",children:"Correo:"}),h.jsx("input",{type:"correo",id:"correo",name:"correo",value:E.correo,onChange:y,className:"form-control",placeholder:"Ej: correo@example.com"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"telefono",children:"Teléfono:"}),h.jsx("input",{type:"text",id:"telefono",name:"telefono",value:E.telefono,onChange:y,className:"form-control",placeholder:"Ej: 8888-8888",pattern:"\\d*",title:"Solo se permiten números."})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"canton",children:"Cantón:"}),h.jsxs("select",{id:"canton",name:"canton",value:E.canton,onChange:y,className:"form-control",children:[h.jsx("option",{value:"",children:"Seleccione un cantón..."}),n.map((p,_)=>h.jsx("option",{value:p,children:p},_))]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"genero",children:"Género:"}),h.jsxs("select",{id:"genero",name:"genero",value:E.genero,onChange:y,className:"form-control",children:[h.jsx("option",{value:"",children:"Seleccione un género..."}),h.jsx("option",{value:"M",children:"Masculino"}),h.jsx("option",{value:"F",children:"Femenino"}),h.jsx("option",{value:"O",children:"Otro"})]})]})]}),h.jsxs("div",{className:"col",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"password",children:"Contraseña:"}),h.jsx("input",{type:"password",id:"password",name:"password",value:E.password,onChange:y,className:"form-control",placeholder:"Ej: contraseña123"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"cedula",children:"Cédula:"}),h.jsx("input",{type:"text",id:"cedula",name:"cedula",value:E.cedula,onChange:y,className:"form-control",placeholder:"Ej: 123456789",pattern:"\\d*",title:"Solo se permiten números"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"distrito",children:"Distrito:"}),h.jsxs("select",{id:"distrito",name:"distrito",value:E.distrito,onChange:y,className:"form-control",children:[h.jsx("option",{value:"",children:"Seleccione un distrito..."}),i.map((p,_)=>h.jsx("option",{value:p,children:p},_))]})]})]})]}),h.jsx("button",{type:"submit",className:"btn btn-primary",children:"Crear Cuenta"})]})})]}),h.jsx("br",{}),!v&&!g&&h.jsx(h.Fragment,{children:h.jsxs("div",{children:[h.jsx("label",{children:"¿Ya tiene cuenta?"}),h.jsx(jh,{to:"/iniciar-sesion",children:"Iniciar Sesión"})]})})]})};function fE({to:t,curso:e}){return h.jsxs("div",{className:`card rounded-4 my-3 ${e.visible===2?"custom-card-proximamente":"custom-card"}`,children:[h.jsx("img",{src:e.download_url,alt:"Imagen",className:"card-img-top rounded",style:{height:"70%"}}),h.jsx("div",{className:"card-body",children:h.jsx("h5",{className:"card-title my-0",children:e.nombre})}),e.visible===1&&h.jsx("div",{className:"card-footer",children:h.jsxs(jh,{to:t,state:{curso:e},className:"read-more",children:["Leer más ",h.jsx(EU,{})]})})]})}function xU(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState(void 0),o=yi(tx),l=gi();return w.useEffect(()=>{(async()=>await l(Ea()))()},[l]),w.useEffect(()=>{r(o.loading),s(o.error),!o.loading&&!o.error&&e(o.cursos)},[o]),h.jsx("section",{children:h.jsxs("div",{className:"row mt-4",children:[h.jsxs("div",{className:"col p-4 me-md-3",children:[h.jsx("h2",{className:"text-center",children:"Cursos Disponibles"}),h.jsx("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:t.filter(a=>a.visible===1).map(a=>h.jsx("div",{className:"col",children:h.jsx(fE,{to:`/client-system/cursos/${a.nombre}`,curso:a})},a.id))})]}),h.jsxs("div",{className:"col-md-3 bg-info-subtle p-4 ms-md-3 mt-4 mt-md-0",children:[h.jsx("h2",{children:"Próximamente"}),h.jsx("div",{className:"row row-cols-1",children:t.filter(a=>a.visible===2).map(a=>h.jsx("div",{className:"col mb-4",children:h.jsx(fE,{to:`/client-system/curso/${a.nombre}`,curso:a})},a.id))})]})]})})}const bU=()=>{const t=yi(ZR);return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"text-center rounded mb-5",children:[h.jsx("img",{src:t.head.download_url_principal,className:"img-fluid"}),h.jsx("h1",{className:"display-1 text-black",children:t.head.titulo_principal}),h.jsx("h3",{className:"display-6 text-black",children:t.head.subtitulo_principal})]})})},PU=()=>{const t=yi(ZR),[e,n]=w.useState([]);return w.useEffect(()=>{n(t.sections)},[t]),h.jsxs(h.Fragment,{children:[t.loading&&h.jsx("div",{children:"Cargando..."}),e.map(r=>r.posicion_id==1?h.jsxs("div",{className:"row mb-3 border",children:[h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})}),h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion})]})]},`${r.id}-div1`):h.jsxs("div",{className:"row mb-3 border",children:[h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion})]}),h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})})]},`${r.id}-div2`))]})},AU=()=>{const t=gi();return w.useEffect(()=>{(async()=>(await t(eu()),await t(tu())))()},[]),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[h.jsx(bU,{}),h.jsx("div",{className:"container-fluid",children:h.jsx(PU,{})})]})})},pE=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),o=w.useRef(null);return w.useEffect(()=>{const l=Xd(Ah,"Home/imagen-inicio");Yd(l).then(a=>{s(a)}).catch(a=>{console.error("Error descargando la imagen:",a)}),(async()=>{const a=await kh("/Home/8Yl9xbZuRNFTUItTEKGU");e(a==null?void 0:a.titulo),r(a==null?void 0:a.descripcion)})()},[]),h.jsx(h.Fragment,{children:h.jsx("div",{className:"container mt-5",children:h.jsxs("div",{className:"row text-start",children:[h.jsxs("div",{className:"col-sm-5",children:[h.jsx("h2",{className:"fw-bold color-title mb-3",children:t}),h.jsxs("p",{children:[n," "]})]}),h.jsx("div",{className:"col-sm-7",ref:o,children:h.jsx("img",{src:i,alt:"Imagen de página de inicio,",className:"img-fluid rounded"})})]})})})},yd=({texto:t,mostrar:e,onClose:n,onConfirm:r,segundos:i})=>(w.useEffect(()=>{if(i){const s=setTimeout(()=>{n&&n()},i*1e3);return()=>clearTimeout(s)}},[i,n]),h.jsx("div",{className:`modal ${e?"show":""}`,style:{display:e?"block":"none"},children:h.jsx("div",{className:"modal-dialog",children:h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h5",{className:"modal-title",children:"Notificación"}),n&&h.jsx("button",{title:"btn-close",type:"button",className:"btn-close",onClick:n})," "]}),h.jsx("div",{className:"modal-body",children:h.jsx("p",{children:t})}),h.jsxs("div",{className:"modal-footer",children:[n&&h.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cancelar"})," ",r&&h.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Aceptar"})," "]})]})})})),mE=["Masculino","Femenino","Otro"],Yf=["Común","Administrador"],kU={correo:"Correo Electrónico",cedula:"Cédula",telefono:"Teléfono",provincia:"Provincia",canton:"Cantón",distrito:"Distrito",direccion:"Dirección",fechaNacimiento:"Fecha de Nacimiento",genero:"Género",nombre:"Nombre",user_type:"Tipo de Usuario"},NU=({pUsuario:t})=>{const e=gi(),n=we(j=>j.auth.loggedIn);let r=null;t?r=t:r=we(j=>j.auth.user);const i=we(j=>j.paisInfo.datosPais),s={nombre:r.nombre,correo:r==null?void 0:r.correo,cedula:r==null?void 0:r.cedula,telefono:r==null?void 0:r.telefono,provincia:r==null?void 0:r.provincia,canton:r==null?void 0:r.canton,distrito:r==null?void 0:r.distrito,direccion:r==null?void 0:r.direccion,fechaNacimiento:r==null?void 0:r.fechaNacimiento,genero:r==null?void 0:r.genero,user_type:r.user_type},[o,l]=w.useState(!1),[a,c]=w.useState(s),[u,d]=w.useState(!1),[f,g]=w.useState(!1),[v,E]=w.useState([]),[S,y]=w.useState([]),[m,p]=w.useState([]),[_,T]=w.useState(""),[I,C]=w.useState(""),[R,M]=w.useState(""),[$,he]=w.useState(""),Ue=Bl();w.useEffect(()=>{if(!n&&!r&&Ue("/"),r&&i){const j=Vm(i);if(E(j),i[r.provincia]&&i[r.provincia].cantones&&i[r.provincia].cantones[r.canton].distritos){const W=nu(r.provincia,i);y(W);const ee=ru(i[r.provincia].cantones[r.canton].distritos);p(ee)}}},[r,i,Ue,Vm,nu,ru]);const ce=(j,W)=>{T(j);const ee=nu(j,i);y(ee),p([]),c({...a,[W]:j})},Ot=(j,W)=>{C(j);const ee=ru(i[_].cantones[j].distritos);p(ee),c({...a,[W]:j,distrito:""})},Dt=j=>{const{name:W,value:ee}=j.target;try{W==="user_type"&&he(Yf[parseInt(ee)]),W==="provincia"?ce(ee,W):W==="canton"?Ot(ee,W):(M(ee),c({...a,[W]:ee}))}catch{ce(r==null?void 0:r.provincia,W),Ot(ee,W)}},jt=()=>{l(!0),c(s)},dt=()=>{l(!1),r&&c(s)},O=()=>{if(!Object.keys(s).some(ee=>ee==="correo"||ee==="estado"||ee==="user_type"?!1:s[ee]!==a[ee])){d(!0);return}if(!(a!=null&&a.cedula)||!(a!=null&&a.nombre)||!(a!=null&&a.canton)||R===""){g(!0);return}const W=/^[0-9]+$/;if(a.telefono&&!W.test(a.telefono)||a.cedula&&!W.test(a.cedula)){g(!0);return}d(!0)},V=()=>{g(!1)},z=()=>{e(kF(a,a.correo,t)),l(!1),d(!1)},ae=()=>{d(!1)},Z=j=>Yf[j];return h.jsxs("div",{className:"container shadow-lg",children:[h.jsx("br",{}),!t&&h.jsx(h.Fragment,{children:h.jsx("h2",{children:"Mis Datos Personales"})}),t&&h.jsx(h.Fragment,{children:h.jsx("h2",{children:"Datos de la Cuenta"})}),h.jsx("br",{}),h.jsx("div",{className:"row",children:a&&Object.entries(a).map(([j,W])=>{if(j==="correo"||j==="estado")return null;if(j==="user_type"&&!t)return null;const ee=kU[j]||j;if(j==="fechaNacimiento"){const ne=(W instanceof Ie?W.toDate().toDateString():W.toString()).split("-"),pn=`${ne[2]}/${ne[1]}/${ne[0]}`;return h.jsxs("div",{className:"col-md-3 mb-3",children:[h.jsx("label",{className:"form-label",children:ee}),o?h.jsx("input",{title:"fecha-nacimiento",type:"date",name:j,value:W,onChange:Dt,className:"form-control"}):h.jsx("div",{className:"form-control",children:pn})]},j)}return j==="provincia"||j==="canton"||j==="distrito"||j==="genero"||j==="user_type"?h.jsxs(h.Fragment,{children:[t&&h.jsxs("div",{className:"col-md-3 mb-3",children:[h.jsx("label",{className:"form-label",children:ee}),o?h.jsxs("select",{title:"form-select",name:j,value:a[j],onChange:Dt,className:"form-select",children:[h.jsxs("option",{value:"",children:["Seleccionar ",ee]}),j==="provincia"&&v.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="canton"&&S.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="distrito"&&m.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="genero"&&mE.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="user_type"&&Yf.map((B,ne)=>h.jsx("option",{value:ne,selected:a.user_type===ne,children:B},ne))]}):h.jsx("div",{className:"form-control",children:j==="user_type"?Z(a.user_type):W})]},j),!t&&h.jsxs("div",{className:"col-md-3 mb-3",children:[h.jsx("label",{className:"form-label",children:ee}),o?h.jsxs("select",{title:"form-select",name:j,value:a[j],onChange:Dt,className:"form-select",children:[h.jsxs("option",{value:"",children:["Seleccionar ",ee]}),j==="provincia"&&v.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="canton"&&S.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="distrito"&&m.map((B,ne)=>h.jsx("option",{value:B,children:B},ne)),j==="genero"&&mE.map((B,ne)=>h.jsx("option",{value:B,children:B},ne))]}):h.jsx("div",{className:"form-control",children:W})]},j)]}):h.jsxs("div",{className:"col-md-3 mb-3",children:[h.jsx("label",{className:"form-label",children:ee}),o?h.jsx("input",{title:"contraseña",type:"text",name:j,value:a[j],onChange:Dt,className:"form-control"}):h.jsx("div",{className:"form-control",children:W})]},j)})}),h.jsx("div",{className:"button-container",children:o?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:dt,className:"btn btn-secondary me-2",children:"Cancelar"}),h.jsx("button",{onClick:O,className:"btn btn-success",children:"Guardar"})]}):h.jsx("button",{onClick:jt,className:"btn btn-primary me-2",children:"Editar"})}),h.jsx(yd,{texto:"Por favor, complete todos los campos obligatorios.",mostrar:f,onConfirm:V}),h.jsx(yd,{texto:"¿Está seguro que desea guardar los cambios?",mostrar:u,onClose:ae,onConfirm:z}),h.jsx("br",{})]})},OU=()=>{const t=yi(nx);return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"text-center rounded mb-5",children:[h.jsx("img",{src:t.main.download_url,className:"img-fluid"}),h.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),h.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo})]})})},gE=t=>h.jsx(h.Fragment,{children:t.link.map(e=>h.jsx("div",{className:"text-sm-center",children:h.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),DU=()=>{const t=yi(nx),[e,n]=w.useState();return w.useEffect(()=>{n(t.adsList)},[t]),h.jsxs(h.Fragment,{children:[t.loading&&h.jsx("div",{children:"Cargando..."}),e!=null&&(e==null?void 0:e.map(r=>r.posicion_id==1?h.jsxs("div",{className:"row mb-3 border",children:[h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})}),h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion}),h.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),h.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:h.jsx("div",{className:"card card-body",children:h.jsx(gE,{link:r.links},`${r.id}-ads-linkfield1`)})})]})]},`${r.id}-div1`):h.jsxs("div",{className:"row mb-3 border",children:[h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion}),h.jsx("button",{className:`\r
                            \r
                            btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),h.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:h.jsx("div",{className:"card card-body",children:h.jsx(gE,{link:r.links},`${r.id}-ads-linkfield2`)})})]}),h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})})]},`${r.id}-div2`)))]})},jU=()=>{const t=gi();return w.useEffect(()=>{t(iu()),t(su())},[]),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[h.jsx(OU,{}),h.jsx("div",{className:"container-fluid",children:h.jsx(DU,{})})]})})},LU=()=>{const t=yi(rx);return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"text-center rounded mb-5",children:[h.jsx("img",{src:t.main.download_url,className:"img-fluid"}),h.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),h.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo})]})})},yE=t=>h.jsx(h.Fragment,{children:t.link.map(e=>h.jsx("div",{className:"text-sm-center",children:h.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),$U=()=>{const t=yi(rx),[e,n]=w.useState();return w.useEffect(()=>{n(t.ServiceList)},[t]),h.jsxs(h.Fragment,{children:[t.loading&&h.jsx("div",{children:"Cargando..."}),e!=null&&(e==null?void 0:e.map(r=>r.posicion_id==1?h.jsxs("div",{className:"row mb-3 border",children:[h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})}),h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion}),h.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),h.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:h.jsx("div",{className:"card card-body",children:h.jsx(yE,{link:r.links},`${r.id}-service-linkfield1`)})})]})]},`${r.id}-div1`):h.jsxs("div",{className:"row mb-3 border",children:[h.jsxs("div",{className:"col",children:[h.jsx("h3",{children:r.titulo}),h.jsx("h5",{children:r.subtitulo}),h.jsx("p",{className:"lead",children:r.descripcion}),h.jsx("button",{className:`\r
                            \r
                            btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),h.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:h.jsx("div",{className:"card card-body",children:h.jsx(yE,{link:r.links},`${r.id}-service-linkfield2`)})})]}),h.jsx("div",{className:"col",children:h.jsx("img",{className:"img-thumbnail",src:r.download_url})})]},`${r.id}-div2`)))]})},MU=()=>{const t=gi();return w.useEffect(()=>{t(ou()),t(au())},[]),h.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[h.jsx(LU,{}),h.jsx("div",{className:"container-fluid",children:h.jsx($U,{})})]})},VU=({identificadorCurso:t})=>{const[e,n]=w.useState(!1),[r,i]=w.useState(!1),s=we(v=>v.auth.user),o=we(v=>v.auth.loggedIn),[l,a]=w.useState("");w.useEffect(()=>{o&&s&&u()},[o,s]);const c=async v=>{const E=Co(gr,"Usuarios"),S=wv(E,Ev("correo","==",v)),p=(await Ul(S)).docs[0].id;a(p)},u=async()=>{const v=(s==null?void 0:s.correo)||"";await c(v)},d=()=>{const v=new Date;return Ie.fromDate(v)},f=async()=>{u();const v=t,E=d();try{const S=Ch(gr,"Cursos",v),m=(await GR(S)).data(),p=(m==null?void 0:m.postulados)||[];p.some(T=>T.id===l)?i(!0):(p.push({hora_solicitud:E,id:l}),await yF(S,{postulados:p}),n(!0))}catch(S){console.error("Error al matricular: ",S)}},g=()=>{i(!1),n(!1)};return h.jsxs(h.Fragment,{children:[o&&h.jsxs("div",{children:[h.jsx("button",{type:"button",className:"btn btn-matricula btn-sm","data-bs-toggle":"modal","data-bs-target":"#ModalMatricula",children:"Matricular"}),h.jsx("div",{className:"modal fade",id:"ModalMatricula",tabIndex:-1,"aria-labelledby":"matriculaModalLabel","aria-hidden":"true",children:h.jsx("div",{className:"modal-dialog",children:h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h1",{className:"modal-title fs-5",id:"matriculaModalLabel",children:"Matricular Curso"}),h.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),h.jsx("div",{className:"modal-body",children:"¿Seguro/a de matricular el curso?"}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),h.jsx("button",{type:"button",className:"btn btn-success",onClick:f,"data-bs-dismiss":"modal",children:"Matricular"})]})]})})}),h.jsx(yd,{texto:"La solicitud de matrícula ha sido enviada.",mostrar:e,onConfirm:g}),h.jsx(yd,{texto:"Ya te encuentras en la lista de postulados.",mostrar:r,onConfirm:g})]}),!o&&h.jsx(vn,{className:({isActive:v})=>`nav-item nav-link ${v?"active":""} inicia-sesion`,to:"/client-system/iniciar-sesion",children:h.jsx("h4",{children:"Inicia Sesión y Matricula Ya!!!"})})]})};function FU(){const t=Po(),e=Bl(),n=we(l=>l.auth.user),r=we(l=>l.auth.loggedIn),{state:i}=t,{curso:s}=i,o=()=>{e("/client-system/cursos")};return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"d-flex align-items-center",children:h.jsxs("button",{className:"btn btn-outline-primary me-2",onClick:o,children:[h.jsx(wU,{})," Volver"]})}),h.jsxs("div",{className:"container mt-5",children:[h.jsx("div",{className:"d-flex align-items-center mb-4",children:h.jsx("h2",{className:"mb-0",children:s.nombre})}),h.jsxs("div",{className:"row text-start",children:[h.jsx("div",{className:"col-md-6",children:h.jsx("img",{src:s.download_url,style:{width:"100%",height:"400px"},alt:"Imagen del curso",className:"img-fluid mb-4 rounded"})}),h.jsxs("div",{className:"col-md-6",children:[h.jsxs("p",{className:"mb-3",children:[h.jsx("strong",{children:"Descripción:"})," ",s.descripcion]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Modalidad:"})," ",WF(s.modalidad)]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fecha de Inicio:"})," ",s.fecha_inicio&&new Date(s.fecha_inicio.seconds*1e3).toLocaleDateString()]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fecha de Fin:"})," ",s.fecha_finalizacion&&new Date(s.fecha_finalizacion.seconds*1e3).toLocaleDateString()]}),r&&n&&h.jsx("div",{children:s.link_plataforma&&h.jsxs("p",{children:[h.jsx("strong",{children:"Link del Curso:"})," ",h.jsx("a",{href:s.link_plataforma,target:"_blank",rel:"noopener noreferrer",children:s.link_plataforma})]})}),h.jsx("p",{children:h.jsx("strong",{children:"Horario:"})}),h.jsx("ul",{children:s.horario.map((l,a)=>h.jsxs("li",{children:[l.dia,": ",l.hora]},a))}),h.jsx(VU,{identificadorCurso:s.id||""})]})]})]})]})}var wt=function(){return wt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wt.apply(this,arguments)};function vd(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var _e="-ms-",Sa="-moz-",fe="-webkit-",_x="comm",$h="rule",xv="decl",UU="@import",wx="@keyframes",zU="@layer",Ex=Math.abs,bv=String.fromCharCode,Hm=Object.assign;function BU(t,e){return Qe(t,0)^45?(((e<<2^Qe(t,0))<<2^Qe(t,1))<<2^Qe(t,2))<<2^Qe(t,3):0}function Sx(t){return t.trim()}function Zn(t,e){return(t=e.exec(t))?t[0]:t}function J(t,e,n){return t.replace(e,n)}function lu(t,e,n){return t.indexOf(e,n)}function Qe(t,e){return t.charCodeAt(e)|0}function lo(t,e,n){return t.slice(e,n)}function Dn(t){return t.length}function Tx(t){return t.length}function ia(t,e){return e.push(t),t}function HU(t,e){return t.map(e).join("")}function vE(t,e){return t.filter(function(n){return!Zn(n,e)})}var Mh=1,co=1,Ix=0,fn=0,Le=0,Ao="";function Vh(t,e,n,r,i,s,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Mh,column:co,length:o,return:"",siblings:l}}function Ir(t,e){return Hm(Vh("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ms(t){for(;t.root;)t=Ir(t.root,{children:[t]});ia(t,t.siblings)}function WU(){return Le}function qU(){return Le=fn>0?Qe(Ao,--fn):0,co--,Le===10&&(co=1,Mh--),Le}function Rn(){return Le=fn<Ix?Qe(Ao,fn++):0,co++,Le===10&&(co=1,Mh++),Le}function Vi(){return Qe(Ao,fn)}function cu(){return fn}function Fh(t,e){return lo(Ao,t,e)}function Wm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KU(t){return Mh=co=1,Ix=Dn(Ao=t),fn=0,[]}function GU(t){return Ao="",t}function Xf(t){return Sx(Fh(fn-1,qm(t===91?t+2:t===40?t+1:t)))}function QU(t){for(;(Le=Vi())&&Le<33;)Rn();return Wm(t)>2||Wm(Le)>3?"":" "}function YU(t,e){for(;--e&&Rn()&&!(Le<48||Le>102||Le>57&&Le<65||Le>70&&Le<97););return Fh(t,cu()+(e<6&&Vi()==32&&Rn()==32))}function qm(t){for(;Rn();)switch(Le){case t:return fn;case 34:case 39:t!==34&&t!==39&&qm(Le);break;case 40:t===41&&qm(t);break;case 92:Rn();break}return fn}function XU(t,e){for(;Rn()&&t+Le!==57;)if(t+Le===84&&Vi()===47)break;return"/*"+Fh(e,fn-1)+"*"+bv(t===47?t:Rn())}function JU(t){for(;!Wm(Vi());)Rn();return Fh(t,fn)}function ZU(t){return GU(uu("",null,null,null,[""],t=KU(t),0,[0],t))}function uu(t,e,n,r,i,s,o,l,a){for(var c=0,u=0,d=o,f=0,g=0,v=0,E=1,S=1,y=1,m=0,p="",_=i,T=s,I=r,C=p;S;)switch(v=m,m=Rn()){case 40:if(v!=108&&Qe(C,d-1)==58){lu(C+=J(Xf(m),"&","&\f"),"&\f",Ex(c?l[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:C+=Xf(m);break;case 9:case 10:case 13:case 32:C+=QU(v);break;case 92:C+=YU(cu()-1,7);continue;case 47:switch(Vi()){case 42:case 47:ia(e9(XU(Rn(),cu()),e,n,a),a);break;default:C+="/"}break;case 123*E:l[c++]=Dn(C)*y;case 125*E:case 59:case 0:switch(m){case 0:case 125:S=0;case 59+u:y==-1&&(C=J(C,/\f/g,"")),g>0&&Dn(C)-d&&ia(g>32?wE(C+";",r,n,d-1,a):wE(J(C," ","")+";",r,n,d-2,a),a);break;case 59:C+=";";default:if(ia(I=_E(C,e,n,c,u,i,l,p,_=[],T=[],d,s),s),m===123)if(u===0)uu(C,e,I,I,_,s,d,l,T);else switch(f===99&&Qe(C,3)===110?100:f){case 100:case 108:case 109:case 115:uu(t,I,I,r&&ia(_E(t,I,I,0,0,i,l,p,i,_=[],d,T),T),i,T,d,l,r?_:T);break;default:uu(C,I,I,I,[""],T,0,l,T)}}c=u=g=0,E=y=1,p=C="",d=o;break;case 58:d=1+Dn(C),g=v;default:if(E<1){if(m==123)--E;else if(m==125&&E++==0&&qU()==125)continue}switch(C+=bv(m),m*E){case 38:y=u>0?1:(C+="\f",-1);break;case 44:l[c++]=(Dn(C)-1)*y,y=1;break;case 64:Vi()===45&&(C+=Xf(Rn())),f=Vi(),u=d=Dn(p=C+=JU(cu())),m++;break;case 45:v===45&&Dn(C)==2&&(E=0)}}return s}function _E(t,e,n,r,i,s,o,l,a,c,u,d){for(var f=i-1,g=i===0?s:[""],v=Tx(g),E=0,S=0,y=0;E<r;++E)for(var m=0,p=lo(t,f+1,f=Ex(S=o[E])),_=t;m<v;++m)(_=Sx(S>0?g[m]+" "+p:J(p,/&\f/g,g[m])))&&(a[y++]=_);return Vh(t,e,n,i===0?$h:l,a,c,u,d)}function e9(t,e,n,r){return Vh(t,e,n,_x,bv(WU()),lo(t,2,-2),0,r)}function wE(t,e,n,r,i){return Vh(t,e,n,xv,lo(t,0,r),lo(t,r+1,-1),r,i)}function Cx(t,e,n){switch(BU(t,e)){case 5103:return fe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fe+t+t;case 4789:return Sa+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return fe+t+Sa+t+_e+t+t;case 5936:switch(Qe(t,e+11)){case 114:return fe+t+_e+J(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return fe+t+_e+J(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return fe+t+_e+J(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return fe+t+_e+t+t;case 6165:return fe+t+_e+"flex-"+t+t;case 5187:return fe+t+J(t,/(\w+).+(:[^]+)/,fe+"box-$1$2"+_e+"flex-$1$2")+t;case 5443:return fe+t+_e+"flex-item-"+J(t,/flex-|-self/g,"")+(Zn(t,/flex-|baseline/)?"":_e+"grid-row-"+J(t,/flex-|-self/g,""))+t;case 4675:return fe+t+_e+"flex-line-pack"+J(t,/align-content|flex-|-self/g,"")+t;case 5548:return fe+t+_e+J(t,"shrink","negative")+t;case 5292:return fe+t+_e+J(t,"basis","preferred-size")+t;case 6060:return fe+"box-"+J(t,"-grow","")+fe+t+_e+J(t,"grow","positive")+t;case 4554:return fe+J(t,/([^-])(transform)/g,"$1"+fe+"$2")+t;case 6187:return J(J(J(t,/(zoom-|grab)/,fe+"$1"),/(image-set)/,fe+"$1"),t,"")+t;case 5495:case 3959:return J(t,/(image-set\([^]*)/,fe+"$1$`$1");case 4968:return J(J(t,/(.+:)(flex-)?(.*)/,fe+"box-pack:$3"+_e+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fe+t+t;case 4200:if(!Zn(t,/flex-|baseline/))return _e+"grid-column-align"+lo(t,e)+t;break;case 2592:case 3360:return _e+J(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Zn(r.props,/grid-\w+-end/)})?~lu(t+(n=n[e].value),"span",0)?t:_e+J(t,"-start","")+t+_e+"grid-row-span:"+(~lu(n,"span",0)?Zn(n,/\d+/):+Zn(n,/\d+/)-+Zn(t,/\d+/))+";":_e+J(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Zn(r.props,/grid-\w+-start/)})?t:_e+J(J(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return J(t,/(.+)-inline(.+)/,fe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Dn(t)-1-e>6)switch(Qe(t,e+1)){case 109:if(Qe(t,e+4)!==45)break;case 102:return J(t,/(.+:)(.+)-([^]+)/,"$1"+fe+"$2-$3$1"+Sa+(Qe(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lu(t,"stretch",0)?Cx(J(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return J(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,l,a,c){return _e+i+":"+s+c+(o?_e+i+"-span:"+(l?a:+a-+s)+c:"")+t});case 4949:if(Qe(t,e+6)===121)return J(t,":",":"+fe)+t;break;case 6444:switch(Qe(t,Qe(t,14)===45?18:11)){case 120:return J(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+fe+(Qe(t,14)===45?"inline-":"")+"box$3$1"+fe+"$2$3$1"+_e+"$2box$3")+t;case 100:return J(t,":",":"+_e)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return J(t,"scroll-","scroll-snap-")+t}return t}function _d(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function t9(t,e,n,r){switch(t.type){case zU:if(t.children.length)break;case UU:case xv:return t.return=t.return||t.value;case _x:return"";case wx:return t.return=t.value+"{"+_d(t.children,r)+"}";case $h:if(!Dn(t.value=t.props.join(",")))return""}return Dn(n=_d(t.children,r))?t.return=t.value+"{"+n+"}":""}function n9(t){var e=Tx(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function r9(t){return function(e){e.root||(e=e.return)&&t(e)}}function i9(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case xv:t.return=Cx(t.value,t.length,n);return;case wx:return _d([Ir(t,{value:J(t.value,"@","@"+fe)})],r);case $h:if(t.length)return HU(n=t.props,function(i){switch(Zn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ms(Ir(t,{props:[J(i,/:(read-\w+)/,":"+Sa+"$1")]})),ms(Ir(t,{props:[i]})),Hm(t,{props:vE(n,r)});break;case"::placeholder":ms(Ir(t,{props:[J(i,/:(plac\w+)/,":"+fe+"input-$1")]})),ms(Ir(t,{props:[J(i,/:(plac\w+)/,":"+Sa+"$1")]})),ms(Ir(t,{props:[J(i,/:(plac\w+)/,_e+"input-$1")]})),ms(Ir(t,{props:[i]})),Hm(t,{props:vE(n,r)});break}return""})}}var s9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},uo=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",Rx="active",xx="data-styled-version",Uh="6.1.8",Pv=`/*!sc*/
`,Av=typeof window<"u"&&"HTMLElement"in window,o9=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),zh=Object.freeze([]),ho=Object.freeze({});function a9(t,e,n){return n===void 0&&(n=ho),t.theme!==n.theme&&t.theme||e||n.theme}var bx=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),l9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,c9=/(^-|-$)/g;function EE(t){return t.replace(l9,"-").replace(c9,"")}var u9=/(a)(d)/gi,Cc=52,SE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Km(t){var e,n="";for(e=Math.abs(t);e>Cc;e=e/Cc|0)n=SE(e%Cc)+n;return(SE(e%Cc)+n).replace(u9,"$1-$2")}var Jf,Px=5381,Os=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Ax=function(t){return Os(Px,t)};function d9(t){return Km(Ax(t)>>>0)}function h9(t){return t.displayName||t.name||"Component"}function Zf(t){return typeof t=="string"&&!0}var kx=typeof Symbol=="function"&&Symbol.for,Nx=kx?Symbol.for("react.memo"):60115,f9=kx?Symbol.for("react.forward_ref"):60112,p9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},m9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ox={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g9=((Jf={})[f9]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jf[Nx]=Ox,Jf);function TE(t){return("type"in(e=t)&&e.type.$$typeof)===Nx?Ox:"$$typeof"in t?g9[t.$$typeof]:p9;var e}var y9=Object.defineProperty,v9=Object.getOwnPropertyNames,IE=Object.getOwnPropertySymbols,_9=Object.getOwnPropertyDescriptor,w9=Object.getPrototypeOf,CE=Object.prototype;function Dx(t,e,n){if(typeof e!="string"){if(CE){var r=w9(e);r&&r!==CE&&Dx(t,r,n)}var i=v9(e);IE&&(i=i.concat(IE(e)));for(var s=TE(t),o=TE(e),l=0;l<i.length;++l){var a=i[l];if(!(a in m9||n&&n[a]||o&&a in o||s&&a in s)){var c=_9(e,a);try{y9(t,a,c)}catch{}}}}return t}function ts(t){return typeof t=="function"}function kv(t){return typeof t=="object"&&"styledComponentId"in t}function Oi(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function RE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function dl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Gm(t,e,n){if(n===void 0&&(n=!1),!n&&!dl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Gm(t[r],e[r]);else if(dl(e))for(var r in e)t[r]=Gm(t[r],e[r]);return t}function Nv(t,e){Object.defineProperty(t,"toString",{value:e})}function ns(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var E9=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ns(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),a=(o=0,n.length);o<a;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Pv);return n},t}(),du=new Map,wd=new Map,hu=1,Rc=function(t){if(du.has(t))return du.get(t);for(;wd.has(hu);)hu++;var e=hu++;return du.set(t,e),wd.set(e,t),e},S9=function(t,e){hu=e+1,du.set(t,e),wd.set(e,t)},T9="style[".concat(uo,"][").concat(xx,'="').concat(Uh,'"]'),I9=new RegExp("^".concat(uo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),C9=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},R9=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Pv),i=[],s=0,o=r.length;s<o;s++){var l=r[s].trim();if(l){var a=l.match(I9);if(a){var c=0|parseInt(a[1],10),u=a[2];c!==0&&(S9(u,c),C9(t,u,a[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(l)}}};function x9(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var jx=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var a=Array.from(l.querySelectorAll("style[".concat(uo,"]")));return a[a.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(uo,Rx),r.setAttribute(xx,Uh);var o=x9();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},b9=function(){function t(e){this.element=jx(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ns(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),P9=function(){function t(e){this.element=jx(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),A9=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),xE=Av,k9={isServer:!Av,useCSSOMInjection:!o9},Lx=function(){function t(e,n,r){e===void 0&&(e=ho),n===void 0&&(n={});var i=this;this.options=wt(wt({},k9),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Av&&xE&&(xE=!1,function(s){for(var o=document.querySelectorAll(T9),l=0,a=o.length;l<a;l++){var c=o[l];c&&c.getAttribute(uo)!==Rx&&(R9(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),Nv(this,function(){return function(s){for(var o=s.getTag(),l=o.length,a="",c=function(d){var f=function(y){return wd.get(y)}(d);if(f===void 0)return"continue";var g=s.names.get(f),v=o.getGroup(d);if(g===void 0||v.length===0)return"continue";var E="".concat(uo,".g").concat(d,'[id="').concat(f,'"]'),S="";g!==void 0&&g.forEach(function(y){y.length>0&&(S+="".concat(y,","))}),a+="".concat(v).concat(E,'{content:"').concat(S,'"}').concat(Pv)},u=0;u<l;u++)c(u);return a}(i)})}return t.registerId=function(e){return Rc(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(wt(wt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new A9(i):r?new b9(i):new P9(i)}(this.options),new E9(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Rc(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Rc(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Rc(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),N9=/&/g,O9=/^\s*\/\/.*$/gm;function $x(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=$x(n.children,e)),n})}function D9(t){var e,n,r,i=t===void 0?ho:t,s=i.options,o=s===void 0?ho:s,l=i.plugins,a=l===void 0?zh:l,c=function(f,g,v){return v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(e):f},u=a.slice();u.push(function(f){f.type===$h&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(N9,n).replace(r,c))}),o.prefix&&u.push(i9),u.push(t9);var d=function(f,g,v,E){g===void 0&&(g=""),v===void 0&&(v=""),E===void 0&&(E="&"),e=E,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var S=f.replace(O9,""),y=ZU(v||g?"".concat(v," ").concat(g," { ").concat(S," }"):S);o.namespace&&(y=$x(y,o.namespace));var m=[];return _d(y,n9(u.concat(r9(function(p){return m.push(p)})))),m};return d.hash=a.length?a.reduce(function(f,g){return g.name||ns(15),Os(f,g.name)},Px).toString():"",d}var j9=new Lx,Qm=D9(),Mx=H.createContext({shouldForwardProp:void 0,styleSheet:j9,stylis:Qm});Mx.Consumer;H.createContext(void 0);function bE(){return w.useContext(Mx)}var L9=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Qm);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Nv(this,function(){throw ns(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Qm),this.name+e.hash},t}(),$9=function(t){return t>="A"&&t<="Z"};function PE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;$9(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Vx=function(t){return t==null||t===!1||t===""},Fx=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!Vx(s)&&(Array.isArray(s)&&s.isCss||ts(s)?r.push("".concat(PE(i),":"),s,";"):dl(s)?r.push.apply(r,vd(vd(["".concat(i," {")],Fx(s),!1),["}"],!1)):r.push("".concat(PE(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in s9||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Fi(t,e,n,r){if(Vx(t))return[];if(kv(t))return[".".concat(t.styledComponentId)];if(ts(t)){if(!ts(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Fi(i,e,n,r)}var s;return t instanceof L9?n?(t.inject(n,r),[t.getName(r)]):[t]:dl(t)?Fx(t):Array.isArray(t)?Array.prototype.concat.apply(zh,t.map(function(o){return Fi(o,e,n,r)})):[t.toString()]}function M9(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ts(n)&&!kv(n))return!1}return!0}var V9=Ax(Uh),F9=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&M9(e),this.componentId=n,this.baseHash=Os(V9,n),this.baseStyle=r,Lx.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Oi(i,this.staticRulesId);else{var s=RE(Fi(this.rules,e,n,r)),o=Km(Os(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}i=Oi(i,o),this.staticRulesId=o}else{for(var a=Os(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=RE(Fi(d,e,n,r));a=Os(a,f+u),c+=f}}if(c){var g=Km(a>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(c,".".concat(g),void 0,this.componentId)),i=Oi(i,g)}}return i},t}(),Ed=H.createContext(void 0);Ed.Consumer;function U9(t){var e=H.useContext(Ed),n=w.useMemo(function(){return function(r,i){if(!r)throw ns(14);if(ts(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw ns(8);return i?wt(wt({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?H.createElement(Ed.Provider,{value:n},t.children):null}var ep={};function z9(t,e,n){var r=kv(t),i=t,s=!Zf(t),o=e.attrs,l=o===void 0?zh:o,a=e.componentId,c=a===void 0?function(_,T){var I=typeof _!="string"?"sc":EE(_);ep[I]=(ep[I]||0)+1;var C="".concat(I,"-").concat(d9(Uh+I+ep[I]));return T?"".concat(T,"-").concat(C):C}(e.displayName,e.parentComponentId):a,u=e.displayName,d=u===void 0?function(_){return Zf(_)?"styled.".concat(_):"Styled(".concat(h9(_),")")}(t):u,f=e.displayName&&e.componentId?"".concat(EE(e.displayName),"-").concat(e.componentId):e.componentId||c,g=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,v=e.shouldForwardProp;if(r&&i.shouldForwardProp){var E=i.shouldForwardProp;if(e.shouldForwardProp){var S=e.shouldForwardProp;v=function(_,T){return E(_,T)&&S(_,T)}}else v=E}var y=new F9(n,f,r?i.componentStyle:void 0);function m(_,T){return function(I,C,R){var M=I.attrs,$=I.componentStyle,he=I.defaultProps,Ue=I.foldedComponentIds,ce=I.styledComponentId,Ot=I.target,Dt=H.useContext(Ed),jt=bE(),dt=I.shouldForwardProp||jt.shouldForwardProp,O=a9(C,Dt,he)||ho,V=function(ee,B,ne){for(var pn,rn=wt(wt({},B),{className:void 0,theme:ne}),vi=0;vi<ee.length;vi+=1){var Bt=ts(pn=ee[vi])?pn(rn):pn;for(var ht in Bt)rn[ht]=ht==="className"?Oi(rn[ht],Bt[ht]):ht==="style"?wt(wt({},rn[ht]),Bt[ht]):Bt[ht]}return B.className&&(rn.className=Oi(rn.className,B.className)),rn}(M,C,O),z=V.as||Ot,ae={};for(var Z in V)V[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&V.theme===O||(Z==="forwardedAs"?ae.as=V.forwardedAs:dt&&!dt(Z,z)||(ae[Z]=V[Z]));var j=function(ee,B){var ne=bE(),pn=ee.generateAndInjectStyles(B,ne.styleSheet,ne.stylis);return pn}($,V),W=Oi(Ue,ce);return j&&(W+=" "+j),V.className&&(W+=" "+V.className),ae[Zf(z)&&!bx.has(z)?"class":"className"]=W,ae.ref=R,w.createElement(z,ae)}(p,_,T)}m.displayName=d;var p=H.forwardRef(m);return p.attrs=g,p.componentStyle=y,p.displayName=d,p.shouldForwardProp=v,p.foldedComponentIds=r?Oi(i.foldedComponentIds,i.styledComponentId):"",p.styledComponentId=f,p.target=r?i.target:t,Object.defineProperty(p,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?function(T){for(var I=[],C=1;C<arguments.length;C++)I[C-1]=arguments[C];for(var R=0,M=I;R<M.length;R++)Gm(T,M[R],!0);return T}({},i.defaultProps,_):_}}),Nv(p,function(){return".".concat(p.styledComponentId)}),s&&Dx(p,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),p}function AE(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var kE=function(t){return Object.assign(t,{isCss:!0})};function qe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ts(t)||dl(t))return kE(Fi(AE(zh,vd([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Fi(r):kE(Fi(AE(r,e)))}function Ym(t,e,n){if(n===void 0&&(n=ho),!e)throw ns(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,qe.apply(void 0,vd([i],s,!1)))};return r.attrs=function(i){return Ym(t,e,wt(wt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Ym(t,e,wt(wt({},n),i))},r}var Ux=function(t){return Ym(z9,t)},te=Ux;bx.forEach(function(t){te[t]=Ux(t)});var Qr;function fo(t,e){return t[e]}function B9(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function H9(t=[],e,n="id"){const r=t.slice(),i=fo(e,n);return i?r.splice(r.findIndex(s=>fo(s,n)===i),1):r.splice(r.findIndex(s=>s===e),1),r}function NE(t){return t.map((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r})}function Ta(t,e){return Math.ceil(t/e)}function tp(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(Qr||(Qr={}));const Be=()=>null;function zx(t,e=[],n=[]){let r={},i=[...n];return e.length&&e.forEach(s=>{if(!s.when||typeof s.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');s.when(t)&&(r=s.style||{},s.classNames&&(i=[...i,...s.classNames]),typeof s.style=="function"&&(r=s.style(t)||{}))}),{conditionalStyle:r,classNames:i.join(" ")}}function fu(t,e=[],n="id"){const r=fo(t,n);return r?e.some(i=>fo(i,n)===r):e.some(i=>i===t)}function xc(t,e){return e?t.findIndex(n=>Ia(n.id,e)):-1}function Ia(t,e){return t==e}function W9(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:i,rowCount:s,mergeSelections:o}=e,l=!t.allSelected,a=!t.toggleOnSelectedRowsChange;if(o){const c=l?[...t.selectedRows,...i.filter(u=>!fu(u,t.selectedRows,r))]:t.selectedRows.filter(u=>!fu(u,i,r));return Object.assign(Object.assign({},t),{allSelected:l,selectedCount:c.length,selectedRows:c,toggleOnSelectedRowsChange:a})}return Object.assign(Object.assign({},t),{allSelected:l,selectedCount:l?s:0,selectedRows:l?i:[],toggleOnSelectedRowsChange:a})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:i,isSelected:s,rowCount:o,singleSelect:l}=e;return l?s?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[i],toggleOnSelectedRowsChange:n}):s?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:H9(t.selectedRows,i,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===o,selectedRows:B9(t.selectedRows,i),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:i,totalRows:s,mergeSelections:o}=e;if(o){const l=[...t.selectedRows,...i.filter(a=>!fu(a,t.selectedRows,r))];return Object.assign(Object.assign({},t),{selectedCount:l.length,allSelected:!1,selectedRows:l,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:i.length,allSelected:i.length===s,selectedRows:i,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:i,clearSelectedOnSort:s}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:i,sortDirection:r,currentPage:1}),s&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:i,visibleOnly:s,persistSelectedOnPageChange:o}=e,l=i&&o,a=i&&!o||s;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),l&&{allSelected:!1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:i}=e;return Object.assign(Object.assign({},t),{currentPage:i,rowsPerPage:r})}}}const q9=qe`
	pointer-events: none;
	opacity: 0.4;
`,K9=te.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&q9};
	${({theme:t})=>t.table.style};
`,G9=qe`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,Q9=te.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&G9};
	${({theme:t})=>t.head.style};
`,Y9=te.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,Bx=(t,...e)=>qe`
		@media screen and (max-width: ${599}px) {
			${qe(t,...e)}
		}
	`,X9=(t,...e)=>qe`
		@media screen and (max-width: ${959}px) {
			${qe(t,...e)}
		}
	`,J9=(t,...e)=>qe`
		@media screen and (max-width: ${1280}px) {
			${qe(t,...e)}
		}
	`,Z9=t=>(e,...n)=>qe`
			@media screen and (max-width: ${t}px) {
				${qe(e,...n)}
			}
		`,ko=te.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,Hx=te(ko)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&qe`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&Bx`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&X9`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&J9`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&Z9(t)`
    display: none;
  `};
`,e5=qe`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,t5=te(Hx).attrs(t=>({style:t.style}))`
	${({$renderAsCell:t})=>!t&&e5};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var n5=w.memo(function({id:t,column:e,row:n,rowIndex:r,dataTag:i,isDragging:s,onDragStart:o,onDragOver:l,onDragEnd:a,onDragEnter:c,onDragLeave:u}){const{conditionalStyle:d,classNames:f}=zx(n,e.conditionalCellStyles,["rdt_TableCell"]);return w.createElement(t5,{id:t,"data-column-id":e.id,role:"cell",className:f,"data-tag":i,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:d,$isDragging:s,onDragStart:o,onDragOver:l,onDragEnd:a,onDragEnter:c,onDragLeave:u},!e.cell&&w.createElement("div",{"data-tag":i},function(g,v,E,S){return v?E&&typeof E=="function"?E(g,S):v(g,S):null}(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))});const OE="input";var Wx=w.memo(function({name:t,component:e=OE,componentOptions:n={style:{}},indeterminate:r=!1,checked:i=!1,disabled:s=!1,onClick:o=Be}){const l=e,a=l!==OE?n.style:(u=>Object.assign(Object.assign({fontSize:"18px"},!u&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(s),c=w.useMemo(()=>function(u,...d){let f;return Object.keys(u).map(g=>u[g]).forEach((g,v)=>{typeof g=="function"&&(f=Object.assign(Object.assign({},u),{[Object.keys(u)[v]]:g(...d)}))}),f||u}(n,r),[n,r]);return w.createElement(l,Object.assign({type:"checkbox",ref:u=>{u&&(u.indeterminate=r)},style:a,onClick:s?Be:o,name:t,"aria-label":t,checked:i,disabled:s},c,{onChange:Be}))});const r5=te(ko)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function i5({name:t,keyField:e,row:n,rowCount:r,selected:i,selectableRowsComponent:s,selectableRowsComponentProps:o,selectableRowsSingle:l,selectableRowDisabled:a,onSelectedRow:c}){const u=!(!a||!a(n));return w.createElement(r5,{onClick:d=>d.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},w.createElement(Wx,{name:t,component:s,componentOptions:o,checked:i,"aria-checked":i,onClick:()=>{c({type:"SELECT_SINGLE_ROW",row:n,isSelected:i,keyField:e,rowCount:r,singleSelect:l})},disabled:u}))}const s5=te.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function o5({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:i,onToggled:s}){const o=e?n.expanded:n.collapsed;return w.createElement(s5,{"aria-disabled":t,onClick:()=>s&&s(i),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},o)}const a5=te(ko)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function l5({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:i,disabled:s=!1}){return w.createElement(a5,{onClick:o=>o.stopPropagation(),$noPadding:!0},w.createElement(o5,{id:r,row:t,expanded:e,expandableIcon:n,disabled:s,onToggled:i}))}const c5=te.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var u5=w.memo(function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:i}){const s=["rdt_ExpanderRow",...i.split(" ").filter(o=>o!=="rdt_TableRow")].join(" ");return w.createElement(c5,{className:s,$extendedRowStyle:r},w.createElement(e,Object.assign({data:t},n)))});const np="allowRowEvents";var Sd,Xm,DE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Sd||(Sd={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(Xm||(Xm={})),function(t){t.SM="sm",t.MD="md",t.LG="lg"}(DE||(DE={}));const d5=qe`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,h5=qe`
	&:hover {
		cursor: pointer;
	}
`,f5=te.div.attrs(t=>({style:t.style}))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&d5};
	${({$pointerOnHover:t})=>t&&h5};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function p5({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:i=!1,expandableIcon:s,expandableRows:o=!1,expandableRowsComponent:l,expandableRowsComponentProps:a,expandableRowsHideExpander:c,expandOnRowClicked:u=!1,expandOnRowDoubleClicked:d=!1,highlightOnHover:f=!1,id:g,expandableInheritConditionalStyles:v,keyField:E,onRowClicked:S=Be,onRowDoubleClicked:y=Be,onRowMouseEnter:m=Be,onRowMouseLeave:p=Be,onRowExpandToggled:_=Be,onSelectedRow:T=Be,pointerOnHover:I=!1,row:C,rowCount:R,rowIndex:M,selectableRowDisabled:$=null,selectableRows:he=!1,selectableRowsComponent:Ue,selectableRowsComponentProps:ce,selectableRowsHighlight:Ot=!1,selectableRowsSingle:Dt=!1,selected:jt,striped:dt=!1,draggingColumnId:O,onDragStart:V,onDragOver:z,onDragEnd:ae,onDragEnter:Z,onDragLeave:j}){const[W,ee]=w.useState(n);w.useEffect(()=>{ee(n)},[n]);const B=w.useCallback(()=>{ee(!W),_(!W,C)},[W,_,C]),ne=I||o&&(u||d),pn=w.useCallback(ze=>{ze.target.getAttribute("data-tag")===np&&(S(C,ze),!r&&o&&u&&B())},[r,u,o,B,S,C]),rn=w.useCallback(ze=>{ze.target.getAttribute("data-tag")===np&&(y(C,ze),!r&&o&&d&&B())},[r,d,o,B,y,C]),vi=w.useCallback(ze=>{m(C,ze)},[m,C]),Bt=w.useCallback(ze=>{p(C,ze)},[p,C]),ht=fo(C,E),{conditionalStyle:Wl,classNames:ql}=zx(C,e,["rdt_TableRow"]),Bh=Ot&&jt,Hh=v?Wl:{},Wh=dt&&M%2==0;return w.createElement(w.Fragment,null,w.createElement(f5,{id:`row-${g}`,role:"row",$striped:Wh,$highlightOnHover:f,$pointerOnHover:!r&&ne,$dense:i,onClick:pn,onDoubleClick:rn,onMouseEnter:vi,onMouseLeave:Bt,className:ql,$selected:Bh,$conditionalStyle:Wl},he&&w.createElement(i5,{name:`select-row-${ht}`,keyField:E,row:C,rowCount:R,selected:jt,selectableRowsComponent:Ue,selectableRowsComponentProps:ce,selectableRowDisabled:$,selectableRowsSingle:Dt,onSelectedRow:T}),o&&!c&&w.createElement(l5,{id:ht,expandableIcon:s,expanded:W,row:C,onToggled:B,disabled:r}),t.map(ze=>ze.omit?null:w.createElement(n5,{id:`cell-${ze.id}-${ht}`,key:`cell-${ze.id}-${ht}`,dataTag:ze.ignoreRowClick||ze.button?null:np,column:ze,row:C,rowIndex:M,isDragging:Ia(O,ze.id),onDragStart:V,onDragOver:z,onDragEnd:ae,onDragEnter:Z,onDragLeave:j}))),o&&W&&w.createElement(u5,{key:`expander-${ht}`,data:C,extendedRowStyle:Hh,extendedClassNames:ql,ExpanderComponent:l,expanderComponentProps:a}))}const m5=te.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,g5=({sortActive:t,sortDirection:e})=>H.createElement(m5,{$sortActive:t,$sortDirection:e},"▲"),y5=te(Hx)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,v5=qe`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&qe`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,_5=te.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&v5};
`,w5=te.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var E5=w.memo(function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:i,sortIcon:s,sortServer:o,pagination:l,paginationServer:a,persistSelectedOnSort:c,selectableRowsVisibleOnly:u,onSort:d,onDragStart:f,onDragOver:g,onDragEnd:v,onDragEnter:E,onDragLeave:S}){w.useEffect(()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)},[]);const[y,m]=w.useState(!1),p=w.useRef(null);if(w.useEffect(()=>{p.current&&m(p.current.scrollWidth>p.current.clientWidth)},[y]),t.omit)return null;const _=()=>{if(!t.sortable&&!t.selector)return;let ce=i;Ia(r.id,t.id)&&(ce=i===Qr.ASC?Qr.DESC:Qr.ASC),d({type:"SORT_CHANGE",sortDirection:ce,selectedColumn:t,clearSelectedOnSort:l&&a&&!c||o||u})},T=ce=>w.createElement(g5,{sortActive:ce,sortDirection:i}),I=()=>w.createElement("span",{className:[i,"__rdt_custom_sort_icon__"].join(" ")},s),C=!(!t.sortable||!Ia(r.id,t.id)),R=!t.sortable||e,M=t.sortable&&!s&&!t.right,$=t.sortable&&!s&&t.right,he=t.sortable&&s&&!t.right,Ue=t.sortable&&s&&t.right;return w.createElement(y5,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Ia(t.id,n),onDragStart:f,onDragOver:g,onDragEnd:v,onDragEnter:E,onDragLeave:S},t.name&&w.createElement(_5,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:R?void 0:_,onKeyPress:R?void 0:ce=>{ce.key==="Enter"&&_()},$sortActive:!R&&C,disabled:R},!R&&Ue&&I(),!R&&$&&T(C),typeof t.name=="string"?w.createElement(w5,{title:y?t.name:void 0,ref:p,"data-column-id":t.id},t.name):t.name,!R&&he&&I(),!R&&M&&T(C)))});const S5=te(ko)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function T5({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:i,selectedRows:s,selectableRowsComponent:o,selectableRowsComponentProps:l,selectableRowDisabled:a,onSelectAllRows:c}){const u=s.length>0&&!r,d=a?e.filter(v=>!a(v)):e,f=d.length===0,g=Math.min(e.length,d.length);return w.createElement(S5,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},w.createElement(Wx,{name:"select-all-rows",component:o,componentOptions:l,onClick:()=>{c({type:"SELECT_ALL_ROWS",rows:d,rowCount:g,mergeSelections:i,keyField:n})},checked:r,indeterminate:u,disabled:f}))}function qx(t=Sd.AUTO){const e=typeof window=="object",[n,r]=w.useState(!1);return w.useEffect(()=>{if(e)if(t!=="auto")r(t==="rtl");else{const i=!(!window.document||!window.document.createElement),s=document.getElementsByTagName("BODY")[0],o=document.getElementsByTagName("HTML")[0],l=s.dir==="rtl"||o.dir==="rtl";r(i&&l)}},[t,e]),n}const I5=te.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,C5=te.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,jE=te.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function R5({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:i}){const s=qx(i),o=r>0;return n?w.createElement(jE,{$visible:o},w.cloneElement(n,{selectedCount:r})):w.createElement(jE,{$visible:o,$rtl:s},w.createElement(I5,null,((l,a,c)=>{if(a===0)return null;const u=a===1?l.singular:l.plural;return c?`${a} ${l.message||""} ${u}`:`${a} ${u} ${l.message||""}`})(t,r,s)),w.createElement(C5,null,e))}const x5=te.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,b5=te.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,P5=te.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,A5=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:i,selectedCount:s,direction:o,showMenu:l=!0})=>w.createElement(x5,{className:"rdt_TableHeader",role:"heading","aria-level":1},w.createElement(b5,null,t),e&&w.createElement(P5,null,e),l&&w.createElement(R5,{contextMessage:n,contextActions:r,contextComponent:i,direction:o,selectedCount:s}));function Kx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const k5={left:"flex-start",right:"flex-end",center:"center"},N5=te.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>k5[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,O5=t=>{var{align:e="right",wrapContent:n=!0}=t,r=Kx(t,["align","wrapContent"]);return w.createElement(N5,Object.assign({align:e,$wrapContent:n},r))},D5=te.div`
	display: flex;
	flex-direction: column;
`,j5=te.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&qe`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&qe`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,LE=te.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,L5=te.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,$5=te(ko)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,M5=te.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,V5=()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},H.createElement("path",{d:"M7 10l5 5 5-5z"}),H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),F5=te.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,U5=te.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,z5=t=>{var{defaultValue:e,onChange:n}=t,r=Kx(t,["defaultValue","onChange"]);return w.createElement(U5,null,w.createElement(F5,Object.assign({onChange:n,defaultValue:e},r)),w.createElement(V5,null))},A={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return H.createElement("div",null,"To add an expander pass in a component instance via ",H.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:H.createElement(()=>H.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},H.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),H.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"})),null),expanded:H.createElement(()=>H.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},H.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),H.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"})),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:H.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:H.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Xm.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),H.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"})),null),paginationIconLastPage:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),H.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),null),paginationIconNext:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),paginationIconPrevious:H.createElement(()=>H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},H.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),H.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Sd.AUTO,onChangePage:Be,onChangeRowsPerPage:Be,onRowClicked:Be,onRowDoubleClicked:Be,onRowMouseEnter:Be,onRowMouseLeave:Be,onRowExpandToggled:Be,onSelectedRowsChange:Be,onSort:Be,onColumnOrderChange:Be},B5={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},H5=te.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,bc=te.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,W5=te.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${Bx`
    width: 100%;
    justify-content: space-around;
  `};
`,Gx=te.span`
	flex-shrink: 1;
	user-select: none;
`,q5=te(Gx)`
	margin: 0 24px;
`,K5=te(Gx)`
	margin: 0 4px;
`;var G5=w.memo(function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=A.direction,paginationRowsPerPageOptions:i=A.paginationRowsPerPageOptions,paginationIconLastPage:s=A.paginationIconLastPage,paginationIconFirstPage:o=A.paginationIconFirstPage,paginationIconNext:l=A.paginationIconNext,paginationIconPrevious:a=A.paginationIconPrevious,paginationComponentOptions:c=A.paginationComponentOptions,onChangeRowsPerPage:u=A.onChangeRowsPerPage,onChangePage:d=A.onChangePage}){const f=(()=>{const ce=typeof window=="object";function Ot(){return{width:ce?window.innerWidth:void 0,height:ce?window.innerHeight:void 0}}const[Dt,jt]=w.useState(Ot);return w.useEffect(()=>{if(!ce)return()=>null;function dt(){jt(Ot())}return window.addEventListener("resize",dt),()=>window.removeEventListener("resize",dt)},[]),Dt})(),g=qx(r),v=f.width&&f.width>599,E=Ta(e,t),S=n*t,y=S-t+1,m=n===1,p=n===E,_=Object.assign(Object.assign({},B5),c),T=n===E?`${y}-${e} ${_.rangeSeparatorText} ${e}`:`${y}-${S} ${_.rangeSeparatorText} ${e}`,I=w.useCallback(()=>d(n-1),[n,d]),C=w.useCallback(()=>d(n+1),[n,d]),R=w.useCallback(()=>d(1),[d]),M=w.useCallback(()=>d(Ta(e,t)),[d,e,t]),$=w.useCallback(ce=>u(Number(ce.target.value),n),[n,u]),he=i.map(ce=>w.createElement("option",{key:ce,value:ce},ce));_.selectAllRowsItem&&he.push(w.createElement("option",{key:-1,value:e},_.selectAllRowsItemText));const Ue=w.createElement(z5,{onChange:$,defaultValue:t,"aria-label":_.rowsPerPageText},he);return w.createElement(H5,{className:"rdt_Pagination"},!_.noRowsPerPage&&v&&w.createElement(w.Fragment,null,w.createElement(K5,null,_.rowsPerPageText),Ue),v&&w.createElement(q5,null,T),w.createElement(W5,null,w.createElement(bc,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":m,onClick:R,disabled:m,$isRTL:g},o),w.createElement(bc,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":m,onClick:I,disabled:m,$isRTL:g},a),!_.noRowsPerPage&&!v&&Ue,w.createElement(bc,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":p,onClick:C,disabled:p,$isRTL:g},l),w.createElement(bc,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":p,onClick:M,disabled:p,$isRTL:g},s)))});const Ii=(t,e)=>{const n=w.useRef(!0);w.useEffect(()=>{n.current?n.current=!1:t()},e)};function Q5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y5=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===X5}(e)}(t)},X5=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function hl(t,e){return e.clone!==!1&&e.isMergeableObject(t)?po((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function J5(t,e,n){return t.concat(e).map(function(r){return hl(r,n)})}function $E(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}(t))}function ME(t,e){try{return e in t}catch{return!1}}function Z5(t,e,n){var r={};return n.isMergeableObject(t)&&$E(t).forEach(function(i){r[i]=hl(t[i],n)}),$E(e).forEach(function(i){(function(s,o){return ME(s,o)&&!(Object.hasOwnProperty.call(s,o)&&Object.propertyIsEnumerable.call(s,o))})(t,i)||(ME(t,i)&&n.isMergeableObject(e[i])?r[i]=function(s,o){if(!o.customMerge)return po;var l=o.customMerge(s);return typeof l=="function"?l:po}(i,n)(t[i],e[i],n):r[i]=hl(e[i],n))}),r}function po(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||J5,n.isMergeableObject=n.isMergeableObject||Y5,n.cloneUnlessOtherwiseSpecified=hl;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):Z5(t,e,n):hl(e,n)}po.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return po(n,r,e)},{})};var e6=Q5(po);const VE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},FE={default:VE,light:VE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function t6(t,e,n,r){const[i,s]=w.useState(()=>NE(t)),[o,l]=w.useState(""),a=w.useRef("");Ii(()=>{s(NE(t))},[t]);const c=w.useCallback(S=>{var y,m,p;const{attributes:_}=S.target,T=(y=_.getNamedItem("data-column-id"))===null||y===void 0?void 0:y.value;T&&(a.current=((p=(m=i[xc(i,T)])===null||m===void 0?void 0:m.id)===null||p===void 0?void 0:p.toString())||"",l(a.current))},[i]),u=w.useCallback(S=>{var y;const{attributes:m}=S.target,p=(y=m.getNamedItem("data-column-id"))===null||y===void 0?void 0:y.value;if(p&&a.current&&p!==a.current){const _=xc(i,a.current),T=xc(i,p),I=[...i];I[_]=i[T],I[T]=i[_],s(I),e(I)}},[e,i]),d=w.useCallback(S=>{S.preventDefault()},[]),f=w.useCallback(S=>{S.preventDefault()},[]),g=w.useCallback(S=>{S.preventDefault(),a.current="",l("")},[]),v=function(S=!1){return S?Qr.ASC:Qr.DESC}(r),E=w.useMemo(()=>i[xc(i,n==null?void 0:n.toString())]||{},[n,i]);return{tableColumns:i,draggingColumnId:o,handleDragStart:c,handleDragEnter:u,handleDragOver:d,handleDragLeave:f,handleDragEnd:g,defaultSortDirection:v,defaultSortColumn:E}}var n6=w.memo(function(t){const{data:e=A.data,columns:n=A.columns,title:r=A.title,actions:i=A.actions,keyField:s=A.keyField,striped:o=A.striped,highlightOnHover:l=A.highlightOnHover,pointerOnHover:a=A.pointerOnHover,dense:c=A.dense,selectableRows:u=A.selectableRows,selectableRowsSingle:d=A.selectableRowsSingle,selectableRowsHighlight:f=A.selectableRowsHighlight,selectableRowsNoSelectAll:g=A.selectableRowsNoSelectAll,selectableRowsVisibleOnly:v=A.selectableRowsVisibleOnly,selectableRowSelected:E=A.selectableRowSelected,selectableRowDisabled:S=A.selectableRowDisabled,selectableRowsComponent:y=A.selectableRowsComponent,selectableRowsComponentProps:m=A.selectableRowsComponentProps,onRowExpandToggled:p=A.onRowExpandToggled,onSelectedRowsChange:_=A.onSelectedRowsChange,expandableIcon:T=A.expandableIcon,onChangeRowsPerPage:I=A.onChangeRowsPerPage,onChangePage:C=A.onChangePage,paginationServer:R=A.paginationServer,paginationServerOptions:M=A.paginationServerOptions,paginationTotalRows:$=A.paginationTotalRows,paginationDefaultPage:he=A.paginationDefaultPage,paginationResetDefaultPage:Ue=A.paginationResetDefaultPage,paginationPerPage:ce=A.paginationPerPage,paginationRowsPerPageOptions:Ot=A.paginationRowsPerPageOptions,paginationIconLastPage:Dt=A.paginationIconLastPage,paginationIconFirstPage:jt=A.paginationIconFirstPage,paginationIconNext:dt=A.paginationIconNext,paginationIconPrevious:O=A.paginationIconPrevious,paginationComponent:V=A.paginationComponent,paginationComponentOptions:z=A.paginationComponentOptions,responsive:ae=A.responsive,progressPending:Z=A.progressPending,progressComponent:j=A.progressComponent,persistTableHead:W=A.persistTableHead,noDataComponent:ee=A.noDataComponent,disabled:B=A.disabled,noTableHead:ne=A.noTableHead,noHeader:pn=A.noHeader,fixedHeader:rn=A.fixedHeader,fixedHeaderScrollHeight:vi=A.fixedHeaderScrollHeight,pagination:Bt=A.pagination,subHeader:ht=A.subHeader,subHeaderAlign:Wl=A.subHeaderAlign,subHeaderWrap:ql=A.subHeaderWrap,subHeaderComponent:Bh=A.subHeaderComponent,noContextMenu:Hh=A.noContextMenu,contextMessage:Wh=A.contextMessage,contextActions:ze=A.contextActions,contextComponent:rb=A.contextComponent,expandableRows:Kl=A.expandableRows,onRowClicked:Dv=A.onRowClicked,onRowDoubleClicked:jv=A.onRowDoubleClicked,onRowMouseEnter:Lv=A.onRowMouseEnter,onRowMouseLeave:$v=A.onRowMouseLeave,sortIcon:ib=A.sortIcon,onSort:sb=A.onSort,sortFunction:Mv=A.sortFunction,sortServer:qh=A.sortServer,expandableRowsComponent:ob=A.expandableRowsComponent,expandableRowsComponentProps:ab=A.expandableRowsComponentProps,expandableRowDisabled:Vv=A.expandableRowDisabled,expandableRowsHideExpander:Fv=A.expandableRowsHideExpander,expandOnRowClicked:lb=A.expandOnRowClicked,expandOnRowDoubleClicked:cb=A.expandOnRowDoubleClicked,expandableRowExpanded:Uv=A.expandableRowExpanded,expandableInheritConditionalStyles:ub=A.expandableInheritConditionalStyles,defaultSortFieldId:db=A.defaultSortFieldId,defaultSortAsc:hb=A.defaultSortAsc,clearSelectedRows:zv=A.clearSelectedRows,conditionalRowStyles:fb=A.conditionalRowStyles,theme:Bv=A.theme,customStyles:Hv=A.customStyles,direction:No=A.direction,onColumnOrderChange:pb=A.onColumnOrderChange,className:mb}=t,{tableColumns:Wv,draggingColumnId:qv,handleDragStart:Kv,handleDragEnter:Gv,handleDragOver:Qv,handleDragLeave:Yv,handleDragEnd:Xv,defaultSortDirection:gb,defaultSortColumn:yb}=t6(n,pb,db,hb),[{rowsPerPage:wr,currentPage:mn,selectedRows:Kh,allSelected:Jv,selectedCount:Zv,selectedColumn:kn,sortDirection:us,toggleOnSelectedRowsChange:vb},_i]=w.useReducer(W9,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:yb,toggleOnSelectedRowsChange:!1,sortDirection:gb,currentPage:he,rowsPerPage:ce,selectedRowsFlag:!1,contextMessage:A.contextMessage}),{persistSelectedOnSort:e_=!1,persistSelectedOnPageChange:Gl=!1}=M,t_=!(!R||!Gl&&!e_),_b=Bt&&!Z&&e.length>0,wb=V||G5,Eb=w.useMemo(()=>((q={},ue="default",Ct="default")=>{const gn=FE[ue]?ue:Ct;return e6({table:{style:{color:(K=FE[gn]).text.primary,backgroundColor:K.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:K.text.primary,backgroundColor:K.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:K.background.default,minHeight:"52px"}},head:{style:{color:K.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:K.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:K.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:K.context.background,fontSize:"18px",fontWeight:400,color:K.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:K.text.primary,backgroundColor:K.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:K.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:K.selected.text,backgroundColor:K.selected.default,borderBottomColor:K.background.default}},highlightOnHoverStyle:{color:K.highlightOnHover.text,backgroundColor:K.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:K.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:K.background.default},stripedStyle:{color:K.striped.text,backgroundColor:K.striped.default}},expanderRow:{style:{color:K.text.primary,backgroundColor:K.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:K.button.default,fill:K.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:K.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:K.button.hover},"&:focus":{outline:"none",backgroundColor:K.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:K.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:K.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:K.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:K.button.default,fill:K.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:K.button.disabled,fill:K.button.disabled},"&:hover:not(:disabled)":{backgroundColor:K.button.hover},"&:focus":{outline:"none",backgroundColor:K.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:K.text.primary,backgroundColor:K.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:K.text.primary,backgroundColor:K.background.default}}},q);var K})(Hv,Bv),[Hv,Bv]),Sb=w.useMemo(()=>Object.assign({},No!=="auto"&&{dir:No}),[No]),ft=w.useMemo(()=>{if(qh)return e;if(kn!=null&&kn.sortFunction&&typeof kn.sortFunction=="function"){const q=kn.sortFunction,ue=us===Qr.ASC?q:(Ct,gn)=>-1*q(Ct,gn);return[...e].sort(ue)}return function(q,ue,Ct,gn){return ue?gn&&typeof gn=="function"?gn(q.slice(0),ue,Ct):q.slice(0).sort((K,Gh)=>{const hs=ue(K),Er=ue(Gh);if(Ct==="asc"){if(hs<Er)return-1;if(hs>Er)return 1}if(Ct==="desc"){if(hs>Er)return-1;if(hs<Er)return 1}return 0}):q}(e,kn==null?void 0:kn.selector,us,Mv)},[qh,kn,us,e,Mv]),Oo=w.useMemo(()=>{if(Bt&&!R){const q=mn*wr,ue=q-wr;return ft.slice(ue,q)}return ft},[mn,Bt,R,wr,ft]),Tb=w.useCallback(q=>{_i(q)},[]),Ib=w.useCallback(q=>{_i(q)},[]),Cb=w.useCallback(q=>{_i(q)},[]),Rb=w.useCallback((q,ue)=>Dv(q,ue),[Dv]),xb=w.useCallback((q,ue)=>jv(q,ue),[jv]),bb=w.useCallback((q,ue)=>Lv(q,ue),[Lv]),Pb=w.useCallback((q,ue)=>$v(q,ue),[$v]),ds=w.useCallback(q=>_i({type:"CHANGE_PAGE",page:q,paginationServer:R,visibleOnly:v,persistSelectedOnPageChange:Gl}),[R,Gl,v]),Ab=w.useCallback(q=>{const ue=Ta($||Oo.length,q),Ct=tp(mn,ue);R||ds(Ct),_i({type:"CHANGE_ROWS_PER_PAGE",page:Ct,rowsPerPage:q})},[mn,ds,R,$,Oo.length]);if(Bt&&!R&&ft.length>0&&Oo.length===0){const q=Ta(ft.length,wr),ue=tp(mn,q);ds(ue)}Ii(()=>{_({allSelected:Jv,selectedCount:Zv,selectedRows:Kh.slice(0)})},[vb]),Ii(()=>{sb(kn,us,ft.slice(0))},[kn,us]),Ii(()=>{C(mn,$||ft.length)},[mn]),Ii(()=>{I(wr,mn)},[wr]),Ii(()=>{ds(he)},[he,Ue]),Ii(()=>{if(Bt&&R&&$>0){const q=Ta($,wr),ue=tp(mn,q);mn!==ue&&ds(ue)}},[$]),w.useEffect(()=>{_i({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:zv})},[d,zv]),w.useEffect(()=>{if(!E)return;const q=ft.filter(Ct=>E(Ct)),ue=d?q.slice(0,1):q;_i({type:"SELECT_MULTIPLE_ROWS",keyField:s,selectedRows:ue,totalRows:ft.length,mergeSelections:t_})},[e,E]);const kb=v?Oo:ft,Nb=Gl||d||g;return w.createElement(U9,{theme:Eb},!pn&&(!!r||!!i)&&w.createElement(A5,{title:r,actions:i,showMenu:!Hh,selectedCount:Zv,direction:No,contextActions:ze,contextComponent:rb,contextMessage:Wh}),ht&&w.createElement(O5,{align:Wl,wrapContent:ql},Bh),w.createElement(j5,Object.assign({$responsive:ae,$fixedHeader:rn,$fixedHeaderScrollHeight:vi,className:mb},Sb),w.createElement(L5,null,Z&&!W&&w.createElement(LE,null,j),w.createElement(K9,{disabled:B,className:"rdt_Table",role:"table"},!ne&&(!!W||ft.length>0&&!Z)&&w.createElement(Q9,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:rn},w.createElement(Y9,{className:"rdt_TableHeadRow",role:"row",$dense:c},u&&(Nb?w.createElement(ko,{style:{flex:"0 0 48px"}}):w.createElement(T5,{allSelected:Jv,selectedRows:Kh,selectableRowsComponent:y,selectableRowsComponentProps:m,selectableRowDisabled:S,rowData:kb,keyField:s,mergeSelections:t_,onSelectAllRows:Ib})),Kl&&!Fv&&w.createElement($5,null),Wv.map(q=>w.createElement(E5,{key:q.id,column:q,selectedColumn:kn,disabled:Z||ft.length===0,pagination:Bt,paginationServer:R,persistSelectedOnSort:e_,selectableRowsVisibleOnly:v,sortDirection:us,sortIcon:ib,sortServer:qh,onSort:Tb,onDragStart:Kv,onDragOver:Qv,onDragEnd:Xv,onDragEnter:Gv,onDragLeave:Yv,draggingColumnId:qv})))),!ft.length&&!Z&&w.createElement(M5,null,ee),Z&&W&&w.createElement(LE,null,j),!Z&&ft.length>0&&w.createElement(D5,{className:"rdt_TableBody",role:"rowgroup"},Oo.map((q,ue)=>{const Ct=fo(q,s),gn=function(Er=""){return typeof Er!="number"&&(!Er||Er.length===0)}(Ct)?ue:Ct,K=fu(q,Kh,s),Gh=!!(Kl&&Uv&&Uv(q)),hs=!!(Kl&&Vv&&Vv(q));return w.createElement(p5,{id:gn,key:gn,keyField:s,"data-row-id":gn,columns:Wv,row:q,rowCount:ft.length,rowIndex:ue,selectableRows:u,expandableRows:Kl,expandableIcon:T,highlightOnHover:l,pointerOnHover:a,dense:c,expandOnRowClicked:lb,expandOnRowDoubleClicked:cb,expandableRowsComponent:ob,expandableRowsComponentProps:ab,expandableRowsHideExpander:Fv,defaultExpanderDisabled:hs,defaultExpanded:Gh,expandableInheritConditionalStyles:ub,conditionalRowStyles:fb,selected:K,selectableRowsHighlight:f,selectableRowsComponent:y,selectableRowsComponentProps:m,selectableRowDisabled:S,selectableRowsSingle:d,striped:o,onRowExpandToggled:p,onRowClicked:Rb,onRowDoubleClicked:xb,onRowMouseEnter:bb,onRowMouseLeave:Pb,onSelectedRow:Cb,draggingColumnId:qv,onDragStart:Kv,onDragOver:Qv,onDragEnd:Xv,onDragEnter:Gv,onDragLeave:Yv})}))))),_b&&w.createElement("div",null,w.createElement(wb,{onChangePage:ds,onChangeRowsPerPage:Ab,rowCount:$||ft.length,currentPage:mn,rowsPerPage:wr,direction:No,paginationRowsPerPageOptions:Ot,paginationIconLastPage:Dt,paginationIconFirstPage:jt,paginationIconNext:dt,paginationIconPrevious:O,paginationComponentOptions:z})))});function r6(t){return h.jsx(n6,{pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,15,20,25],noDataComponent:"No hay información para mostrar.",striped:!0,fixedHeader:!0,fixedHeaderScrollHeight:"80vh",responsive:!0,...t})}const i6=t=>h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":`#ver-${t.id}`,children:h.jsx(vx,{})}),h.jsx("div",{className:"modal fade",id:`ver-${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:h.jsx("div",{className:"modal-dialog modal-lg",children:h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h1",{className:"modal-title fs-5",children:`Información del Curso: ${t.nombre}`}),h.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),h.jsx("div",{className:"modal-body text-start",children:h.jsxs("div",{className:"row",children:[h.jsx("div",{className:"col",style:{width:"50%",height:"auto"},children:h.jsx("img",{src:t.download_url,alt:"Imagen",style:{width:"100%",height:"100%"}})}),h.jsxs("div",{className:"col",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Nombre:"})," ",t.nombre]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Descripción:"})," ",t.descripcion]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Modalidad:"})," ",t.modalidad==0?"Presencial":t.modalidad==1?"Virtual":"Mixta"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fecha de Inicio:"})," ",t.fecha_inicio instanceof Ie?t.fecha_inicio.toDate().toLocaleDateString():""]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fecha de Fin:"})," ",t.fecha_finalizacion instanceof Ie?t.fecha_finalizacion.toDate().toLocaleDateString():""]}),t.link_plataforma&&h.jsxs("p",{children:[h.jsx("strong",{children:"Link del Curso:"})," ",h.jsx("a",{href:t.link_plataforma,target:"_blank",rel:"noopener noreferrer",children:t.link_plataforma})]}),h.jsx("p",{children:h.jsx("strong",{children:"Horario:"})}),h.jsx("ul",{children:t.horario.map((e,n)=>h.jsxs("li",{children:[e.dia,": ",e.hora]},n))})]})]})}),h.jsx("div",{className:"modal-footer",children:h.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"})})]})})})]}),s6=()=>{const t=yi(tx),e=we(a=>{var c;return(c=a.auth.user)==null?void 0:c.correo}),n=async a=>{let c=[],u=!1;t.cursos.map(d=>{var f,g,v,E;(f=d.aprobados)==null||f.filter(S=>{if(console.log(S,a),S==a){console.log("entraaaa");const y={id:d.id,nombre:d.nombre,horario:d.horario,download_url:d.download_url,descripcion:d.descripcion,modalidad:d.modalidad,fecha_inicio:d.fecha_inicio,fecha_finalizacion:d.fecha_finalizacion,link_plataforma:d.link_plataforma,estado:"Aprobado"};c=[...c,y],u=!0}}),u==!1&&((g=d.reprobados)==null||g.filter(S=>{if(console.log(S,a),S==a){console.log("entra reprobado");const y={id:d.id,nombre:d.nombre,horario:d.horario,download_url:d.download_url,descripcion:d.descripcion,modalidad:d.modalidad,fecha_inicio:d.fecha_inicio,fecha_finalizacion:d.fecha_finalizacion,link_plataforma:d.link_plataforma,estado:"Reprobado"};c=[...c,y],u=!0}})),u==!1&&((v=d.matriculados)==null||v.filter(S=>{if(console.log(S,a),S==a){console.log("entra matriculado");const y={id:d.id,nombre:d.nombre,horario:d.horario,download_url:d.download_url,descripcion:d.descripcion,modalidad:d.modalidad,fecha_inicio:d.fecha_inicio,fecha_finalizacion:d.fecha_finalizacion,link_plataforma:d.link_plataforma,estado:"Matriculado"};c=[...c,y],u=!0}})),u==!1&&((E=d.postulados)==null||E.filter(S=>{if(console.log(S.id,a),S.id==a){console.log("entra postulado");const y={id:d.id,nombre:d.nombre,horario:d.horario,download_url:d.download_url,descripcion:d.descripcion,modalidad:d.modalidad,fecha_inicio:d.fecha_inicio,fecha_finalizacion:d.fecha_finalizacion,link_plataforma:d.link_plataforma,estado:"Espera"};c=[...c,y],u=!0}})),u=!1}),s.current=c},r=async a=>{const d=(await xo("/Usuarios")).map(f=>({idUsuario:f.id,userInfo:f})).filter(f=>f.userInfo.correo===a);i.current=d[0].idUsuario};w.useEffect(()=>{(async()=>(await r(e),await n(i.current),console.log(s.current,"tableInfo")))()},[]);const i=w.useRef(),s=w.useRef(),o=s.current,l=[{name:"Nombre",selector:a=>a.nombre,cell:a=>h.jsx("div",{className:"text-start",children:a.nombre}),sortable:!0},{name:"Horario",selector:a=>a.horario,cell:a=>h.jsx("div",{className:"text-start",children:a.horario.map((c,u)=>h.jsxs("div",{className:"row",children:[c.dia,": ",c.hora]},u))}),sortable:!0},{name:"Modalidad",selector:a=>a.modalidad,cell:a=>a.modalidad==0?h.jsx("div",{children:"Presencial"}):a.modalidad==1?h.jsx("div",{children:"Virtual"}):a.modalidad==2?h.jsx("div",{children:"Mixta"}):h.jsx("div",{children:"Desconocido"}),sortable:!0},{name:"Estado",selector:a=>a.estado,cell:a=>h.jsx("div",{className:"text-start",children:a.estado}),sortable:!0},{name:"Ver",cell:a=>h.jsx(i6,{...a})}];return h.jsx(h.Fragment,{children:h.jsx(r6,{columns:l,data:o})})},o6=()=>{const t=gi();return w.useEffect(()=>{t(Ea())},[]),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{children:"Lista de cursos"}),h.jsx("span",{children:"En esta sección podrás ver los cursos en los que te encuentras inscrito."}),h.jsx(s6,{})]})})},a6=()=>h.jsxs(Z3,{children:[h.jsx(sn,{path:"/client-system/",element:h.jsx(pE,{})}),h.jsx(sn,{path:"/client-system/home",element:h.jsx(pE,{})}),h.jsx(sn,{path:"/client-system/iniciar-sesion",element:h.jsx(IU,{})}),h.jsx(sn,{path:"/client-system/crear-cuenta",element:h.jsx(RU,{})}),h.jsx(sn,{path:"/client-system/cursos",element:h.jsx(xU,{})}),h.jsx(sn,{path:"/client-system/about",element:h.jsx(AU,{})}),h.jsx(sn,{path:"/client-system/mi-perfil",element:h.jsx(NU,{})}),h.jsx(sn,{path:"/client-system/mis-cursos",element:h.jsx(o6,{})}),h.jsx(sn,{path:"/client-system/avisos",element:h.jsx(jU,{})}),h.jsx(sn,{path:"/client-system/servicios",element:h.jsx(MU,{})}),h.jsx(sn,{path:"/client-system/cursos/:nombre",element:h.jsx(FU,{})})]}),l6=()=>{const t=Kg(),e=we(a=>a.auth.user),n=we(a=>a.auth.loggedIn),r=we(a=>a.empresa.dataEmpresa),[i,s]=w.useState("");w.useEffect(()=>{(async()=>{const a=Xd(Ah,"Empresa/Logo/logo");Yd(a).then(c=>{s(c)}).catch(c=>{console.error("Error descargando el logo:",c)})})()},[]);const o=Bl(),l=()=>{t(CF()),o("/client-system/",{replace:!0})};return h.jsx("div",{className:"navbar-container shadow-lg",children:h.jsx("nav",{className:"navbar navbar-expand-sm fixed-top text-dark bg-light p-2",children:h.jsxs("div",{className:"container-fluid",children:[e&&n&&h.jsx(vn,{className:"navbar-brand",to:"/client-system/",children:h.jsx("img",{src:i,alt:"Logo",width:"110",height:"80"})}),!e&&!n&&h.jsx(vn,{className:"navbar-brand",to:"/client-system/",children:h.jsx("img",{src:i,alt:"Logo",width:"110",height:"80"})}),h.jsx("h5",{className:"navbar-title-text d-none d-sm-inline-block",children:(r==null?void 0:r.titulo_footer)??"Unión Cantonal de Asociaciones Guatuso"}),h.jsx("button",{className:"navbar-toggler navbar-white navbar-toggler-custom",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:h.jsx("span",{className:"navbar-toggler-icon"})}),h.jsx("div",{className:"collapse navbar-collapse navbar-collapse-custom",id:"navbarTogglerDemo01",children:h.jsx("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2 d-flex d-md-flex justify-content-md-end",children:h.jsx("ul",{className:"navbar-nav ",children:h.jsxs("div",{className:"navbar-nav",children:[h.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/client-system/",end:!0,onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Inicio"}),h.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/client-system/cursos",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Cursos"}),h.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/client-system/servicios",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Servicios"}),h.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/client-system/avisos",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Avisos"}),h.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/client-system/about",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Acerca"}),n&&e&&h.jsxs(h.Fragment,{children:[h.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/client-system/mis-cursos",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Mis Cursos"}),h.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-white`,to:"/client-system/mi-perfil",onClick:()=>{var a;return(a=document.getElementById("navbarTogglerDemo01"))==null?void 0:a.classList.remove("show")},children:"Mi Perfil"}),h.jsxs("button",{className:"nav-item nav-link btn navbar-text-white close-color",onClick:l,children:[h.jsx("i",{className:"fa-solid fa-right-from-bracket me-2"}),"Cerrar Sesión"]})]}),!n&&!e&&h.jsx(vn,{className:({isActive:a})=>`nav-item nav-link ${a?"active":""} navbar-text-logIn`,to:"/client-system/iniciar-sesion",children:"Iniciar Sesión"})]})})})})]})})})};class Hl{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const c6=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},st={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:c6()},Ov=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},u6=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Ov(t);st.publicKey=n.publicKey,st.blockHeadless=n.blockHeadless,st.storageProvider=n.storageProvider,st.blockList=n.blockList,st.limitRate=n.limitRate,st.origin=n.origin||e},Qx=async(t,e,n={})=>{const r=await fetch(st.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new Hl(r.status,i);if(r.ok)return s;throw s},Yx=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},d6=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Xx=t=>t.webdriver||!t.languages||t.languages.length===0,Jx=()=>new Hl(451,"Unavailable For Headless Browser"),h6=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},f6=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},p6=(t,e)=>t instanceof FormData?t.get(e):t[e],Zx=(t,e)=>{if(f6(t))return!1;h6(t.list,t.watchVariable);const n=p6(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},eb=()=>new Hl(403,"Forbidden"),m6=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},g6=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},tb=async(t,e,n)=>{if(!e.throttle||!n)return!1;m6(e.throttle,e.id);const r=e.id||t;return await g6(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},nb=()=>new Hl(429,"Too Many Requests"),y6=async(t,e,n,r)=>{const i=Ov(r),s=i.publicKey||st.publicKey,o=i.blockHeadless||st.blockHeadless,l=st.storageProvider||i.storageProvider,a={...st.blockList,...i.blockList},c={...st.limitRate,...i.limitRate};return o&&Xx(navigator)?Promise.reject(Jx()):(Yx(s,t,e),d6(n),n&&Zx(a,n)?Promise.reject(eb()):await tb(location.pathname,c,l)?Promise.reject(nb()):Qx("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},v6=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},_6=t=>typeof t=="string"?document.querySelector(t):t,w6=async(t,e,n,r)=>{const i=Ov(r),s=i.publicKey||st.publicKey,o=i.blockHeadless||st.blockHeadless,l=st.storageProvider||i.storageProvider,a={...st.blockList,...i.blockList},c={...st.limitRate,...i.limitRate};if(o&&Xx(navigator))return Promise.reject(Jx());const u=_6(n);Yx(s,t,e),v6(u);const d=new FormData(u);return Zx(a,d)?Promise.reject(eb()):await tb(location.pathname,c,l)?Promise.reject(nb()):(d.append("lib_version","4.3.3"),d.append("service_id",t),d.append("template_id",e),d.append("user_id",s),Qx("/api/v1.0/email/send-form",d))},E6={init:u6,send:y6,sendForm:w6,EmailJSResponseStatus:Hl},S6=({referenciaForm:t})=>{const e="service_8ymw9gn",n="contact_form",r="Z5h6nUaQ9KoLIq2kN";return new Promise((i,s)=>{E6.sendForm(e,n,t.current,{publicKey:r}).then(()=>{console.log("MSJ DE CORREO ENVIADO EXITOSAMENTE"),i(!0)},o=>{console.log("FAILED... NO SE PUDO MANDAR EL MSJ DE CORREO",o.text),s(!1)})})},T6=({referenciaForm:t,onSubmit:e})=>{const n=we(r=>r.auth.user);return h.jsx(h.Fragment,{children:h.jsxs("form",{ref:t,id:"modal-details",onSubmit:e,children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"nombre",className:"col-form-label",children:"Nombre:"}),h.jsx("input",{type:"text",name:"from_name",className:"form-control",id:"nombre",value:n==null?void 0:n.nombre,readOnly:!0}),h.jsx("label",{htmlFor:"correoUsuario",className:"col-form-label",children:"Correo electrónico:"}),h.jsx("input",{type:"text",name:"user_email",className:"form-control",id:"correoUsuario",value:n==null?void 0:n.correo,readOnly:!0}),h.jsx("label",{htmlFor:"asunto",className:"col-form-label",children:"Asunto:"}),h.jsx("input",{type:"text",name:"subject",className:"form-control",id:"asunto",required:!0})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"texto-consulta",className:"col-form-label",children:"Consulta:"}),h.jsx("textarea",{className:"form-control",name:"message",id:"texto-consulta",required:!0})]})]})})},I6=({referenciaForm:t,onSubmit:e})=>h.jsx(h.Fragment,{children:h.jsxs("form",{ref:t,id:"modal-details",onSubmit:e,children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"nombre",className:"col-form-label",children:"Nombre:"}),h.jsx("input",{type:"text",name:"from_name",className:"form-control",id:"nombre",required:!0}),h.jsx("label",{htmlFor:"correoUsuario",className:"col-form-label",children:"Correo electrónico:"}),h.jsx("input",{type:"email",name:"user_email",className:"form-control",id:"correoUsuario",placeholder:"Ej: usuario@email.com",required:!0}),h.jsx("label",{htmlFor:"asunto",className:"col-form-label",children:"Asunto:"}),h.jsx("input",{type:"text",name:"subject",className:"form-control",id:"asunto",required:!0})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"texto-consulta",className:"col-form-label",children:"Consulta:"}),h.jsx("textarea",{className:"form-control",name:"message",id:"texto-consulta",required:!0})]})]})}),C6=()=>{const t=w.useRef(),e=we(l=>l.auth.loggedIn),[n,r]=w.useState(""),i=async l=>{l.preventDefault(),await S6({referenciaForm:t})&&(r("Su consulta ha sido enviada con éxito."),setTimeout(()=>{r(""),o(),s()},2e3))},s=()=>{const l=document.getElementById("ModalSentEmail"),a=bootstrap.Modal.getInstance(l);a&&a.hide()},o=()=>{t.current.reset()};return h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm ","data-bs-toggle":"modal","data-bs-target":"#ModalSentEmail",children:"Contáctenos"}),h.jsx("div",{className:"modal fade",id:"ModalSentEmail",tabIndex:-1,"aria-labelledby":"contactenosModalLabel","aria-hidden":"true",children:h.jsxs("div",{className:"modal-dialog modal-lg",children:[n&&h.jsx("div",{className:"alert alert-success mt-2",children:n}),h.jsxs("div",{className:"modal-content",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h1",{className:"modal-title fs-5",id:"contactenosModalLabel",children:" Contáctenos"}),h.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),h.jsxs("div",{className:"modal-body",children:[!e&&h.jsx(I6,{referenciaForm:t,onSubmit:i}),e&&h.jsx(T6,{referenciaForm:t,onSubmit:i})]}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:o,children:"Cerrar"}),h.jsx("button",{type:"submit",className:"btn btn-primary",form:"modal-details",children:"Enviar"})]})]})]})})]})},R6=()=>{const t=we(r=>r.empresa.dataEmpresa),[e,n]=w.useState("");return w.useEffect(()=>{(async()=>{const r=Xd(Ah,"Empresa/RedesSociales/Facebook/icono_facebook.svg");Yd(r).then(i=>{n(i)}).catch(i=>{console.error("Error descargando el logo:",i)})})()},[]),h.jsx("div",{className:"footer-container",children:h.jsxs("footer",{className:"text-center text-lg-start bg-body-tertiary text-muted footer-ancho footer-container",children:[h.jsxs("section",{className:"d-flex justify-content-center justify-content-lg-between p-4 text-dark border-botton redes-estilo",children:[h.jsx("div",{className:"me-5 d-none d-lg-block",children:h.jsx("span",{children:"Mantente conectado con nosotros por redes sociales"})}),h.jsx("div",{children:h.jsx("a",{href:t==null?void 0:t.facebookUrl,className:"me-4 text-reset",children:h.jsx("img",{className:"facebook",src:e,alt:"Facebook",width:"40",height:"35"})})})]}),h.jsx("section",{className:"",children:h.jsx("div",{className:"container text-center text-md-start mt-5",children:h.jsxs("div",{className:"row mt-3",children:[h.jsxs("div",{className:"col-md-3 col-lg-4 col-xl-3 mx-auto mb-4",children:[h.jsxs("h6",{className:"text-uppercase fw-bold mb-4",children:[h.jsx("i",{className:"fas fa-gem me-3"}),t==null?void 0:t.titulo_footer]}),h.jsx("p",{children:t==null?void 0:t.subtitulo_footer})]}),h.jsxs("div",{className:"col-lg-3 col-md-6 mb-4",children:[h.jsx("h6",{className:"text-uppercase fw-bold mb-4",children:"Horario"}),h.jsx("p",{className:"mb-1",children:`Lunes: ${t==null?void 0:t.horarios[0]}`}),h.jsx("p",{className:"mb-1",children:`Martes: ${t==null?void 0:t.horarios[1]}`}),h.jsx("p",{className:"mb-1",children:`Miércoles: ${t==null?void 0:t.horarios[2]}`}),h.jsx("p",{className:"mb-1",children:`Jueves: ${t==null?void 0:t.horarios[3]}`}),h.jsx("p",{className:"mb-1",children:`Viernes: ${t==null?void 0:t.horarios[4]}`}),h.jsx("p",{className:"mb-1",children:`Sábado: ${t==null?void 0:t.horarios[5]}`}),h.jsx("p",{className:"mb-1",children:`Domingo: ${t==null?void 0:t.horarios[6]}`})]}),h.jsxs("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4",children:[h.jsx("h6",{className:"text-uppercase fw-bold mb-4",children:"Contacto"}),h.jsxs("p",{children:[h.jsx("i",{className:"fas fa-home me-3"})," ",t==null?void 0:t.direccionCorta]}),h.jsxs("p",{children:[h.jsx("i",{className:"fas fa-envelope me-3"})," ",t==null?void 0:t.correo]}),h.jsxs("p",{children:[h.jsx("i",{className:"fas fa-phone me-3"})," ",t==null?void 0:t.telefonos[0]]}),h.jsxs("p",{children:[h.jsx("i",{className:"fa-brands fa-whatsapp me-3"})," ",t==null?void 0:t.telefonos[1]]}),h.jsx(C6,{})]})]})})}),h.jsxs("div",{className:"copyright-estilo",children:["© 2024 Copyright:",h.jsx("a",{className:"text-reset enlace-sin-subrayado fw-bold",children:"CANtonal.com"})," "]})]})})},x6=({children:t})=>{const[e,n]=w.useState(!1),r=gi();return w.useEffect(()=>{setTimeout(()=>{n(!0)},1500),r(DF()),r(ex())},[setTimeout,n]),h.jsxs(h.Fragment,{children:[h.jsx(l6,{}),t,e&&h.jsx(R6,{})]})};function b6(){return h.jsx(aU,{children:h.jsx(x6,{children:h.jsx(a6,{})})})}eT(document.getElementById("root")).render(h.jsx(H.StrictMode,{children:h.jsx(xk,{store:ix,children:h.jsx(oT,{persistor:d3,children:h.jsx(b6,{})})})}));
